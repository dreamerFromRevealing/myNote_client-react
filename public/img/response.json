[
    {
      "id": "e1a7bb0f-2f75-4b2b-bcdd-afbbde9128ed",
      "emoji": null,
      "title": "Получить одно поле",
      "content": "",
      "headId": 1558974,
      "archivedAt": null,
      "folderPathname": "/DatoCMS/Поля",
      "parentFolderId": "22f60f22-d084-4786-9b11-dd65eac7421b",
      "teamId": "nhFMY3a5g",
      "generated": false,
      "createdAt": "2021-11-22T14:11:50.486Z",
      "updatedAt": "2021-11-22T14:13:05.808Z",
      "version": 2,
      "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
      "workspaceId": "4ae225f9-123d-4918-a49f-e0c91bd0b18a",
      "head": {
        "id": 1558974,
        "docId": "e1a7bb0f-2f75-4b2b-bcdd-afbbde9128ed",
        "content": "Пример кода \n\n``` js\nconst SiteClient = require('datocms-client').SiteClient;\nconst client = new SiteClient('YOUR-API-TOKEN');\nconst fieldIdOrApiKey = 'blog_post::title';\nclient.field.find(fieldIdOrApiKey)\n.then((field) => {\n  console.log(field);\n})\n.catch((error) => {\n  console.error(error);\n});\n\n```\n\n``` json\n{\n  \"id\": \"124\",\n  \"label\": \"Title\",\n  \"fieldType\": \"string\",\n  \"localized\": true,\n  \"defaultValue\": {\n    \"en\": \"A default value\",\n    \"it\": \"Un valore di default\"\n  },\n  \"apiKey\": \"title\",\n  \"hint\": \"This field will be used as post title\",\n  \"validators\": {\n    \"required\": {}\n  },\n  \"appearance\": {\n    \"editor\": \"single_line\",\n    \"parameters\": {\n      \"heading\": false\n    },\n    \"addons\": [\n      {\n        \"id\": \"1234\",\n        \"parameters\": {}\n      }\n    ]\n  },\n  \"position\": 1,\n  \"itemType\": \"44\",\n  \"fieldset\": null\n}\n```",
        "message": "",
        "created": "2021-11-22T14:13:05.797Z",
        "creators": [
          {
            "id": "b0568c88-bb34-4420-969e-41238089a0d4",
            "uniqueName": "google#113467622262670857280",
            "displayName": "Alexander Matviienko",
            "createdAt": "2021-05-10T19:50:11.968Z",
            "updatedAt": "2021-05-10T19:50:31.732Z"
          }
        ]
      }
    },
    {
      "id": "213d3881-96c5-4e02-a725-422999be16ae",
      "emoji": null,
      "title": "Получить все поля",
      "content": "",
      "headId": 1558964,
      "archivedAt": null,
      "folderPathname": "/DatoCMS/Поля",
      "parentFolderId": "22f60f22-d084-4786-9b11-dd65eac7421b",
      "teamId": "nhFMY3a5g",
      "generated": false,
      "createdAt": "2021-11-22T14:10:35.059Z",
      "updatedAt": "2021-11-22T14:11:53.357Z",
      "version": 2,
      "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
      "workspaceId": "4ae225f9-123d-4918-a49f-e0c91bd0b18a",
      "head": {
        "id": 1558964,
        "docId": "213d3881-96c5-4e02-a725-422999be16ae",
        "content": "Возвращает массив объектов поля .\n\nПример кода \n\n``` js\nconst SiteClient = require('datocms-client').SiteClient;\nconst client = new SiteClient('YOUR-API-TOKEN');\nconst modelIdOrApiKey = 'blog_post';\nclient.fields.all(modelIdOrApiKey)\n.then((fields) => {\n    fields.forEach((field) => {\n      console.log(field);\n    });\n  })\n.catch((error) => {\n  console.error(error);\n});\n\n```\n\nВозвращает \n\n``` json\n{\n  \"id\": \"124\",\n  \"label\": \"Title\",\n  \"fieldType\": \"string\",\n  \"localized\": true,\n  \"defaultValue\": {\n    \"en\": \"A default value\",\n    \"it\": \"Un valore di default\"\n  },\n  \"apiKey\": \"title\",\n  \"hint\": \"This field will be used as post title\",\n  \"validators\": {\n    \"required\": {}\n  },\n  \"appearance\": {\n    \"editor\": \"single_line\",\n    \"parameters\": {\n      \"heading\": false\n    },\n    \"addons\": [\n      {\n        \"id\": \"1234\",\n        \"parameters\": {}\n      }\n    ]\n  },\n  \"position\": 1,\n  \"itemType\": \"44\",\n  \"fieldset\": null\n}\n```",
        "message": "",
        "created": "2021-11-22T14:11:53.336Z",
        "creators": [
          {
            "id": "b0568c88-bb34-4420-969e-41238089a0d4",
            "uniqueName": "google#113467622262670857280",
            "displayName": "Alexander Matviienko",
            "createdAt": "2021-05-10T19:50:11.968Z",
            "updatedAt": "2021-05-10T19:50:31.732Z"
          }
        ]
      }
    },
    {
      "id": "0b684ca1-a0a9-4bf1-a266-6aeb98c14732",
      "emoji": null,
      "title": "Поля",
      "content": "",
      "headId": 1558956,
      "archivedAt": null,
      "folderPathname": "/DatoCMS/Поля",
      "parentFolderId": "22f60f22-d084-4786-9b11-dd65eac7421b",
      "teamId": "nhFMY3a5g",
      "generated": false,
      "createdAt": "2021-11-22T14:09:33.491Z",
      "updatedAt": "2021-11-22T14:10:34.339Z",
      "version": 2,
      "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
      "workspaceId": "4ae225f9-123d-4918-a49f-e0c91bd0b18a",
      "head": {
        "id": 1558956,
        "docId": "0b684ca1-a0a9-4bf1-a266-6aeb98c14732",
        "content": "Каждая модель состоит из набора полей. Использование в метафоре базы данных, поля как столбцы таблицы, и при их создании необходимо указать их тип ( string, file, floatи т.д.) и любую необходимую проверку.",
        "message": "",
        "created": "2021-11-22T14:10:34.315Z",
        "creators": [
          {
            "id": "b0568c88-bb34-4420-969e-41238089a0d4",
            "uniqueName": "google#113467622262670857280",
            "displayName": "Alexander Matviienko",
            "createdAt": "2021-05-10T19:50:11.968Z",
            "updatedAt": "2021-05-10T19:50:31.732Z"
          }
        ]
      }
    },
    {
      "id": "3cee762d-313e-43a5-ae10-2bee9193d008",
      "emoji": null,
      "title": "Получить одну модель",
      "content": "",
      "headId": 1558941,
      "archivedAt": null,
      "folderPathname": "/DatoCMS/Модели",
      "parentFolderId": "564f5378-39fc-4711-8cc5-d8328d997a2d",
      "teamId": "nhFMY3a5g",
      "generated": false,
      "createdAt": "2021-11-22T14:07:52.393Z",
      "updatedAt": "2021-11-22T14:09:29.862Z",
      "version": 2,
      "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
      "workspaceId": "4ae225f9-123d-4918-a49f-e0c91bd0b18a",
      "head": {
        "id": 1558941,
        "docId": "3cee762d-313e-43a5-ae10-2bee9193d008",
        "content": "Пример кода \n\n``` js\nconst SiteClient = require('datocms-client').SiteClient;\nconst client = new SiteClient('YOUR-API-TOKEN');\nconst modelIdOrApiKey = 'blog_post';\nclient.itemType.find(modelIdOrApiKey)\n.then((itemType) => {\n  console.log(itemType);\n})\n.catch((error) => {\n  console.error(error);\n});\n\n```\n\nВозвращает \n\n``` json\n{\n  \"id\": \"44\",\n  \"name\": \"Blog post\",\n  \"apiKey\": \"post\",\n  \"collectionAppearance\": \"compact\",\n  \"singleton\": false,\n  \"allLocalesRequired\": false,\n  \"sortable\": true,\n  \"modularBlock\": false,\n  \"draftModeActive\": false,\n  \"tree\": false,\n  \"orderingDirection\": null,\n  \"orderingMeta\": \"created_at\",\n  \"hasSingletonItem\": false,\n  \"hint\": \"Blog posts will be shown in our website under the Blog section\",\n  \"singletonItem\": null,\n  \"fields\": [\n    \"124\"\n  ],\n  \"titleField\": null,\n  \"orderingField\": null,\n  \"workflow\": null\n}\n```",
        "message": "",
        "created": "2021-11-22T14:09:29.854Z",
        "creators": [
          {
            "id": "b0568c88-bb34-4420-969e-41238089a0d4",
            "uniqueName": "google#113467622262670857280",
            "displayName": "Alexander Matviienko",
            "createdAt": "2021-05-10T19:50:11.968Z",
            "updatedAt": "2021-05-10T19:50:31.732Z"
          }
        ]
      }
    },
    {
      "id": "aafe158c-a8eb-4d8a-8ada-f24547076641",
      "emoji": null,
      "title": "Получить одну запись",
      "content": "",
      "headId": 1558931,
      "archivedAt": null,
      "folderPathname": "/DatoCMS/Записи",
      "parentFolderId": "53097202-17bf-45fb-a544-29dbe00d16ef",
      "teamId": "nhFMY3a5g",
      "generated": false,
      "createdAt": "2021-11-22T14:03:15.155Z",
      "updatedAt": "2021-11-22T14:07:55.783Z",
      "version": 3,
      "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
      "workspaceId": "4ae225f9-123d-4918-a49f-e0c91bd0b18a",
      "head": {
        "id": 1558931,
        "docId": "aafe158c-a8eb-4d8a-8ada-f24547076641",
        "content": "# Параметры запроса\n- __nested__ - Для полей модульного содержимого и полей структурированного текста. Если установлено, возвращает полную полезную нагрузку для вложенных блоков вместо идентификаторов.\n- __version__ - Позволяет указать какую версию контента получить: published по умолчанию или current\n\nПример кода \n\n``` js\nconst SiteClient = require('datocms-client').SiteClient;\nconst client = new SiteClient('YOUR-API-TOKEN');\nconst itemId = '4235';\nclient.item.find(itemId, {\n  nested: 'true',\n  version: 'published'\n})\n.then((item) => {\n  console.log(item);\n})\n.catch((error) => {\n  console.error(error);\n});\n\n```\n\nВозвращает \n\n``` json\n{\n  \"id\": \"4235\",\n  \"title\": \"My first blog post!\",\n  \"content\": \"Lorem ipsum dolor sit amet...\",\n  \"category\": \"24\",\n  \"image\": {\n    \"alt\": \"Alt text\",\n    \"title\": \"Image title\",\n    \"customData\": {},\n    \"focalPoint\": null,\n    \"uploadId\": \"20042921\"\n  },\n  \"meta\": {\n    \"created_at\": \"2020-04-21T07:57:11.124Z\",\n    \"updated_at\": \"2020-04-21T07:57:11.124Z\",\n    \"published_at\": \"2020-04-21T07:57:11.124Z\",\n    \"first_published_at\": \"2020-04-21T07:57:11.124Z\",\n    \"publication_scheduled_at\": \"2020-04-21T07:57:11.124Z\",\n    \"unpublishing_scheduled_at\": \"2020-04-21T07:57:11.124Z\",\n    \"status\": \"draft\",\n    \"is_valid\": true,\n    \"current_version\": \"4234\",\n    \"stage\": \"\"\n  },\n  \"itemType\": \"44\",\n  \"creator\": \"312\"\n}\n```",
        "message": "",
        "created": "2021-11-22T14:07:55.775Z",
        "creators": [
          {
            "id": "b0568c88-bb34-4420-969e-41238089a0d4",
            "uniqueName": "google#113467622262670857280",
            "displayName": "Alexander Matviienko",
            "createdAt": "2021-05-10T19:50:11.968Z",
            "updatedAt": "2021-05-10T19:50:31.732Z"
          }
        ]
      }
    },
    {
      "id": "25c153d4-cdc9-4127-a18f-ade226bdea07",
      "emoji": null,
      "title": "Получить все модели",
      "content": "",
      "headId": null,
      "archivedAt": null,
      "folderPathname": "/DatoCMS/Модели",
      "parentFolderId": "564f5378-39fc-4711-8cc5-d8328d997a2d",
      "teamId": "nhFMY3a5g",
      "generated": false,
      "createdAt": "2021-11-22T13:20:06.478Z",
      "updatedAt": "2021-11-22T13:20:06.478Z",
      "version": 1,
      "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
      "workspaceId": "4ae225f9-123d-4918-a49f-e0c91bd0b18a",
      "head": null
    },
    {
      "id": "67f0d96d-ffec-43d3-9379-fa9b5afb2748",
      "emoji": null,
      "title": "Модели",
      "content": "",
      "headId": 1558718,
      "archivedAt": null,
      "folderPathname": "/DatoCMS/Модели",
      "parentFolderId": "564f5378-39fc-4711-8cc5-d8328d997a2d",
      "teamId": "nhFMY3a5g",
      "generated": false,
      "createdAt": "2021-11-22T13:06:37.272Z",
      "updatedAt": "2021-11-22T13:07:34.996Z",
      "version": 2,
      "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
      "workspaceId": "4ae225f9-123d-4918-a49f-e0c91bd0b18a",
      "head": {
        "id": 1558718,
        "docId": "67f0d96d-ffec-43d3-9379-fa9b5afb2748",
        "content": "Если записи это строки в таблице DatoCMS то модели это таблицы.",
        "message": "",
        "created": "2021-11-22T13:07:34.967Z",
        "creators": [
          {
            "id": "b0568c88-bb34-4420-969e-41238089a0d4",
            "uniqueName": "google#113467622262670857280",
            "displayName": "Alexander Matviienko",
            "createdAt": "2021-05-10T19:50:11.968Z",
            "updatedAt": "2021-05-10T19:50:31.732Z"
          }
        ]
      }
    },
    {
      "id": "e16a6fb1-84a0-452b-8ea1-0e478a447366",
      "emoji": null,
      "title": "Записи",
      "content": "",
      "headId": 1558631,
      "archivedAt": null,
      "folderPathname": "/DatoCMS/Записи",
      "parentFolderId": "53097202-17bf-45fb-a544-29dbe00d16ef",
      "teamId": "nhFMY3a5g",
      "generated": false,
      "createdAt": "2021-11-22T12:48:14.623Z",
      "updatedAt": "2021-11-22T12:48:22.264Z",
      "version": 2,
      "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
      "workspaceId": "4ae225f9-123d-4918-a49f-e0c91bd0b18a",
      "head": {
        "id": 1558631,
        "docId": "e16a6fb1-84a0-452b-8ea1-0e478a447366",
        "content": "DatoCMS хранит отдельные фрагменты контента, которые вы создаете из модели, в виде записей, которые очень похожи на строки таблицы в базе данных. По причинам обратной совместимости API называет записи «элементами».",
        "message": "",
        "created": "2021-11-22T12:48:22.254Z",
        "creators": [
          {
            "id": "b0568c88-bb34-4420-969e-41238089a0d4",
            "uniqueName": "google#113467622262670857280",
            "displayName": "Alexander Matviienko",
            "createdAt": "2021-05-10T19:50:11.968Z",
            "updatedAt": "2021-05-10T19:50:31.732Z"
          }
        ]
      }
    },
    {
      "id": "ef622071-87bb-4256-8a3c-7eec68351bcb",
      "emoji": null,
      "title": "Получить все записи",
      "content": "",
      "headId": 1558677,
      "archivedAt": null,
      "folderPathname": "/DatoCMS/Записи",
      "parentFolderId": "53097202-17bf-45fb-a544-29dbe00d16ef",
      "teamId": "nhFMY3a5g",
      "generated": false,
      "createdAt": "2021-11-22T11:53:57.575Z",
      "updatedAt": "2021-11-22T13:00:58.558Z",
      "version": 13,
      "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
      "workspaceId": "4ae225f9-123d-4918-a49f-e0c91bd0b18a",
      "head": {
        "id": 1558677,
        "docId": "ef622071-87bb-4256-8a3c-7eec68351bcb",
        "content": "Что бы получить все записи нам нужен метод __all()__. Который имеет следующие параметры запроса. \n\n- __nested__ - Для полей модульного содержимого и полей структурированного текста. Если установлено, возвращает полную полезную нагрузку для вложенных блоков вместо идентификаторов. _Пока не совсем понял как оно работает_.\n- __filter__ - Это объект который принимает в себя различные критерие фильтрации такие как:\n  - __ids__ - Поиск по диапазону id-шников котрый указываеться через запятую,  Если вы используете этот фильтр, вы не должны использовать __filter[type]__ или __filter[fields]__.\n  - __type__ - Поиск по __idModels__ или __api_key__. Если вы используете этот фильтр, вы не должны использовать __filter[ids]__. Допускаются значения, разделенные запятыми, но в этом случае использовать их нельзя __filter[fields]__.\n  - __query__ - Задав строку в это свойство клиент будет искать любые соответсвия даннной строке по БД. Вы не должны использовать filter[ids]. Если locale определено, клиент ищит в пределах этого языкового стандарта. В противном случае будет использоваться основной языковой стандарт среды.\n  - __fields__ - Позволяет искать по значению конкретного поля. Используйте snake_case для имен полей. Если locale определено, ищите в пределах этого языкового стандарта. В противном случае будет использоваться основной языковой стандарт среды.\n- __locale__ - Определяет язык для фильтрации \n- __page__ - Свойство для управления пагинацией результатов. Содержит в себе следующие свойства:\n  - __offset__ - Индекс первой записи для выборки. По умолчанию: 0\n  - __limit__ - Количество записей для выборки. Максимум 500 на страницу, по умолчанию 30.\n- __orderBy__ - Свойство для упорядочивания результатов. Требует также если используете filter[type] можно указать только с один элемент. Формат: <имя_поля> _ <НАПРАВЛЕНИЕ (ASC | DESC)>. Вы можете передать несколько правил, разделенных запятыми.\n- __version__ - Тут указывать какую версию данных получить published, по умлчанию или current\n\n# Получение записей по id\n\n> Добавьте, __allPages__ чтобы автоматически разбить запрос на страницы и получить все записи.\n\nПример кода \n\n``` js\nconst { SiteClient } = require(\"datocms-client\");\nconst client = new SiteClient(\"YOUR-API-TOKEN\");\nasync function getFilteredRecords() {\n  const records = await client.items.all(\n    {\n      filter: {\n        ids: \"123,567\",\n      },\n    },\n    {\n      allPages: true,\n    }\n  );\n  console.log(records);\n}\ngetFilteredRecords();\n```\n\nВозвращаемое значение\n\n``` json\n[\n  {\n    id: '123',\n    name: 'Gigio',\n    updatedAt: '2021-07-14T15:46:32.276+02:00',\n    createdAt: '2021-07-14T15:33:03.065+02:00',\n    meta: { ... },\n    itemType: '1234', // `dog` model\n    creator: { id: '777', type: 'account' }\n  },\n  {\n    id: '567',\n    name: 'Felix',\n    updatedAt: '2021-07-14T15:46:32.252+02:00',\n    createdAt: '2021-07-14T15:46:32.249+02:00',\n    meta: { ... },\n    itemType: '5678', // `cat` model\n    creator: { id: '777', type: 'account' }\n  },\n  ...\n]\n```\n\n# Получение отфильтрованного списка записей по полям модели\nВы можете получить разбитый на страницы список записей, отфильтрованных по набору условий для полей. Для каждого поля есть разные варианты, и вы можете комбинировать несколько фильтров вместе.\n\n> filter[type] должно содержать только одно значение.\n\nВ этом примере мы выполняем фильтрацию по однострочному строковому полю и по полю даты.\n\nПример кода \n\n``` js\nconst { SiteClient } = require(\"datocms-client\");\nconst client = new SiteClient(\"YOUR-API-TOKEN\");\nasync function getFilteredRecords() {\n  const records = await client.items.all({\n    filter: {\n      type: \"dog\",\n      fields: {\n        name: {\n          eq: \"Gigio\",\n        },\n        _updated_at: {\n          gt: \"2020-04-18T00:00:00\",\n        },\n      },\n    },\n  });\n  console.log(records);\n}\n\ngetFilteredRecords();\n```\n\nВозвращаемое значение\n\n``` json\n[\n  {\n    id: \"4579273\",\n    name: \"Gigio\",\n    picture: {\n      uploadId: \"1642386\",\n      alt: null,\n      title: null,\n      focalPoint: { x: 0.5, y: 0.5 },\n      customData: {},\n    },\n    description: [],\n    breed: \"Labrador\",\n    age: 4,\n    height: 50.5,\n    dateOfBirth: \"2020-04-17T17:25:00+01:00\",\n    available: true,\n    location: { latitude: 45.0703393, longitude: 7.686864 },\n    color: { red: 239, blue: 156, alpha: 255, green: 208 },\n    json: '{\"additionalData\": \"1234\"}',\n    friends: [\"4572300\", \"4572298\", \"4572297\", \"4572180\", \"4572128\"],\n    updatedAt: \"2020-04-20T11:06:29.130+01:00\",\n    createdAt: \"2020-04-20T11:06:29.126+01:00\",\n    meta: { ... },\n    itemType: \"1234\",\n    creator: { id: \"322\", type: \"access_token\" },\n  },\n];\n\n```\n\n# Получение записей с помощью текстового универсального запроса\nВы можете получить список записей, отфильтрованных по текстовому запросу. Он также будет искать в записях блоков. Вы можете сузить область поиска по некоторым моделям, указав атрибут field [type] использовав либо api_key модели, либо идентификатор модели. Допускается несколько значений, разделенных запятыми. Вы должны указать атрибут locale. По умолчанию будет использоваться основной языковой стандарт среды. Возвращенные записи отсортированы по рангу.\n\nПример кода \n\n``` js\nconst { SiteClient } = require(\"datocms-client\");\nconst client = new SiteClient(\"YOUR-API-TOKEN\");\nasync function getFilteredRecords() {\n  const records = await client.items.all({\n    filter: {\n      type: \"article,blog_post\", // optional, if defined, search in the specified models only\n      query: \"egyptian museum\",\n    },\n    locale: \"en\",\n    order_by: \"_rank_DESC\", // possible values: `_rank_DESC` (default) | `_rank_ASC`\n  });\n  console.log(records);\n}\ngetFilteredRecords();\n\n```\n\nВозвращаемое значение\n\n``` json\n[\n  {\n    id: '59707172',\n    title: { en: 'Egyptian Museum of Torino' },\n    content: { en: 'A must see museum!' },\n    updatedAt: '2021-10-18T11:39:18.282+02:00',\n    createdAt: '2021-10-18T11:30:46.765+02:00',\n    position: 1,\n    parentId: null,\n    meta: { ... },\n    itemType: '210943',\n    creator: { id: '14379', type: 'account' }\n  },\n  {\n    id: '59707173',\n    title: { en: '10 things to do in Torino' },\n    content: { en: '- Visit the egyptian museum\\n- ...' },\n    updatedAt: '2021-10-18T11:39:38.123+02:00',\n    createdAt: '2021-10-18T11:32:07.576+02:00',\n    meta: { ... },\n    itemType: '1195677',\n    creator: { id: '14379', type: 'account' }\n  }\n]\n\n```\n\n# Другой пример и получение всех страниц (nested)\n\nПример кода \n\n``` js\nconst SiteClient = require('datocms-client').SiteClient;\nconst client = new SiteClient('YOUR-API-TOKEN');\nclient.items.all({\n  nested: 'true',\n  filter: {\n    ids: '12,31',\n    type: '44',\n    query: 'foo',\n    fields: {\n      name: {\n        eq: 'Gigio'\n      }\n    }\n  },\n  locale: 'it',\n  page: {\n    offset: 200,\n    limit: 100\n  },\n  order_by: 'name_DESC',\n  version: 'current'\n})\n.then((items) => {\n    items.forEach((item) => {\n      console.log(item);\n    });\n  })\n.catch((error) => {\n  console.error(error);\n});\n// if you want to fetch all the pages with just one call:\nclient.items.all({\n  nested: 'true',\n  filter: {\n    ids: '12,31',\n    type: '44',\n    query: 'foo',\n    fields: {\n      name: {\n        eq: 'Gigio'\n      }\n    }\n  },\n  locale: 'it',\n  order_by: 'name_DESC',\n  version: 'current'\n}, {\n  allPages: true\n})\n.then((items) => {\n    items.forEach((item) => {\n      console.log(item);\n    });\n  })\n\n```\n\nВозвращаемое значение\n\n``` json\n{\n  \"id\": \"4235\",\n  \"title\": \"My first blog post!\",\n  \"content\": \"Lorem ipsum dolor sit amet...\",\n  \"category\": \"24\",\n  \"image\": {\n    \"alt\": \"Alt text\",\n    \"title\": \"Image title\",\n    \"customData\": {},\n    \"focalPoint\": null,\n    \"uploadId\": \"20042921\"\n  },\n  \"meta\": {\n    \"created_at\": \"2020-04-21T07:57:11.124Z\",\n    \"updated_at\": \"2020-04-21T07:57:11.124Z\",\n    \"published_at\": \"2020-04-21T07:57:11.124Z\",\n    \"first_published_at\": \"2020-04-21T07:57:11.124Z\",\n    \"publication_scheduled_at\": \"2020-04-21T07:57:11.124Z\",\n    \"unpublishing_scheduled_at\": \"2020-04-21T07:57:11.124Z\",\n    \"status\": \"draft\",\n    \"is_valid\": true,\n    \"current_version\": \"4234\",\n    \"stage\": \"\"\n  },\n  \"itemType\": \"44\",\n  \"creator\": \"312\"\n}\n```\n",
        "message": "",
        "created": "2021-11-22T13:00:58.537Z",
        "creators": [
          {
            "id": "b0568c88-bb34-4420-969e-41238089a0d4",
            "uniqueName": "google#113467622262670857280",
            "displayName": "Alexander Matviienko",
            "createdAt": "2021-05-10T19:50:11.968Z",
            "updatedAt": "2021-05-10T19:50:31.732Z"
          }
        ]
      }
    },
    {
      "id": "7493576d-db56-431d-97ed-d5ba41657362",
      "emoji": null,
      "title": "Инициализация",
      "content": "",
      "headId": 1558348,
      "archivedAt": null,
      "folderPathname": "/DatoCMS",
      "parentFolderId": "eb22223a-df04-44f4-9bb0-726eae2c014b",
      "teamId": "nhFMY3a5g",
      "generated": false,
      "createdAt": "2021-11-22T11:44:33.399Z",
      "updatedAt": "2021-11-22T11:51:18.492Z",
      "version": 3,
      "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
      "workspaceId": "4ae225f9-123d-4918-a49f-e0c91bd0b18a",
      "head": {
        "id": 1558348,
        "docId": "7493576d-db56-431d-97ed-d5ba41657362",
        "content": "1. Установка\n\n``` \nnpm install --save-dev datocms-client\n```\n\n2. Инициализация клиента \n\n``` js\nconst client = new SiteClient(\n  'YOUR_API_READWRITE_TOKEN', \n  { environment: 'my-sandbox' },\n);\n```",
        "message": "",
        "created": "2021-11-22T11:51:18.482Z",
        "creators": [
          {
            "id": "b0568c88-bb34-4420-969e-41238089a0d4",
            "uniqueName": "google#113467622262670857280",
            "displayName": "Alexander Matviienko",
            "createdAt": "2021-05-10T19:50:11.968Z",
            "updatedAt": "2021-05-10T19:50:31.732Z"
          }
        ]
      }
    },
    {
      "id": "6efe6788-e5a7-4e24-bce8-67089f0ca15b",
      "emoji": null,
      "title": "Докеризация",
      "content": "",
      "headId": 1552374,
      "archivedAt": null,
      "folderPathname": "/Nest-Prisma-template",
      "parentFolderId": "966441c0-7a90-453f-b559-c3b723c275c6",
      "teamId": "nhFMY3a5g",
      "generated": false,
      "createdAt": "2021-11-20T15:48:48.159Z",
      "updatedAt": "2021-11-20T16:04:55.561Z",
      "version": 3,
      "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
      "workspaceId": "4ae225f9-123d-4918-a49f-e0c91bd0b18a",
      "head": {
        "id": 1552374,
        "docId": "6efe6788-e5a7-4e24-bce8-67089f0ca15b",
        "content": "Docker 🐳 позволяет создавать согласованные контейнеры приложений для сред разработки, тестирования и производства. В этом посте вы докеризуете приложение NestJS 😸 с Prisma, подключающимся к базе данных PostgreSQL 🐘.\n\n\nСоздайте Dockerfileв корне вашего приложения Nest\n```\ntouch Dockerfile\n```\n\n``` Dockerfile\nFROM node:14 AS builder\n\n# Create app directory\nWORKDIR /app\n\n# A wildcard is used to ensure both package.json AND package-lock.json are copied\nCOPY package*.json ./\nCOPY prisma ./prisma/\n\n# Install app dependencies\nRUN npm install\n\nCOPY . .\n\nRUN npm run build\n\nFROM node:14\n\nCOPY --from=builder /app/node_modules ./node_modules\nCOPY --from=builder /app/package*.json ./\nCOPY --from=builder /app/dist ./dist\n\nEXPOSE 3000\nCMD [ \"npm\", \"run\", \"start:prod\" ]\n\n```\n\nНо подождите ... что происходит в __Dockerfile__ 🤔❓ См. Разбивку по каждому шагу ниже.\n\nНе забудьте создать __.dockerignore__ файл рядом с вашим Dockerfile:\n``` .dockerignore\nnode_modules\nnpm-debug.log\n```\n\nКоманда __COPY__ игнорирует эти локальные файлы и папки и не копирует их в образ Docker, чтобы предотвратить перезапись установленных модулей в образе.\n\n``` Dockerfile\nFROM node:14 AS builder\n```\n\nПервая строка указывает Docker использовать последнюю версию LTS14 в node качестве базового образа для сборки контейнера. Чтобы оптимизировать размер образа контейнера, вы используете многоступенчатую сборку и назначаете имя вашему базовому образу AS builder.\n\n ## Рабочий каталог\n ``` Dockerfile\n# Create app directory\nWORKDIR /app\n```\n\nСоздайте рабочий каталог для вашего приложения, в котором хранится ваш код. Все команды ( RUN, COPY) выполняются внутри этого каталога.\n\n ## Установка\n  ``` Dockerfile\n# A wildcard is used to ensure both package.json AND package-lock.json are copied\nCOPY package*.json ./\nCOPY prisma ./prisma/\n\n# Install app dependencies\nRUN npm install\n\n```\n\nЗатем вам нужно установить зависимости вашего приложения внутри образа Docker. __package.json__ и __package-lock.json__ копируются. Для создания __Prisma Client__ требуется __schema.prisma__ файл. ```COPY prisma ./prisma/``` копирует весь __prisma__ каталог на случай, если вам также понадобятся миграции.\n\nУстановите все зависимости ```RUN npm install```(также для разработчиков). Это позволяет вам создавать приложение Nest внутри образа Docker. Prisma Client создается сразу после того, как он определяет свой собственный обработчик.\n\n## Создать приложение\n\n``` Dockerfile\nCOPY . .\n\nRUN npm run build\n\n```\n\nЧтобы создать приложение __Nest__, скопируйте все исходные файлы (исключения в .dockerignore) в образ Docker. Пришло время создать ваше приложение ```RUN npm run build```.\n\n##  Запустите приложение\n\n```Dockerfile\nFROM node:14\n\n```\n\nВторой __FROM__ - это второй этап многоэтапной сборки, который используется для запуска вашего приложения.\n\n```Dockerfile\nCOPY --from=builder /app/node_modules ./node_modules\nCOPY --from=builder /app/package*.json ./\nCOPY --from=builder /app/dist ./dist\n\n```\n\nКопирование из ваших __builder__ изображений только файлы и папки , необходимые для запуска приложения Nest.\n\n```Dockerfile\nEXPOSE 3000\nCMD [ \"npm\", \"run\", \"start:prod\" ]\n\n```\n\nПриложения Nest обычно привязываются к порту __3000__ , __EXPOSE__ к тому же порту для вашего образа Docker. Последний шаг - это команда для запуска приложения Nest с использованием CMD.\n\n# Создайте и запустите свой образ\n\n``` bash\n# give your docker image a name\ndocker build -t <your username>/nest-api .\n\n# for example\ndocker build -t nest-api .\n\n```\n\nПосле успешной сборки образа Docker запустите его с помощью этой команды\n\n``` bash\ndocker run -p 3000:3000 --env-file .env -d <your username>/nest-api \n\n```\n\n__Prisma Client__ требует __DATABASE_URL__ переменную среды, которую вы передаете с помощью ```--env-file .env``` флага. Используйте этот __.env__ файл для дополнительных переменных среды (порт, секрет JWT и т. Д.) В корневой папке.\n\nОткройте __localhost:3000__, чтобы убедиться, что ваше приложение Nest работает с Docker.\n\n# Добавить docker-compose с PostgreSQL\n\nDocker Compose позволяет вам определять и запускать несколько контейнеров Docker вместе. Здесь вы настраиваете файл компоновки Docker для приложения Nest и базы данных PostgreSQL.\n\nСоздайте файл набора Docker\n\n``` bash\ntouch docker-compose.yml\n\n```\n\n``` yml\nversion: '3.8'\nservices:\n  nest-api:\n    container_name: nest-api\n    build:\n      context: .\n      dockerfile: Dockerfile\n    ports:\n      - 3000:3000\n    depends_on:\n      - postgres\n    env_file:\n      - .env\n\n  postgres:\n    image: postgres:13\n    container_name: postgres\n    restart: always\n    ports:\n      - 5432:5432\n    env_file:\n      - .env\n    volumes:\n      - postgres:/var/lib/postgresql/data\n\nvolumes:\n  postgres:\n    name: nest-db\n\n```\n\nПервый контейнер __nest-api__ создает образ Docker на основе __Dockerfile__ вашего приложения Nest с помощью Prisma. Второй контейнер - создание базы данных __postgres__ с использованием __postgres__ образа Docker в версии 13. Для множества образов Postgres POSTGRES_USER, POSTGRES_PASSWORD и POSTGRES_DB переменные окружения в корневом .env файле.\n\n``` bash\nPOSTGRES_USER=prisma\nPOSTGRES_PASSWORD=topsecret\nPOSTGRES_DB=food\n\n```\n\nДля подключения к базе данных PostgreSQL Docker образу настройки DATABASE_URL в вашем .env файле. Введите свои значения в формат URL-адреса подключения Postgres.\n\n``` bash\npostgresql://USER:PASSWORD@HOST:PORT/DB?schema=NAME&sslmode=prefer\n\n```\n\nВ этом примере добавьте в .env файл следующую переменную. Это HOST при подключении из другого образа Docker либо имя службы, либо имя контейнера - и то, и другое postgres.\n\n``` bash\nDATABASE_URL=postgresql://prisma:topsecret@postgres:5432/food?schema=food&sslmode=prefer\n\n```\n\nПора 🕙 запустить приложение Nest и образ Postgres Docker. Убедитесь, что порты 3000 и 5432 еще не используются.\n``` bash\ndocker-compose up\n# or detached\ndocker-compose up -d\n```\n\n# Prisma Migrate Docker-контейнер Postgres\nЗамените хост __postgres__ на, __localhost__ если вы хотите выполнять миграции Prisma локально вашего контейнера Postgres Docker. Обновление DATABASE_URL в prisma.env к\n\n``` bash\nDATABASE_URL=postgresql://prisma:topsecret@localhost:5432/food?schema=food&sslmode=prefer\n\n```\n\nТеперь вы можете запустить ```npx prisma migrate save --experimental``` и ```npx prisma migrate save --experimental``` или даже заполнить базу данных, если хотите.\n\nОтлично, теперь расслабьтесь и расслабьтесь 🏝, и пусть Docker сделает всю работу за вас.",
        "message": "",
        "created": "2021-11-20T16:04:55.528Z",
        "creators": [
          {
            "id": "b0568c88-bb34-4420-969e-41238089a0d4",
            "uniqueName": "google#113467622262670857280",
            "displayName": "Alexander Matviienko",
            "createdAt": "2021-05-10T19:50:11.968Z",
            "updatedAt": "2021-05-10T19:50:31.732Z"
          }
        ]
      }
    },
    {
      "id": "4ee01bee-3655-4c54-a01a-f1b27da8211f",
      "emoji": null,
      "title": "DBML генератор схем",
      "content": "",
      "headId": 1552347,
      "archivedAt": null,
      "folderPathname": "/Nest-Prisma-template/Prisama",
      "parentFolderId": "0eec9f0c-a7af-47b7-a9de-d842cf20cb5b",
      "teamId": "nhFMY3a5g",
      "generated": false,
      "createdAt": "2021-11-20T15:42:27.505Z",
      "updatedAt": "2021-11-20T15:45:52.109Z",
      "version": 2,
      "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
      "workspaceId": "4ae225f9-123d-4918-a49f-e0c91bd0b18a",
      "head": {
        "id": 1552347,
        "docId": "4ee01bee-3655-4c54-a01a-f1b27da8211f",
        "content": "Просто установите генератор DBML\n\n``` \nnpm install -D prisma-dbml-generator\n```\n\nДобавьте генератор в свой __schema.prisma__\n\n```\ngenerator dbml {\n  provider = \"prisma-dbml-generator\"\n}\n```\n\nЗапуск __npx prisma generate__ по следующей схеме Prisma\n\n```\nmodel User {\n  id        Int      @id @default(autoincrement())\n  createdAt DateTime @default(now())\n  updatedAt DateTime @updatedAt\n  email     String   @unique\n  name      String?\n  posts     Post[]\n  profile   Profile?\n  /// user role\n  role      Role     @default(USER)\n}\n\n/// User profile\nmodel Profile {\n  id     Int     @default(autoincrement()) @id\n  bio    String?\n  user   User    @relation(fields: [userId], references: [id])\n  userId Int     @unique\n}\n\nmodel Post {\n  id         Int        @id @default(autoincrement())\n  title      String     @default(\"\")\n  content    String?\n  published  Boolean    @default(false)\n  author     User?      @relation(fields: [authorId], references: [id])\n  authorId   Int?\n  categories Category[]\n}\n\nmodel Category {\n  id    Int    @id @default(autoincrement())\n  name  String\n  posts Post[]\n}\n\n/// user role\nenum Role {\n  ADMIN /// allowed to do everything\n  USER\n}\n\n```\n\nгенерирует следующее __schema.dbml__ для __prisma/dbml__\n\n```\nTable User {\n  id Int [pk, increment]\n  createdAt DateTime [default: `now()`, not null]\n  updatedAt DateTime [not null]\n  email String [unique, not null]\n  name String\n  posts Post\n  profile Profile\n  role Role [not null, default: 'USER', note: 'user role']\n}\n\nTable Profile {\n  id Int [pk, increment]\n  bio String\n  user User [not null]\n  userId Int [unique, not null]\n\n  Note: 'User profile'\n}\n\nTable Post {\n  id Int [pk, increment]\n  title String [not null, default: '']\n  content String\n  published Boolean [not null, default: false]\n  author User\n  authorId Int\n  categories Category\n}\n\nTable Category {\n  id Int [pk, increment]\n  name String [not null]\n  posts Post\n}\n\nTable CategoryToPost {\n  categoryId Int [ref: > Category.id]\n  postId Int [ref: > Post.id]\n}\n\nEnum Role {\n  ADMIN\n  USER\n}\n\nRef: Profile.userId - User.id\n\nRef: Post.authorId > User.id\n\n```\n\nСкопируйте __schema.dbml__ контент и визуализируйте в сервисе [https://dbdiagram.io/d](url) его как диаграмму отношений сущностей:\n\nВы должны видеть этот вывод каждый раз, когда запускаете ```npx prisma generate```\n\n```\n$ npx prisma generate\nEnvironment variables loaded from prisma/.env\n\n✔ Generated Prisma Client to ./node_modules/@prisma/client in 281ms\n\n✔ Generated DBML Schema to ./prisma/dbml in 5ms\n\nYou can now start using Prisma Client in your code:\n\n``\nimport { PrismaClient } from '@prisma/client'\n// or const { PrismaClient } = require('@prisma/client')\n\nconst prisma = new PrismaClient()\n``\n\nExplore the full API: http://pris.ly/d/client\n\n```",
        "message": "",
        "created": "2021-11-20T15:45:52.101Z",
        "creators": [
          {
            "id": "b0568c88-bb34-4420-969e-41238089a0d4",
            "uniqueName": "google#113467622262670857280",
            "displayName": "Alexander Matviienko",
            "createdAt": "2021-05-10T19:50:11.968Z",
            "updatedAt": "2021-05-10T19:50:31.732Z"
          }
        ]
      }
    },
    {
      "id": "01f816c7-bd76-4304-8dfb-1d1ca5d69441",
      "emoji": null,
      "title": "Запрос БД с Prisma",
      "content": "",
      "headId": 1552271,
      "archivedAt": null,
      "folderPathname": "/Nest-Prisma-template/Prisama",
      "parentFolderId": "0eec9f0c-a7af-47b7-a9de-d842cf20cb5b",
      "teamId": "nhFMY3a5g",
      "generated": false,
      "createdAt": "2021-11-20T15:10:16.886Z",
      "updatedAt": "2021-11-20T15:28:27.954Z",
      "version": 7,
      "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
      "workspaceId": "4ae225f9-123d-4918-a49f-e0c91bd0b18a",
      "head": {
        "id": 1552271,
        "docId": "01f816c7-bd76-4304-8dfb-1d1ca5d69441",
        "content": "# Установка зависимостей \nУстановка __nextjs-prisma__ которые поможет удобно интегрировать Prisma в проект.\n``` \nnest add nestjs-prisma\n```\n\n# Интеграция в проект\n\nДобавьте __PrismaModule__ в раздел импорта в вашем __AppModule__ или любых других модулях, чтобы получить доступ к __PrismaService__ через который мы можем получить доступ к БД в сервисах, контролерах и резольверах.\n\n```ts\nimport { Module } from '@nestjs/common';\nimport { PrismaModule } from 'nestjs-prisma';\n\n@Module({\n  imports: [PrismaModule.forRoot()],\n})\nexport class AppModule {}\n\n```\n\n__PrismaModule__ позволяет использовать глобально и передавать параметры в  __PrismaClient__. Короче говоря параметры для работы призмы в нашем проекте\n\n``` ts\nimport { Module } from '@nestjs/common';\nimport { PrismaModule } from 'nestjs-prisma';\n\n@Module({\n  imports: [\n    PrismaModule.forRoot({\n      isGlobal: true,\n      prismaServiceOptions: {\n        prismaOptions: { log: ['info'] },\n        explicitConnect: true,\n      },\n    }),\n  ],\n})\nexport class AppModule {}\n\n```\n\nКроме того, __PrismaModule__ предоставляет __forRootAsync__ возможность асинхронной передачи параметров. Один из вариантов - использовать заводскую функцию:\n\n``` ts\nimport { Module } from '@nestjs/common';\nimport { PrismaModule } from 'nestjs-prisma';\n\n@Module({\n  imports: [\n    PrismaModule.forRootAsync({\n      isGlobal: true,\n      useFactory: () => ({\n        prismaOptions: {\n          log: ['info', 'query'],\n        },\n        explicitConnect: false,\n      }),\n    }),\n  ],\n})\nexport class AppModule {}\n\n```\n\nВы можете вводить зависимости, например __ConfigModule__ загружая параметры из файлов .env.\n\n``` ts \nimport { Module } from '@nestjs/common';\nimport { ConfigModule, ConfigService } from '@nestjs/config';\nimport { PrismaModule } from 'nestjs-prisma';\n\n@Module({\n  imports: [\n    ConfigModule.forRoot({\n      isGlobal: true,\n    }),\n    PrismaModule.forRootAsync({\n      isGlobal: true,\n      useFactory: async (configService: ConfigService) => {\n        return {\n          prismaOptions: {\n            log: [configService.get('log')],\n            datasources: {\n              db: {\n                url: configService.get('DATABASE_URL'),\n              },\n            },\n          },\n          explicitConnect: configService.get('explicit'),\n        };\n      },\n      inject: [ConfigService],\n    }),\n  ],\n})\nexport class AppModule {}\n\n```\n\nВ качестве альтернативы вы можете использовать класс вместо фабрики:\n\n``` ts\nimport { Module } from '@nestjs/common';\nimport { PrismaModule } from 'nestjs-prisma';\n\n@Module({\n  imports: [\n    ConfigModule.forRoot({\n      isGlobal: true,\n    }),\n    PrismaModule.forRootAsync({\n      isGlobal: true,\n      useClass: PrismaConfigService,\n    }),\n  ],\n})\nexport class AppModule {}\n\n```\n\nСоздайте __PrismaConfigService__ и расширите его с помощью __PrismaOptionsFactory__\n\n``` ts\nimport { Injectable } from '@nestjs/common';\nimport { PrismaOptionsFactory, PrismaServiceOptions } from '.nestjs-prisma';\n\n@Injectable()\nexport class PrismaConfigService implements PrismaOptionsFactory {\n  constructor() {\n    // TODO inject any other service here like the `ConfigService`\n  }\n\n  createPrismaOptions(): PrismaServiceOptions | Promise<PrismaServiceOptions> {\n    return {\n      prismaOptions: {\n        log: ['info', 'query'],\n      },\n      explicitConnect: true,\n    };\n  }\n}\n\n```\n\n# PrismaClientExceptionFilter\n__nestjs-prisma__ предоставляет объект __PrismaClientExceptionFilter__ для перехвата необработанной ошибки __PrismaClientKnownRequestError__ и возврата других кодов состояния вместо 500 Internal server error.\n\nЧтобы использовать фильтр, у вас есть два следующих варианта.\n\n1. Создайте экземпляр фильтра в своем __main.ts__ и передайте __HttpAdapterHost__\n\n```ts\nimport { ValidationPipe } from '@nestjs/common';\nimport { HttpAdapterHost, NestFactory } from '@nestjs/core';\nimport { AppModule } from './app.module';\nimport { PrismaClientExceptionFilter } from 'nestjs-prisma';\n\nasync function bootstrap() {\n  const app = await NestFactory.create(AppModule);\n\n  const { httpAdapter } = app.get(HttpAdapterHost);\n  app.useGlobalFilters(new PrismaClientExceptionFilter(httpAdapter));\n\n  await app.listen(3000);\n}\nbootstrap();\n\n```\n\n2. Использовать __APP_FILTER__ токен в любом модуле\n\n``` ts\nimport { Module } from '@nestjs/common';\nimport { APP_FILTER } from '@nestjs/core';\nimport { PrismaClientExceptionFilter } from 'nestjs-prisma';\n\n@Module({\n  providers: [\n    {\n      provide: APP_FILTER,\n      useClass: PrismaClientExceptionFilter,\n    },\n  ],\n})\nexport class AppModule {}\n\n```",
        "message": "",
        "created": "2021-11-20T15:28:27.945Z",
        "creators": [
          {
            "id": "b0568c88-bb34-4420-969e-41238089a0d4",
            "uniqueName": "google#113467622262670857280",
            "displayName": "Alexander Matviienko",
            "createdAt": "2021-05-10T19:50:11.968Z",
            "updatedAt": "2021-05-10T19:50:31.732Z"
          }
        ]
      }
    },
    {
      "id": "f42a6693-10a3-4d1a-b3e1-a706f27d2dea",
      "emoji": null,
      "title": "Работа с данными",
      "content": "",
      "headId": 1526180,
      "archivedAt": null,
      "folderPathname": "/BoxHill",
      "parentFolderId": "c4ccaa1e-4560-46b2-a4a0-56dd9722d26c",
      "teamId": "nhFMY3a5g",
      "generated": false,
      "createdAt": "2021-11-16T10:10:16.832Z",
      "updatedAt": "2021-11-16T10:17:41.411Z",
      "version": 4,
      "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
      "workspaceId": "309011fd-0b61-4b75-a6fe-a3a711e8a079",
      "head": {
        "id": 1526180,
        "docId": "f42a6693-10a3-4d1a-b3e1-a706f27d2dea",
        "content": "Для правильной выгрузки данных необходимо обращать внимание не только на json файлы но и на функции которые их получают это поможет получить данные полностью избежав ошибок. После необходимо так же обращать внимание на то, нужны ли нам все данные для каждого шаблона.",
        "message": "",
        "created": "2021-11-16T10:17:41.403Z",
        "creators": [
          {
            "id": "b0568c88-bb34-4420-969e-41238089a0d4",
            "uniqueName": "google#113467622262670857280",
            "displayName": "Alexander Matviienko",
            "createdAt": "2021-05-10T19:50:11.968Z",
            "updatedAt": "2021-05-10T19:50:31.732Z"
          }
        ]
      }
    },
    {
      "id": "f5bab1b2-bdc7-4afe-a885-6ee375c3a71a",
      "emoji": null,
      "title": "3 часть плагины",
      "content": "",
      "headId": 1522418,
      "archivedAt": null,
      "folderPathname": "/Nest-Prisma-template/Graphql code first",
      "parentFolderId": "1ea0959e-8104-4589-80ee-89c481887df7",
      "teamId": "nhFMY3a5g",
      "generated": false,
      "createdAt": "2021-11-15T20:43:55.759Z",
      "updatedAt": "2021-11-15T20:49:30.987Z",
      "version": 3,
      "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
      "workspaceId": "4ae225f9-123d-4918-a49f-e0c91bd0b18a",
      "head": {
        "id": 1522418,
        "docId": "f5bab1b2-bdc7-4afe-a885-6ee375c3a71a",
        "content": "Nest 7 предоставляет новый подключаемый модуль GraphQL, который сокращает количество шаблонов декораторов для наших моделей, входных данных , аргументов и файлов сущностей . Включите плагин, добавив __compilerOptions__ в __nest-cli.json__:\n\n```js\n{\n  \"collection\": \"@nestjs/schematics\",\n  \"sourceRoot\": \"src\",\n  \"compilerOptions\": {\n    \"plugins\": [\"@nestjs/graphql/plugin\"]\n  }\n}\n```\n\nПлагин автоматически обрабатывает декораторы для файлов с суффиксом ```['.input.ts', '.args.ts', '.entity.ts', '.model.ts']```. Если вы хотите использовать собственные суффиксы, добавьте их в параметр плагинов:\n\n``` js\n\"plugins\": [\n  {\n    \"name\": \"@nestjs/graphql/plugin\",\n    \"options\": {\n      \"typeFileNameSuffix\": [\".input.ts\", \".model.ts\"]\n    }\n  }\n]\n\n```\n\nДавайте очистим шаблон наших моделей. Перед плагином модели они выглядят так:\n\n```js\nimport { ObjectType, Field, Int, HideField } from '@nestjs/graphql';\nimport { Hobby } from './hobby.model';\n\n@ObjectType()\nexport class User {\n  @Field(type => Int)\n  id: number;\n\n  @Field({ name: 'registeredAt' })\n  createdAt: Date;\n\n  updatedAt: Date;\n\n  email: string;\n\n  @HideField()\n  password: string;\n\n  name?: string;\n\n  hobbies: Hobby[];\n}\n\n```\n\n``` ts\n@ObjectType()\nexport class Hobby {\n  @Field(type => Int)\n  id: number;\n\n  name: string;\n}\n\n```\n\nПосле удаления лишних шаблонных декораторов модели выглядят так:\n\n``` ts\nimport { ObjectType, Field, Int, HideField } from '@nestjs/graphql';\nimport { Hobby } from './hobby.model';\n\n@ObjectType()\nexport class User {\n  @Field(type => Int)\n  id: number;\n\n  @Field({ name: 'registeredAt' })\n  createdAt: Date;\n\n  updatedAt: Date;\n\n  email: string;\n\n  @HideField()\n  password: string;\n\n  name?: string;\n\n  hobbies: Hobby[];\n}\n\n```\n\n``` ts\n@ObjectType()\nexport class Hobby {\n  @Field(type => Int)\n  id: number;\n\n  name: string;\n}\n\n```\n\nМы можем добавить __@Field__ к любому свойству, чтобы переопределить документацию, а также предполагаемый тип. Например, __number__ здесь подразумевается тип GraphQL, __Float__ мы можем использовать, ```@Field(type => Int)``` чтобы изменить его на __Int__ тип.",
        "message": "",
        "created": "2021-11-15T20:49:30.978Z",
        "creators": [
          {
            "id": "b0568c88-bb34-4420-969e-41238089a0d4",
            "uniqueName": "google#113467622262670857280",
            "displayName": "Alexander Matviienko",
            "createdAt": "2021-05-10T19:50:11.968Z",
            "updatedAt": "2021-05-10T19:50:31.732Z"
          }
        ]
      }
    },
    {
      "id": "fe2a3efe-bfdb-4922-b009-d34c821d8df7",
      "emoji": null,
      "title": "2 часть резолверы graphql",
      "content": "",
      "headId": 1522361,
      "archivedAt": null,
      "folderPathname": "/Nest-Prisma-template/Graphql code first",
      "parentFolderId": "1ea0959e-8104-4589-80ee-89c481887df7",
      "teamId": "nhFMY3a5g",
      "generated": false,
      "createdAt": "2021-11-15T20:11:15.043Z",
      "updatedAt": "2021-11-15T20:31:30.672Z",
      "version": 8,
      "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
      "workspaceId": "4ae225f9-123d-4918-a49f-e0c91bd0b18a",
      "head": {
        "id": 1522361,
        "docId": "fe2a3efe-bfdb-4922-b009-d34c821d8df7",
        "content": "Впервой части мы создали модели теперь пора приняться за создание резолверов\n\nЧто бы сгенерировать резольвер через cli nestjs необходимо выполнить одну из следующих команд:\n\n```\nnest generate resolver <name>\n\n// Либо ее короткую версию \n\nnest g r <name>\n```\n\nВ примере мы прошпишим команды для создания резолверов под модели  из первой части\n\n```\nnest g r user\nnest g r hobby\n```\n\nНаши преобразователи добавляются в массив providers в app.module.ts. Но они так же могут добваляться и в личный модуль если тот был создан ранее.\n\nДавайте взглянем на user.resolver.ts\n\n```ts\nimport { Resolver } from '@nestjs/graphql';\nimport { User } from '../models/user.model';\n\n@Resolver(of => User)\nexport class UserResolver {\n  ...\n}\n```\n\nОбъявляя функцию __of__ в __@Resolver__ декораторе (например ```@Resolver(of => User)```), она используется для предоставления родительского объекта в __@ResolveField__. Мы поговорим __@ResolveField__ немного позже.\n\nДобавьте __@Query__ в свои преобразователи, чтобы создавать новые запросы GraphQL в вашей схеме. Создадим функцию запроса, возвращающую все __users()__. Используйте скобки внутри декоратора, __@Query(returns => [User])__ чтобы объявить возвращаемое значение массива.\n\n``` ts\nimport { Resolver, Query } from '@nestjs/graphql';\nimport { User } from '../models/user.model';\nimport { PrismaService } from '../prisma/prisma.service';\n\n@Resolver(of => User)\nexport class UserResolver {\n  constructor(private prisma: PrismaService) {}\n\n  @Query(returns => [User])\n  async users() {\n    return this.prisma.user.findMany();\n  }\n}\n```\n\nПриведенный выше код генерирует следующий запрос к нашей схеме:\n\n``` gql\ntype Query {\n  users: [User!]!\n}\n\n```\n\nА __User__ имеет отношение ко многим к __Hobby__. Чтобы получить __Hobbies__ свойство от пользователя, мы используем __@ResolveField__ декоратор. \n\nСоздав резолвер с таким декоратором и указав в параметрах родительскую модель внутри этого метода мы можем вытащить с помощью модели и orm данные из другой таблицы имеющие отношение к этой модели.\n\n``` ts\nimport { Resolver, Query, ResolveField, Parent } from '@nestjs/graphql';\nimport { User } from '../models/user.model';\nimport { PrismaService } from '../prisma/prisma.service';\n\n@Resolver(of => User)\nexport class UserResolver {\n  constructor(private prisma: PrismaService) {}\n\n  @Query(returns => [User])\n  async users() {\n    return this.prisma.user.findMany();\n  }\n\n  @ResolveField()\n  async hobbies(@Parent() user: User) {\n    return this.prisma.hobby.findMany({\n      where: { user: { id: user.id } }\n    });\n  }\n}\n```\n",
        "message": "",
        "created": "2021-11-15T20:31:30.663Z",
        "creators": [
          {
            "id": "b0568c88-bb34-4420-969e-41238089a0d4",
            "uniqueName": "google#113467622262670857280",
            "displayName": "Alexander Matviienko",
            "createdAt": "2021-05-10T19:50:11.968Z",
            "updatedAt": "2021-05-10T19:50:31.732Z"
          }
        ]
      }
    },
    {
      "id": "6ef57847-b5e7-4394-a823-46d9157876e0",
      "emoji": null,
      "title": "1 часть типы graphql",
      "content": "",
      "headId": 1522262,
      "archivedAt": null,
      "folderPathname": "/Nest-Prisma-template/Graphql code first",
      "parentFolderId": "1ea0959e-8104-4589-80ee-89c481887df7",
      "teamId": "nhFMY3a5g",
      "generated": false,
      "createdAt": "2021-11-15T19:49:25.842Z",
      "updatedAt": "2021-11-15T20:07:51.561Z",
      "version": 7,
      "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
      "workspaceId": "4ae225f9-123d-4918-a49f-e0c91bd0b18a",
      "head": {
        "id": 1522262,
        "docId": "6ef57847-b5e7-4394-a823-46d9157876e0",
        "content": "Схема GraphQL содержит множество типов и запросов . Схема увеличивается в размере и сложности с каждым новым запросом, изменением и типом. GraphQL Code First позволяет нам автоматически генерировать схему GraphQL с использованием TypeScript и декораторов. Это помогает нам сосредоточиться на написании .tsфайлов, и нам не нужно писать схему GraphQL самостоятельно.\n\n```@nestjs/graphql``` предоставляет все декораторы для создания нашей схемы. Вот несколько декораторов и их использование:\n\n- __@ObjectType()__ сгенерировать класс как Type\n- __@Field()__ сгенерировать свойство класса как поле\n- __@InputType()__ сгенерировать класс как вход\n- __@Args__ генерировать параметры метода как аргументы\n- __@Query()__ генерировать метод как запрос\n- __@Mutation()__ генерировать метод как мутацию\n- __@ResolveField__ разрешить свойство отношения\n\n# Тип Graphql\n\nНачните с создания моделей как TypeScript ```class```.\n\n### hobby.ts\n``` ts\nexport class Hobby {\n  id: number;\n  name: string;\n}\n```\n\n### users.ts\n``` ts\nexport class User {\n  id: number;\n  createdAt: Date;\n  updatedAt: Date;\n  email: string;\n  password: string;\n  name?: string;\n  hobbies: Hobby[];\n}\n```\n\nЧто бы нам представить наши вышесозданные модели в схеме GraphQL. Необходимо добавить  __@ObjectType()__ в класс TypeScript.\n\n### hobby.ts\n``` ts\n@ObjectType()\nexport class Hobby {\n  ...\n}\n```\n\n### users.ts\n``` ts\nimport { ObjectType } from '@nestjs/graphql';\n\n@ObjectType()\nexport class User {\n  ...\n}\n\n```\n\nЗатем мы используем __@Field__ декоратор для каждого свойства класса, предоставляя дополнительную информацию о типе и состоянии (обязательном или необязательном).\n\n### hobby.ts\n``` ts\n@ObjectType()\nexport class Hobby {\n  @Field(type => Int)\n  id: number;\n\n  @Field(type => String)\n  name: string;\n}\n\n```\n\n### users.ts\n``` ts\nimport { ObjectType, Field, Int } from '@nestjs/graphql';\n\n@ObjectType()\nexport class User {\n  @Field(type => Int)\n  id: number;\n\n  @Field(type => Date, { name: 'registeredAt' })\n  createdAt: Date;\n\n  @Field(type => Date)\n  updatedAt: Date;\n\n  @Field(type => String)\n  email: string;\n\n  password: string;\n\n  @Field(type => String, { nullable: true })\n  name?: string;\n\n  @Field(type => [Hobby])\n  hobbies: Hobby[];\n}\n```\n\nИ в результате если мы используем класс(модель) __User__ в resolver то нест сгенирирует нам следующую схему\n\n``` gql\ntype User {\n  id: Int!\n  registeredAt: DateTime!\n  updatedAt: DateTime!\n  email: String!\n  name: String\n  hobbies: [Hobby!]!\n}\n\n```\n\n- __@Field__ - принимает необязательную функцию типа (например type => String)\n- Объявите поле как массив, используя обозначение скобок __[ ]__ в функции типа (например, ``type => [Hobby]``)\n- Необязательный __FieldOptions__ объект для изменения сгенерированной схемы\n- __name__: имя свойства  в схеме (пример задачи нового имени описан в свойстве createdAt)\n- __description__: добавление описания поля\n- __deprecationReason__: добавление уведомления об устаревании\n- __nullable__: объявить поле обязательным или необязательным, как поле __name__ в пример.\n- Если мы не хотим что бы свойство описывалось в схеме, то просто не помечаем его декоратором @Field\n\nПодробнее об этом деле в документации Nextjs [https://docs.nestjs.com/graphql/resolvers#object-types](url)",
        "message": "",
        "created": "2021-11-15T20:07:41.842Z",
        "creators": [
          {
            "id": "b0568c88-bb34-4420-969e-41238089a0d4",
            "uniqueName": "google#113467622262670857280",
            "displayName": "Alexander Matviienko",
            "createdAt": "2021-05-10T19:50:11.968Z",
            "updatedAt": "2021-05-10T19:50:31.732Z"
          }
        ]
      }
    },
    {
      "id": "74b18de7-c27b-40ca-9cf7-327f30755eb6",
      "emoji": null,
      "title": "Общее описание",
      "content": "",
      "headId": 1552456,
      "archivedAt": null,
      "folderPathname": "/Nest-Prisma-template/Структура src",
      "parentFolderId": "98866719-4253-426b-8e2e-4bd2ea5d2657",
      "teamId": "nhFMY3a5g",
      "generated": false,
      "createdAt": "2021-11-15T19:14:41.809Z",
      "updatedAt": "2021-11-20T17:00:13.951Z",
      "version": 5,
      "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
      "workspaceId": "4ae225f9-123d-4918-a49f-e0c91bd0b18a",
      "head": {
        "id": 1552456,
        "docId": "74b18de7-c27b-40ca-9cf7-327f30755eb6",
        "content": "src это основная папка для работы с сервером. Здесь зада различных самых различных параметров работы сервера, направленных в первую очередь на прием данных их обработку, валидацию и отдачу.\n\n# Короткое описание корневых элементов \n1. __schema.graphql__ - Содержит типизированные схемы для работы graphql (типы данный с которыми он работает)\n2. __main.ts__ - Точка входа сервера, место где он инциализиреться (через задачу различных параметров) и запускается. \n3. __app.module.ts__ - Файл главного модуля сервера, учитывая что архитектура nestjs построена на модулях, трудно переоценить этот файл так как он содержит в себе подключения и настройку всех остальных модулей сервера. \n4. __services__ - Содержит в себе сервисы суть которых заключается в непосредственном взаоимодействии с БД(через модели), и остальной бизнес логики (кароче что не работает с запросами на прямую но при этом должно что то делать идет в сервисы)\n5. __resolvers__ - Обработчики графовских запросов. Их задача принимать запросы и делигировать задач сервисам и возвращать результаты их работы.\n6. __models__ -  Тут объявляються модели который преобразуются в схемы graphql а так же нужны для работы с ними в резолверах\n7. __guards__ - Зесь строяться классы которые затем вешаються нарельверы либо контроллеры и позволяют валидировать их, к примеру не пропускать запросы без токена\n8. __decorators__ - Декораторы это такие кастомизаторы классов (а в nest почти все на них построенно) на их основе можно всячески модифицировать классы\n9. __controllers__ - Приемщики запросов и генераторы ответов с помощью моделей и сервисов\n10. __configs__ - Тут сидят различные конфигурации проекта что то вроде прокаченного файла .env\n11. __common__ - Место для различных кастомных модулей по типу пагинацииб новых типов данных и т.д.",
        "message": "",
        "created": "2021-11-20T17:00:13.940Z",
        "creators": [
          {
            "id": "b0568c88-bb34-4420-969e-41238089a0d4",
            "uniqueName": "google#113467622262670857280",
            "displayName": "Alexander Matviienko",
            "createdAt": "2021-05-10T19:50:11.968Z",
            "updatedAt": "2021-05-10T19:50:31.732Z"
          }
        ]
      }
    },
    {
      "id": "f96dae94-ff3e-40f5-bdb9-efab24b4acb6",
      "emoji": null,
      "title": "Пример вариантивного примения свойств",
      "content": "",
      "headId": 1514791,
      "archivedAt": null,
      "folderPathname": "/React/Styled-components",
      "parentFolderId": "350a81c3-e095-4d76-b9c3-2008e483ce37",
      "teamId": "nhFMY3a5g",
      "generated": false,
      "createdAt": "2021-11-14T12:10:52.089Z",
      "updatedAt": "2021-11-14T12:12:11.479Z",
      "version": 2,
      "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
      "workspaceId": "4ae225f9-123d-4918-a49f-e0c91bd0b18a",
      "head": {
        "id": 1514791,
        "docId": "f96dae94-ff3e-40f5-bdb9-efab24b4acb6",
        "content": "Решил вынести этот пример работы со стилями в компонентах так как он включает в себя весьма удобные практики.\n\n``` js\nimport React from 'react';\nimport styled, {css, keyframes} from 'styled-components'\n\nconst rotateAnimation = keyframes`\n    0% {\n        transform: rotateZ(0deg);\n    }\n    \n    100% {\n        transform: rotateZ(360deg);\n    }\n`\n\nconst StyledButton = styled.button.attrs(props => ({\n    outlined: true\n}))`\n    border: none;\n    padding: 10px 15px;\n    font-size: 18px;\n    cursor: pointer;\n    \n    &:focus {\n        outline: none; \n    }\n    \n    &:hover {\n        animation: ${rotateAnimation} 1s infinite linear;\n    }\n    \n    align-self: ${({align}) => align || 'stretch'};\n    \n    ${props => props.primary && css`\n        color: ${({color}) => color || 'white'};\n        background-color: ${({background}) => background || 'white'};\n    `}\n    \n    ${props => props.outlined && css`\n        color: ${props => props.color || props.theme.colors.primary};\n        border: 1px solid color: ${props => props.color || props.theme.colors.primary};;\n        background: transparent;\n    `}\n`\n\nconst LargeButton = styled(StyledButton)`\n    font-size: 32px;\n`\n\nconst Button = (props) => {\n    return <LargeButton {...props}/>;\n};\n\nexport default Button\n```",
        "message": "",
        "created": "2021-11-14T12:12:11.471Z",
        "creators": [
          {
            "id": "b0568c88-bb34-4420-969e-41238089a0d4",
            "uniqueName": "google#113467622262670857280",
            "displayName": "Alexander Matviienko",
            "createdAt": "2021-05-10T19:50:11.968Z",
            "updatedAt": "2021-05-10T19:50:31.732Z"
          }
        ]
      }
    },
    {
      "id": "3a42ea85-75d9-4ad7-ad70-3f910969359c",
      "emoji": null,
      "title": "Тема",
      "content": "",
      "headId": 1514788,
      "archivedAt": null,
      "folderPathname": "/React/Styled-components",
      "parentFolderId": "350a81c3-e095-4d76-b9c3-2008e483ce37",
      "teamId": "nhFMY3a5g",
      "generated": false,
      "createdAt": "2021-11-14T11:56:48.395Z",
      "updatedAt": "2021-11-14T12:10:41.555Z",
      "version": 3,
      "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
      "workspaceId": "4ae225f9-123d-4918-a49f-e0c91bd0b18a",
      "head": {
        "id": 1514788,
        "docId": "3a42ea85-75d9-4ad7-ad70-3f910969359c",
        "content": "Тема позволяет задать определенные значения для свойств в одном месте и в последствии получать к ним доступ при задачи свойств конкретным компонентам из всего проекта. При этом меняя их в параметрах темы они будут меняться по всему приложению.  \n\nТут мы задаем свойства темы в файле index.js. После оборачиваем в __ThemeProvider__ Все приложение и передаем туда объект темы. Кстати как видим здесь можно так же задавать медиа-запросы что поможет при создании контейнеров\n```js\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport {ThemeProvider} from \"styled-components\";\n\nconst theme = {\n    colors: {\n        primary: \"red\",\n        secondary: \"red\",\n    },\n    media: {\n        phone: \"(max-width: 425px)\",\n        tablet: \"(max-width: 768px) and (min-width: 425px)\",\n    }\n}\n\nReactDOM.render(\n  <React.StrictMode>\n      <ThemeProvider theme={theme}>\n          <App />\n      </ThemeProvider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n```\n\nИ после при создании стилизированного компонента мы можем получить доступ к свойствам темы следующим образом\n\n``` js\nimport React from 'react';\nimport styled from \"styled-components\";\n\nconst StyledLine = styled.div`\n    font-size: 24px;\n    color: ${props => props.theme.colors.primary};\n`\n\nconst Line = (props) => {\n    return <StyledLine {...props} />;\n};\n\nexport default Line;\n```",
        "message": "",
        "created": "2021-11-14T12:10:41.547Z",
        "creators": [
          {
            "id": "b0568c88-bb34-4420-969e-41238089a0d4",
            "uniqueName": "google#113467622262670857280",
            "displayName": "Alexander Matviienko",
            "createdAt": "2021-05-10T19:50:11.968Z",
            "updatedAt": "2021-05-10T19:50:31.732Z"
          }
        ]
      }
    },
    {
      "id": "5a3ac497-cc43-4a02-906e-3bda4f4293a0",
      "emoji": null,
      "title": "Глобальные стили",
      "content": "",
      "headId": 1514745,
      "archivedAt": null,
      "folderPathname": "/React/Styled-components",
      "parentFolderId": "350a81c3-e095-4d76-b9c3-2008e483ce37",
      "teamId": "nhFMY3a5g",
      "generated": false,
      "createdAt": "2021-11-14T11:53:54.968Z",
      "updatedAt": "2021-11-14T11:56:47.216Z",
      "version": 2,
      "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
      "workspaceId": "4ae225f9-123d-4918-a49f-e0c91bd0b18a",
      "head": {
        "id": 1514745,
        "docId": "5a3ac497-cc43-4a02-906e-3bda4f4293a0",
        "content": "Глобальные стили распространяються на весь сайт, в них очень удобно заносиить к примеру обнуляющие стили\n\n``` js\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport {createGlobalStyle, ThemeProvider} from \"styled-components\";\n\n// Создание стилей происходит следующим образом\nconst Global = createGlobalStyle`\n    *{\n        margin: 0;\n        padding: 0;\n        box-sizing: border-box;\n        font-family: consolas;\n    }\n`\n\nReactDOM.render(\n  <React.StrictMode>\n  //Далее что бы они применились их достаточно добавить в рендер\n          <Global/>\n          <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n```",
        "message": "",
        "created": "2021-11-14T11:56:47.208Z",
        "creators": [
          {
            "id": "b0568c88-bb34-4420-969e-41238089a0d4",
            "uniqueName": "google#113467622262670857280",
            "displayName": "Alexander Matviienko",
            "createdAt": "2021-05-10T19:50:11.968Z",
            "updatedAt": "2021-05-10T19:50:31.732Z"
          }
        ]
      }
    },
    {
      "id": "b8a40312-2d4f-48ec-ab30-a155da4b7296",
      "emoji": null,
      "title": "Анимации",
      "content": "",
      "headId": 1514729,
      "archivedAt": null,
      "folderPathname": "/React/Styled-components",
      "parentFolderId": "350a81c3-e095-4d76-b9c3-2008e483ce37",
      "teamId": "nhFMY3a5g",
      "generated": false,
      "createdAt": "2021-11-14T11:49:40.347Z",
      "updatedAt": "2021-11-14T11:53:58.493Z",
      "version": 2,
      "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
      "workspaceId": "4ae225f9-123d-4918-a49f-e0c91bd0b18a",
      "head": {
        "id": 1514729,
        "docId": "b8a40312-2d4f-48ec-ab30-a155da4b7296",
        "content": "```js\nimport React from 'react';\nimport styled, {css, keyframes} from 'styled-components'\n// Создаем саму анимацию, в процентном соотношении от 0 до 100 \n// указывая что и когда объект анимации должен будет сделать  \nconst rotateAnimation = keyframes`\n    0% {\n        transform: rotateZ(0deg);\n    }\n    \n    100% {\n        transform: rotateZ(360deg);\n    }\n`\n\nconst StyledButton = styled.button`\n    &:focus {\n        outline: none; \n    }\n    // Импортируем функцию анимации в свойство animation указывая сколько анимация будет длиться цикличность и плавность\n    &:hover {\n        animation: ${rotateAnimation} 1s infinite linear;\n    }\n\n`\n\nconst Button = (props) => {\n    return <StyledButton {...props}/>;\n};\n\nexport default Button;\n```",
        "message": "",
        "created": "2021-11-14T11:53:58.485Z",
        "creators": [
          {
            "id": "b0568c88-bb34-4420-969e-41238089a0d4",
            "uniqueName": "google#113467622262670857280",
            "displayName": "Alexander Matviienko",
            "createdAt": "2021-05-10T19:50:11.968Z",
            "updatedAt": "2021-05-10T19:50:31.732Z"
          }
        ]
      }
    },
    {
      "id": "fc86cfd1-8ed7-436a-8042-085e3159d932",
      "emoji": null,
      "title": "О моделях в общем",
      "content": "",
      "headId": 1472733,
      "archivedAt": null,
      "folderPathname": "/Prisma/API Postgres схемы",
      "parentFolderId": "1759d198-7c26-44f2-a484-4c59d6e29edb",
      "teamId": "nhFMY3a5g",
      "generated": false,
      "createdAt": "2021-11-07T12:29:40.669Z",
      "updatedAt": "2021-11-07T12:30:01.347Z",
      "version": 2,
      "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
      "workspaceId": "4ae225f9-123d-4918-a49f-e0c91bd0b18a",
      "head": {
        "id": 1472733,
        "docId": "fc86cfd1-8ed7-436a-8042-085e3159d932",
        "content": "\n# Model \n\n## Замечания\nКаждая запись модели должна быть однозначно идентифицируемой. Вы должны определить по крайней мере один из следующих атрибутов для каждой модели:\n\n- @unique\n- @@unique\n- @id\n- @@id\n## Соглашения об именах\nИмена моделей должны соответствовать следующему регулярному выражению: [A-Za-z][A-Za-z0-9_]*\nИмена моделей должны начинаться с буквы и обычно пишутся на языке PascalCase.\nВ названиях моделей следует использовать единственное число (например, Userвместо user, usersили Users).\nPrisma имеет ряд зарезервированных слов, которые используются Prisma внутри компании и поэтому не могут использоваться в качестве названия модели.\n\n## Примеры\nМодель User с двумя скалярными полями\n```\nmodel User {\n  email String  @unique // `email` не может быть необязательным, потому что это единственное уникальное поле в модели\n  name  String?\n}\n```\n\n# Поля моделей\nПоля  являются свойствами моделей.\n\n## Замечания\nСоглашения об именах\n- Должен начинаться с буквы\n- Обычно пишется в camelCase\n- Должно соответствовать следующему регулярному выражению: [A-Za-z][A-Za-z0-9_]*\n\n\n\n# модификаторы типа поля\n#### __[]__ -  модификатор\nДелает поле списком.\n\n### Замечания\nНе может быть необязательным (например Post[]?).\n### Реляционные базы данных\nСкалярные списки (массивы) поддерживаются в модели данных только в том случае, если ваша база данных поддерживает их изначально. Поэтому в настоящее время скалярные списки поддерживаются только при использовании PostgreSQL.\n\n## Примеры\n```\nmodel User {\n  id             Int      @id @default(autoincrement())\n  posts          Post[]\n  favoriteColors String[]\n}\n```\n\n#### __?__ модификатор\nДелает поле необязательным.\n\n### Замечания\nНе может использоваться с полем списка (например, Posts[])\nПримеры\nНеобязательное name поле\n```\nmodel User {\n  id   Int     @id @default(autoincrement())\n  name String?\n}\n```\n\n# Атрибуты\nАтрибуты изменяют поведение поля или блока (например, модели ). Есть два способа добавить атрибуты в вашу модель данных:\n- Атрибуты поля имеют префикс@\n- Атрибуты блока имеют префикс@@\n\nНекоторые атрибуты принимают аргументы. Аргументы в атрибутах всегда имеют имена, но в большинстве случаев имя аргумента можно опустить.\n\n## @id \nОпределяет идентификатор одного поля в модели.\n\n### Замечания\n- Не может быть определено в поле отношения\n- Не может быть необязательным\n- Соответствующий тип базы данных: PRIMARY KEY\n- Может быть аннотирован @default()значением, которое использует функции для автоматического создания идентификатора:\n\n  - autoincrement()\n  - cuid()\n  - uuid()\nМожет быть определен на любом поле скалярного типа ( String, Int, enum)\n\n## Примеры\nВ большинстве случаев когда вы хотите, чтобы ваша база данных создавала идентификатор. Надо аннотировать поле идентификатора @default атрибутом и инициализируйте поле функцией.\n\n```\nmodel User {\n  id   Int    @id @default(autoincrement())\n  name String\n}\n\nmodel User {\n  id   String @id @default(cuid())\n  name String\n}\n\nmodel User {\n  id   String @id @default(uuid())\n  name String\n}\n```\n\n## @unique\nОпределяет уникальное значение для этого поля.\n\n### Замечания\n- Поле с пометкой @unique может быть необязательным или обязательным.\n- Поле, помеченное значком, @unique должно быть обязательным, если оно представляет единственное уникальное ограничение в модели без символа @id или @@id\n- Модель может иметь любое количество уникальных ограничений.\n- Может быть определено на любом скалярном поле\n- Не может быть определено в поле отношения\n- NULL значения считаются разными (допускается несколько строк со NULL значениями в одном столбце)\n- Добавление ограничения уникальности автоматически добавляет соответствующий уникальный индекс к указанному столбцу (столбцам).\n\n### Примеры\nУкажите уникальный атрибут в обязательном String поле\n```\nmodel User {\n  email String @unique\n  name  String\n}\n```\nУкажите уникальный атрибут в необязательном String поле\n```\nmodel User {\n  id    Int     @id @default(autoincrement())\n  email String? @unique\n  name  String\n}\n```\n\nУкажите уникальный атрибут в скалярном поле отношения authorId\n```\nmodel Post {\n  author    User    @relation(fields: [authorId], references: [id])\n  authorId  Int     @unique\n  title     String\n  published Boolean @default(false)\n}\n```\n```\nmodel User {\n  id    Int     @id @default(autoincrement())\n  email String? @unique\n  name  String\n  Post  Post[]\n}\n```\nУкажите уникальный атрибут со cuid()значениями в качестве значений по умолчанию\n```\nmodel User {\n  token String @unique @default(cuid())\n  name  String\n}\n```\n",
        "message": "",
        "created": "2021-11-07T12:30:01.336Z",
        "creators": [
          {
            "id": "b0568c88-bb34-4420-969e-41238089a0d4",
            "uniqueName": "google#113467622262670857280",
            "displayName": "Alexander Matviienko",
            "createdAt": "2021-05-10T19:50:11.968Z",
            "updatedAt": "2021-05-10T19:50:31.732Z"
          }
        ]
      }
    },
    {
      "id": "48f9e47a-eab3-469f-8962-82b232c44407",
      "emoji": null,
      "title": "Подключение",
      "content": "",
      "headId": 1472730,
      "archivedAt": null,
      "folderPathname": "/Prisma/API Postgres схемы",
      "parentFolderId": "1759d198-7c26-44f2-a484-4c59d6e29edb",
      "teamId": "nhFMY3a5g",
      "generated": false,
      "createdAt": "2021-11-07T12:28:44.589Z",
      "updatedAt": "2021-11-07T12:29:10.491Z",
      "version": 2,
      "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
      "workspaceId": "4ae225f9-123d-4918-a49f-e0c91bd0b18a",
      "head": {
        "id": 1472730,
        "docId": "48f9e47a-eab3-469f-8962-82b232c44407",
        "content": "## datasource\nОпределяет источник данных в схеме Prisma.\n<table><thead><tr><th><font style=\"vertical-align: inherit;\"><font style=\"vertical-align: inherit;\">Имя</font></font></th><th><font style=\"vertical-align: inherit;\"><font style=\"vertical-align: inherit;\">Необходимый</font></font></th><th><font style=\"vertical-align: inherit;\"><font style=\"vertical-align: inherit;\">Тип</font></font></th><th><font style=\"vertical-align: inherit;\"><font style=\"vertical-align: inherit;\">Описание</font></font></th></tr></thead><tbody><tr><td><code class=\"inline-code\">provider</code></td><td><strong><font style=\"vertical-align: inherit;\"><font style=\"vertical-align: inherit;\">да</font></font></strong></td><td><font style=\"vertical-align: inherit;\"><font style=\"vertical-align: inherit;\">String ( </font></font><code class=\"inline-code\">postgresql</code><font style=\"vertical-align: inherit;\"><font style=\"vertical-align: inherit;\">, </font></font><code class=\"inline-code\">mysql</code><font style=\"vertical-align: inherit;\"><font style=\"vertical-align: inherit;\">, </font></font><code class=\"inline-code\">sqlite</code><font style=\"vertical-align: inherit;\"><font style=\"vertical-align: inherit;\">, </font></font><code class=\"inline-code\">sqlserver</code><font style=\"vertical-align: inherit;\"><font style=\"vertical-align: inherit;\">, </font></font><code class=\"inline-code\">mongodb</code><font style=\"vertical-align: inherit;\"><font style=\"vertical-align: inherit;\">)</font></font></td><td><font style=\"vertical-align: inherit;\"><font style=\"vertical-align: inherit;\">Описывает, какие соединители источников данных использовать.</font></font></td></tr><tr><td><code class=\"inline-code\">url</code></td><td><strong><font style=\"vertical-align: inherit;\"><font style=\"vertical-align: inherit;\">да</font></font></strong></td><td><font style=\"vertical-align: inherit;\"><font style=\"vertical-align: inherit;\">Строка (URL)</font></font></td><td><font style=\"vertical-align: inherit;\"><font style=\"vertical-align: inherit;\">URL-адрес подключения, включая информацию для аутентификации. </font><font style=\"vertical-align: inherit;\">Большинство соединителей используют </font></font><a href=\"/docs/reference/database-reference/connection-urls#format\"><font style=\"vertical-align: inherit;\"><font style=\"vertical-align: inherit;\">синтаксис, предоставленный базой данных</font></font></a><font style=\"vertical-align: inherit;\"><font style=\"vertical-align: inherit;\"> .</font></font></td></tr><tr><td><code class=\"inline-code\">shadowDatabaseUrl</code></td><td><font style=\"vertical-align: inherit;\"><font style=\"vertical-align: inherit;\">Нет</font></font></td><td><font style=\"vertical-align: inherit;\"><font style=\"vertical-align: inherit;\">Строка (URL)</font></font></td><td><font style=\"vertical-align: inherit;\"><font style=\"vertical-align: inherit;\">URL-адрес подключения к теневой базе данных, используемой Prisma Migrate. </font><font style=\"vertical-align: inherit;\">Позволяет использовать базу данных, размещенную в облаке, в качестве теневой базы данных.</font></font></td></tr><tr><td><code class=\"inline-code\">referentialIntegrity</code></td><td><font style=\"vertical-align: inherit;\"><font style=\"vertical-align: inherit;\">Нет</font></font></td><td><font style=\"vertical-align: inherit;\"><font style=\"vertical-align: inherit;\">Строка ( </font></font><code class=\"inline-code\">foreignKeys</code><font style=\"vertical-align: inherit;\"><font style=\"vertical-align: inherit;\">, </font></font><code class=\"inline-code\">prisma</code><font style=\"vertical-align: inherit;\"><font style=\"vertical-align: inherit;\">)</font></font></td><td><font style=\"vertical-align: inherit;\"><font style=\"vertical-align: inherit;\">Позволяет установить </font></font><a href=\"/docs/concepts/components/prisma-schema/relations/referential-integrity\"><font style=\"vertical-align: inherit;\"><font style=\"vertical-align: inherit;\">ссылочную целостность</font></font></a><font style=\"vertical-align: inherit;\"><font style=\"vertical-align: inherit;\"> .</font></font></td></tr></tbody></table>\n\n\n# Примеры\n## Указание источника данных PostgreSQL\nВ этом примере целевая база данных доступна со следующими учетными данными:\n\n- Пользователь: johndoe\n- Пароль: mypassword\n- Хозяин: localhost\n- Порт: 5432\n- Имя базы данных: mydb\n- Имя схемы: public\n\n\n ```\ndatasource db {\n  provider = \"postgresql\"\n  url      = \"postgresql://johndoe:mypassword@localhost:5432/mydb?schema=public\"\n}\n```\n## Укажите источник данных PostgreSQL через переменную среды\nВ этом примере целевая база данных доступна со следующими учетными данными:\n\n- Пользователь: johndoe\n- Пароль: mypassword\n- Хозяин: localhost\n- Порт: 5432\n- Имя базы данных: mydb\n- Имя схемы: public\n \n```\ndatasource db {\n  provider = \"postgresql\"\n  url      = env(\"DATABASE_URL\")\n}\n```\nПри запуске команды Prisma CLI, которой требуется URL-адрес подключения к базе данных (например prisma generate), необходимо убедиться, что __DATABASE_URL__ указана в переменных среды.\n\nОдин из способов сделать это - создать __.env__ файл со следующим содержимым. Обратите внимание, что файл должен находиться в том же каталоге, что и ваш __schema.prisma__ файл, для автоматического подключения Prisma CLI.\n\n```\nDATABASE_URL=postgresql://johndoe:mypassword@localhost:5432/mydb?schema=public\n```\n",
        "message": "",
        "created": "2021-11-07T12:29:10.458Z",
        "creators": [
          {
            "id": "b0568c88-bb34-4420-969e-41238089a0d4",
            "uniqueName": "google#113467622262670857280",
            "displayName": "Alexander Matviienko",
            "createdAt": "2021-05-10T19:50:11.968Z",
            "updatedAt": "2021-05-10T19:50:31.732Z"
          }
        ]
      }
    },
    {
      "id": "61ba54ab-ebb0-4abf-bc55-d69d3685e4cd",
      "emoji": null,
      "title": "Unsupported",
      "content": "",
      "headId": null,
      "archivedAt": null,
      "folderPathname": "/Prisma/API Postgres схемы/Скалярные типы моделей",
      "parentFolderId": "b27d4707-0545-46ca-a356-b55d1c0571b1",
      "teamId": "nhFMY3a5g",
      "generated": false,
      "createdAt": "2021-11-07T12:11:13.179Z",
      "updatedAt": "2021-11-07T12:28:21.083Z",
      "version": 5,
      "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
      "workspaceId": "4ae225f9-123d-4918-a49f-e0c91bd0b18a",
      "head": null
    },
    {
      "id": "5a03ab5b-9ca3-488e-8346-3b22248549ad",
      "emoji": null,
      "title": "Bytes",
      "content": "",
      "headId": 1472715,
      "archivedAt": null,
      "folderPathname": "/Prisma/API Postgres схемы/Скалярные типы моделей",
      "parentFolderId": "b27d4707-0545-46ca-a356-b55d1c0571b1",
      "teamId": "nhFMY3a5g",
      "generated": false,
      "createdAt": "2021-11-07T12:11:01.118Z",
      "updatedAt": "2021-11-07T12:28:21.083Z",
      "version": 4,
      "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
      "workspaceId": "4ae225f9-123d-4918-a49f-e0c91bd0b18a",
      "head": {
        "id": 1472715,
        "docId": "5a03ab5b-9ca3-488e-8346-3b22248549ad",
        "content": "\n## Bytes \n<table><thead><tr><th><font style=\"vertical-align: inherit;\"><font style=\"vertical-align: inherit;\">Собственные типы баз данных</font></font></th><th><font style=\"vertical-align: inherit;\"><font style=\"vertical-align: inherit;\">Атрибут типа собственной базы данных</font></font></th></tr></thead><tbody><tr><td><code class=\"inline-code\">bytea</code></td><td><code class=\"inline-code\">@db.ByteA</code></td></tr></tbody></table>\n",
        "message": "",
        "created": "2021-11-07T12:26:49.463Z",
        "creators": [
          {
            "id": "b0568c88-bb34-4420-969e-41238089a0d4",
            "uniqueName": "google#113467622262670857280",
            "displayName": "Alexander Matviienko",
            "createdAt": "2021-05-10T19:50:11.968Z",
            "updatedAt": "2021-05-10T19:50:31.732Z"
          }
        ]
      }
    },
    {
      "id": "dd5e2a83-f83f-4743-8e78-327d833058d3",
      "emoji": null,
      "title": "Json",
      "content": "",
      "headId": 1472924,
      "archivedAt": null,
      "folderPathname": "/Prisma/API Postgres схемы/Скалярные типы моделей",
      "parentFolderId": "b27d4707-0545-46ca-a356-b55d1c0571b1",
      "teamId": "nhFMY3a5g",
      "generated": false,
      "createdAt": "2021-11-07T12:10:52.819Z",
      "updatedAt": "2021-11-07T13:16:40.213Z",
      "version": 5,
      "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
      "workspaceId": "4ae225f9-123d-4918-a49f-e0c91bd0b18a",
      "head": {
        "id": 1472924,
        "docId": "dd5e2a83-f83f-4743-8e78-327d833058d3",
        "content": "\n\n## Json\n<table><thead><tr><th><font style=\"vertical-align: inherit;\"><font style=\"vertical-align: inherit;\">Собственные типы баз данных</font></font></th><th><font style=\"vertical-align: inherit;\"><font style=\"vertical-align: inherit;\">Атрибут типа собственной базы данных</font></font></th><th><font style=\"vertical-align: inherit;\"><font style=\"vertical-align: inherit;\">Примечания</font></font></th></tr></thead><tbody><tr><td><code class=\"inline-code\">json</code></td><td><code class=\"inline-code\">@db.Json</code></td><td>текстовые данные JSON</td></tr><tr><td><code class=\"inline-code\">jsonb</code></td><td><code class=\"inline-code\">@db.JsonB</code></td><td>двоичные данные JSON, разобранные</td></tr></tbody></table>\n",
        "message": "",
        "created": "2021-11-07T13:16:40.156Z",
        "creators": [
          {
            "id": "b0568c88-bb34-4420-969e-41238089a0d4",
            "uniqueName": "google#113467622262670857280",
            "displayName": "Alexander Matviienko",
            "createdAt": "2021-05-10T19:50:11.968Z",
            "updatedAt": "2021-05-10T19:50:31.732Z"
          }
        ]
      }
    },
    {
      "id": "8359cde5-e709-45b5-8493-c42325b91d8b",
      "emoji": null,
      "title": "DateTime",
      "content": "",
      "headId": 1472920,
      "archivedAt": null,
      "folderPathname": "/Prisma/API Postgres схемы/Скалярные типы моделей",
      "parentFolderId": "b27d4707-0545-46ca-a356-b55d1c0571b1",
      "teamId": "nhFMY3a5g",
      "generated": false,
      "createdAt": "2021-11-07T12:10:44.779Z",
      "updatedAt": "2021-11-07T13:16:11.597Z",
      "version": 5,
      "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
      "workspaceId": "4ae225f9-123d-4918-a49f-e0c91bd0b18a",
      "head": {
        "id": 1472920,
        "docId": "8359cde5-e709-45b5-8493-c42325b91d8b",
        "content": "\n## DateTime\n\n<table><thead><tr><th><font style=\"vertical-align: inherit;\"><font style=\"vertical-align: inherit;\">Собственные типы баз данных</font></font></th><th><font style=\"vertical-align: inherit;\"><font style=\"vertical-align: inherit;\">Атрибут типа собственной базы данных</font></font></th><th><font style=\"vertical-align: inherit;\"><font style=\"vertical-align: inherit;\">Примечания</font></font></th></tr></thead><tbody><tr><td><code class=\"inline-code\">timestamp</code></td><td><code class=\"inline-code\">@db.Timestamp(x)</code></td><td>дата и время (без часового пояса)</td></tr><tr><td><code class=\"inline-code\">timestamptz</code></td><td><code class=\"inline-code\">@db.Timestamptz(x)</code></td><td>\tдата и время с учётом часового пояса</td></tr><tr><td><code class=\"inline-code\">date</code></td><td><code class=\"inline-code\">@db.Date</code></td><td>календарная дата (год, месяц, день)</td></tr><tr><td><code class=\"inline-code\">time</code></td><td><code class=\"inline-code\">@db.Time(x)</code></td><td>время суток (без часового пояса)</td></tr><tr><td><code class=\"inline-code\">timetz</code></td><td><code class=\"inline-code\">@db.Timetz(x)</code></td><td>время суток с учётом часового пояса</td></tr></tbody></table>\n",
        "message": "",
        "created": "2021-11-07T13:16:11.380Z",
        "creators": [
          {
            "id": "b0568c88-bb34-4420-969e-41238089a0d4",
            "uniqueName": "google#113467622262670857280",
            "displayName": "Alexander Matviienko",
            "createdAt": "2021-05-10T19:50:11.968Z",
            "updatedAt": "2021-05-10T19:50:31.732Z"
          }
        ]
      }
    },
    {
      "id": "9bec0a64-11e5-42bf-bbcb-e51407a18ac0",
      "emoji": null,
      "title": "Decimal",
      "content": "",
      "headId": 1472916,
      "archivedAt": null,
      "folderPathname": "/Prisma/API Postgres схемы/Скалярные типы моделей",
      "parentFolderId": "b27d4707-0545-46ca-a356-b55d1c0571b1",
      "teamId": "nhFMY3a5g",
      "generated": false,
      "createdAt": "2021-11-07T12:10:32.748Z",
      "updatedAt": "2021-11-07T13:15:03.809Z",
      "version": 5,
      "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
      "workspaceId": "4ae225f9-123d-4918-a49f-e0c91bd0b18a",
      "head": {
        "id": 1472916,
        "docId": "9bec0a64-11e5-42bf-bbcb-e51407a18ac0",
        "content": "\n\n## Decimal \n\n<table><thead><tr><th><font style=\"vertical-align: inherit;\"><font style=\"vertical-align: inherit;\">Собственные типы баз данных</font></font></th><th><font style=\"vertical-align: inherit;\"><font style=\"vertical-align: inherit;\">Атрибут типа собственной базы данных</font></font></th><th><font style=\"vertical-align: inherit;\"><font style=\"vertical-align: inherit;\">Примечания</font></font></th></tr></thead><tbody><tr><td><code class=\"inline-code\">decimal</code> <font style=\"vertical-align: inherit;\"><font style=\"vertical-align: inherit;\">|</font></font> <code class=\"inline-code\">numeric</code></td><td><code class=\"inline-code\">@db.Decimal(p, s)</code><font style=\"vertical-align: inherit;\"><font style=\"vertical-align: inherit;\">†</font></font></td><td>вещественное число заданной точности</td></tr><tr><td><code class=\"inline-code\">money</code></td><td><code class=\"inline-code\">@db.Money</code></td><td>денежная сумма</td></tr></tbody></table>",
        "message": "",
        "created": "2021-11-07T13:15:03.781Z",
        "creators": [
          {
            "id": "b0568c88-bb34-4420-969e-41238089a0d4",
            "uniqueName": "google#113467622262670857280",
            "displayName": "Alexander Matviienko",
            "createdAt": "2021-05-10T19:50:11.968Z",
            "updatedAt": "2021-05-10T19:50:31.732Z"
          }
        ]
      }
    },
    {
      "id": "ec5ba381-1378-478f-b0c6-215493eb5915",
      "emoji": null,
      "title": "Float",
      "content": "",
      "headId": 1472912,
      "archivedAt": null,
      "folderPathname": "/Prisma/API Postgres схемы/Скалярные типы моделей",
      "parentFolderId": "b27d4707-0545-46ca-a356-b55d1c0571b1",
      "teamId": "nhFMY3a5g",
      "generated": false,
      "createdAt": "2021-11-07T12:10:21.078Z",
      "updatedAt": "2021-11-07T13:14:30.199Z",
      "version": 5,
      "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
      "workspaceId": "4ae225f9-123d-4918-a49f-e0c91bd0b18a",
      "head": {
        "id": 1472912,
        "docId": "ec5ba381-1378-478f-b0c6-215493eb5915",
        "content": "\n## Float\n\n<table><thead><tr><th><font style=\"vertical-align: inherit;\"><font style=\"vertical-align: inherit;\">Собственные типы баз данных</font></font></th><th><font style=\"vertical-align: inherit;\"><font style=\"vertical-align: inherit;\">Атрибут типа собственной базы данных</font></font></th><th><font style=\"vertical-align: inherit;\"><font style=\"vertical-align: inherit;\">Примечания</font></font></th></tr></thead><tbody><tr><td><code class=\"inline-code\">double precision</code></td><td><code class=\"inline-code\">@db.DoublePrecision</code></td><td>число двойной точности с плавающей точкой (8 байт)</td></tr><tr><td><code class=\"inline-code\">real</code></td><td><code class=\"inline-code\">@db.Real</code></td><td>число одинарной точности с плавающей точкой (4 байта)</td></tr></tbody></table>",
        "message": "",
        "created": "2021-11-07T13:14:29.752Z",
        "creators": [
          {
            "id": "b0568c88-bb34-4420-969e-41238089a0d4",
            "uniqueName": "google#113467622262670857280",
            "displayName": "Alexander Matviienko",
            "createdAt": "2021-05-10T19:50:11.968Z",
            "updatedAt": "2021-05-10T19:50:31.732Z"
          }
        ]
      }
    },
    {
      "id": "ec0e5dac-f427-4024-b2c6-475d6402d687",
      "emoji": null,
      "title": "BigInt",
      "content": "",
      "headId": 1472911,
      "archivedAt": null,
      "folderPathname": "/Prisma/API Postgres схемы/Скалярные типы моделей",
      "parentFolderId": "b27d4707-0545-46ca-a356-b55d1c0571b1",
      "teamId": "nhFMY3a5g",
      "generated": false,
      "createdAt": "2021-11-07T12:10:11.640Z",
      "updatedAt": "2021-11-07T13:13:51.892Z",
      "version": 5,
      "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
      "workspaceId": "4ae225f9-123d-4918-a49f-e0c91bd0b18a",
      "head": {
        "id": 1472911,
        "docId": "ec0e5dac-f427-4024-b2c6-475d6402d687",
        "content": "\n## BigInt\n\n<table><thead><tr><th><font style=\"vertical-align: inherit;\"><font style=\"vertical-align: inherit;\">Собственные типы баз данных</font></font></th><th><font style=\"vertical-align: inherit;\"><font style=\"vertical-align: inherit;\">Атрибут типа собственной базы данных</font></font></th><th><font style=\"vertical-align: inherit;\"><font style=\"vertical-align: inherit;\">Примечания</font></font></th></tr></thead><tbody><tr><td><code class=\"inline-code\">bigint</code> <font style=\"vertical-align: inherit;\"><font style=\"vertical-align: inherit;\">|</font></font> <code class=\"inline-code\">int8</code></td><td><code class=\"inline-code\">@db.BigInt</code></td><td>знаковое целое из 8 байт</td></tr><tr><td><code class=\"inline-code\">bigserial</code> <font style=\"vertical-align: inherit;\"><font style=\"vertical-align: inherit;\">|</font></font> <code class=\"inline-code\">serial8</code></td><td><code class=\"inline-code\">@db.BigInt @default(autoincrement())</code></td><td>восьмибайтное целое с автоувеличением</td></tr></tbody></table>\n",
        "message": "",
        "created": "2021-11-07T13:13:51.883Z",
        "creators": [
          {
            "id": "b0568c88-bb34-4420-969e-41238089a0d4",
            "uniqueName": "google#113467622262670857280",
            "displayName": "Alexander Matviienko",
            "createdAt": "2021-05-10T19:50:11.968Z",
            "updatedAt": "2021-05-10T19:50:31.732Z"
          }
        ]
      }
    },
    {
      "id": "f3095b40-ab07-4c9c-9af6-f4f5e92877bb",
      "emoji": null,
      "title": "Int",
      "content": "",
      "headId": 1472909,
      "archivedAt": null,
      "folderPathname": "/Prisma/API Postgres схемы/Скалярные типы моделей",
      "parentFolderId": "b27d4707-0545-46ca-a356-b55d1c0571b1",
      "teamId": "nhFMY3a5g",
      "generated": false,
      "createdAt": "2021-11-07T12:09:59.701Z",
      "updatedAt": "2021-11-07T13:13:20.986Z",
      "version": 6,
      "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
      "workspaceId": "4ae225f9-123d-4918-a49f-e0c91bd0b18a",
      "head": {
        "id": 1472909,
        "docId": "f3095b40-ab07-4c9c-9af6-f4f5e92877bb",
        "content": "\n## Int\n\n<table><thead><tr><th><font style=\"vertical-align: inherit;\"><font style=\"vertical-align: inherit;\">Собственные типы баз данных</font></font></th><th><font style=\"vertical-align: inherit;\"><font style=\"vertical-align: inherit;\">Атрибут типа собственной базы данных</font></font></th><th><font style=\"vertical-align: inherit;\"><font style=\"vertical-align: inherit;\">Примечания</font></font></th></tr></thead><tbody><tr><td><code class=\"inline-code\">integer</code> <font style=\"vertical-align: inherit;\"><font style=\"vertical-align: inherit;\">| </font><font style=\"vertical-align: inherit;\">,</font></font> <code class=\"inline-code\">int</code><font style=\"vertical-align: inherit;\"></font><code class=\"inline-code\">int4</code></td><td><code class=\"inline-code\">@db.Integer</code></td><td>знаковое четырёхбайтное целое</td></tr><tr><td><code class=\"inline-code\">smallint</code> <font style=\"vertical-align: inherit;\"><font style=\"vertical-align: inherit;\">|</font></font> <code class=\"inline-code\">int2</code></td><td><code class=\"inline-code\">@db.SmallInt</code></td><td>\tзнаковое двухбайтное целое</td></tr><tr><td><code class=\"inline-code\">smallserial</code> <font style=\"vertical-align: inherit;\"><font style=\"vertical-align: inherit;\">|</font></font> <code class=\"inline-code\">serial2</code></td><td><code class=\"inline-code\">@db.SmallInt @default(autoincrement())</code></td><td>двухбайтное целое с автоувеличением</td></tr><tr><td><code class=\"inline-code\">serial</code> <font style=\"vertical-align: inherit;\"><font style=\"vertical-align: inherit;\">|</font></font> <code class=\"inline-code\">serial4</code></td><td><code class=\"inline-code\">@db.Int @default(autoincrement())</code></td><td>четырёхбайтное целое с автоувеличением</td></tr><tr><td><code class=\"inline-code\">oid</code></td><td><code class=\"inline-code\">@db.Oid</code></td><td></td></tr></tbody></table>",
        "message": "",
        "created": "2021-11-07T13:13:19.613Z",
        "creators": [
          {
            "id": "b0568c88-bb34-4420-969e-41238089a0d4",
            "uniqueName": "google#113467622262670857280",
            "displayName": "Alexander Matviienko",
            "createdAt": "2021-05-10T19:50:11.968Z",
            "updatedAt": "2021-05-10T19:50:31.732Z"
          }
        ]
      }
    },
    {
      "id": "05bd0b8f-2132-4b2f-a5da-fdd29f2329a0",
      "emoji": null,
      "title": "Boolean",
      "content": "",
      "headId": 1472904,
      "archivedAt": null,
      "folderPathname": "/Prisma/API Postgres схемы/Скалярные типы моделей",
      "parentFolderId": "b27d4707-0545-46ca-a356-b55d1c0571b1",
      "teamId": "nhFMY3a5g",
      "generated": false,
      "createdAt": "2021-11-07T12:09:49.495Z",
      "updatedAt": "2021-11-07T13:11:30.299Z",
      "version": 6,
      "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
      "workspaceId": "4ae225f9-123d-4918-a49f-e0c91bd0b18a",
      "head": {
        "id": 1472904,
        "docId": "05bd0b8f-2132-4b2f-a5da-fdd29f2329a0",
        "content": "\n## Boolean \n<table><thead><tr><th align=\"left\"><font style=\"vertical-align: inherit;\"><font style=\"vertical-align: inherit;\">Собственные типы баз данных</font></font></th><th align=\"left\"><font style=\"vertical-align: inherit;\"><font style=\"vertical-align: inherit;\">Атрибут типа собственной базы данных</font></font></th><th><font style=\"vertical-align: inherit;\"><font style=\"vertical-align: inherit;\">Примечания</font></font></th></tr></thead><tbody><tr><td align=\"left\"><code class=\"inline-code\">boolean</code></td><td align=\"left\"><code class=\"inline-code\">@db.Boolean</code></td><td>логическое значение (true/false)</td></tr></tbody></table>\n",
        "message": "",
        "created": "2021-11-07T13:11:29.446Z",
        "creators": [
          {
            "id": "b0568c88-bb34-4420-969e-41238089a0d4",
            "uniqueName": "google#113467622262670857280",
            "displayName": "Alexander Matviienko",
            "createdAt": "2021-05-10T19:50:11.968Z",
            "updatedAt": "2021-05-10T19:50:31.732Z"
          }
        ]
      }
    },
    {
      "id": "f0f91d71-1791-4b4b-b09f-57d7fe1db8b0",
      "emoji": null,
      "title": "String",
      "content": "",
      "headId": 1472901,
      "archivedAt": null,
      "folderPathname": "/Prisma/API Postgres схемы/Скалярные типы моделей",
      "parentFolderId": "b27d4707-0545-46ca-a356-b55d1c0571b1",
      "teamId": "nhFMY3a5g",
      "generated": false,
      "createdAt": "2021-11-07T12:09:35.264Z",
      "updatedAt": "2021-11-07T13:11:10.283Z",
      "version": 7,
      "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
      "workspaceId": "4ae225f9-123d-4918-a49f-e0c91bd0b18a",
      "head": {
        "id": 1472901,
        "docId": "f0f91d71-1791-4b4b-b09f-57d7fe1db8b0",
        "content": "## String\n\n<table><thead><tr><th align=\"left\"><font style=\"vertical-align: inherit;\"><font style=\"vertical-align: inherit;\">Собственный тип базы данных</font></font></th><th align=\"left\"><font style=\"vertical-align: inherit;\"><font style=\"vertical-align: inherit;\">Атрибут типа собственной базы данных</font></font></th><th><font style=\"vertical-align: inherit;\"><font style=\"vertical-align: inherit;\">Примечания</font></font></th></tr></thead><tbody><tr><td align=\"left\"><code class=\"inline-code\">text</code></td><td align=\"left\"><code class=\"inline-code\">@db.Text</code></td><td>текст неограниченной длины</td></tr><tr><td align=\"left\"><code class=\"inline-code\">char</code></td><td align=\"left\"><code class=\"inline-code\">@db.Char(x)</code></td><td>текст фиксированной длины (строка всегда имеет строго заданный размер)</td></tr><tr><td align=\"left\"><code class=\"inline-code\">varchar</code></td><td align=\"left\"><code class=\"inline-code\">@db.VarChar(n)</code></td><td>текст с ограничением по длине (максимальная длина строка может быть ограничена)</td></tr><tr><td align=\"left\"><code class=\"inline-code\">bit</code></td><td align=\"left\"><code class=\"inline-code\">@db.Bit(x)</code></td><td>битовая строка фиксированной длины</td></tr><tr><td align=\"left\"><code class=\"inline-code\">varbit</code></td><td align=\"left\"><code class=\"inline-code\">@db.VarBit</code></td><td>битовая строка переменной длины</td></tr><tr><td align=\"left\"><code class=\"inline-code\">uuid</code></td><td align=\"left\"><code class=\"inline-code\">@db.Uuid</code></td><td>универсальный уникальный идентификатор</td></tr><tr><td align=\"left\"><code class=\"inline-code\">xml</code></td><td align=\"left\"><code class=\"inline-code\">@db.Xml</code></td><td>XML-данные</td></tr><tr><td align=\"left\"><code class=\"inline-code\">inet</code></td><td align=\"left\"><code class=\"inline-code\">@db.Inet</code></td><td>адрес узла IPv4 или IPv6</td></tr><tr><td align=\"left\"><code class=\"inline-code\">citext</code></td><td align=\"left\"><code class=\"inline-code\">@db.Citext</code></td><td><font style=\"vertical-align: inherit;\"><font style=\"vertical-align: inherit;\">Доступно, только если </font></font><a href=\"/docs/concepts/components/prisma-schema/features-without-psl-equivalent#enable-extensions-for-native-database-functions\"><font style=\"vertical-align: inherit;\"><font style=\"vertical-align: inherit;\">включено расширение Citext</font></font></a><font style=\"vertical-align: inherit;\"><font style=\"vertical-align: inherit;\"> .</font></font></td></tr></tbody></table>",
        "message": "",
        "created": "2021-11-07T13:11:10.237Z",
        "creators": [
          {
            "id": "b0568c88-bb34-4420-969e-41238089a0d4",
            "uniqueName": "google#113467622262670857280",
            "displayName": "Alexander Matviienko",
            "createdAt": "2021-05-10T19:50:11.968Z",
            "updatedAt": "2021-05-10T19:50:31.732Z"
          }
        ]
      }
    },
    {
      "id": "87240588-a93a-4225-860b-39b8c935704d",
      "emoji": null,
      "title": "Один к многим",
      "content": "",
      "headId": 1472623,
      "archivedAt": null,
      "folderPathname": "/Prisma/Связи",
      "parentFolderId": "e635f1db-d2bb-459d-bbd3-e77e1d3e1271",
      "teamId": "nhFMY3a5g",
      "generated": false,
      "createdAt": "2021-11-07T11:41:39.392Z",
      "updatedAt": "2021-11-07T12:04:14.499Z",
      "version": 5,
      "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
      "workspaceId": "4ae225f9-123d-4918-a49f-e0c91bd0b18a",
      "head": {
        "id": 1472623,
        "docId": "87240588-a93a-4225-860b-39b8c935704d",
        "content": "Отношения «один ко многим» (1-n) относятся к отношениям, в которых одна запись на одной стороне отношения может быть связана с нулем или более записями на другой стороне. В следующем примере существует одно отношение 1-n между Userи Post:\n\n```\nmodel User {\n  id    Int    @id @default(autoincrement())\n  posts Post[]\n}\n\nmodel Post {\n  id       Int  @id @default(autoincrement())\n  author   User @relation(fields: [authorId], references: [id])\n  authorId Int\n}\n```\nЭто 1-n-отношение выражает следующее:\n\n- \"у пользователя может быть ноль или более сообщений\"\n- \"у сообщения всегда должен быть автор\"\n\n# Многополевые отношения в реляционных базах данных\n\nВ только реляционных базах данных , вы можете также определить это соотношение , используя идентификаторы многопрофильных :\n\n``` \nmodel User {\n  firstName String\n  lastName  String\n  post      Post[]\n\n  @@id([firstName, lastName])\n}\n\nmodel Post {\n  id              Int    @id @default(autoincrement())\n  author          User   @relation(fields: [authorFirstName, authorLastName], references: [firstName, lastName])\n  authorFirstName String // relation scalar field (used in the `@relation` attribute above)\n  authorLastName  String // relation scalar field (used in the `@relation` attribute above)\n}\n```\n\n# Обязательные и необязательные поля отношения в отношениях \"один ко многим\"\n1-n-отношение всегда имеет два поля отношений:\n\n\n- список поле отношение, которое не помечается@relation\n- аннотированные поля соотношения ( в том числе его соотношение скаляра)\nСторона списка отношения 1-n всегда обязательна. С другой стороны связи, аннотированное поле отношения и отношением скалярным могут либо одновременно быть необязательными, или как быть обязательными.\n\nВ следующем примере вы можете создать Postбез назначения User:\n\n```\nmodel User {\n  id    Int    @id @default(autoincrement())\n  posts Post[]\n}\n\nmodel Post {\n  id       Int   @id @default(autoincrement())\n  author   User? @relation(fields: [authorId], references: [id])\n  authorId Int?\n}\n```\nВ следующем примере вы должны назначить a User при создании Post:\n\n``\nmodel User {\n  id    Int    @id @default(autoincrement())\n  posts Post[]\n}\n\nmodel Post {\n  id       Int  @id @default(autoincrement())\n  author   User @relation(fields: [authorId], references: [id])\n  authorId Int\n}\n```\n",
        "message": "",
        "created": "2021-11-07T12:04:14.479Z",
        "creators": [
          {
            "id": "b0568c88-bb34-4420-969e-41238089a0d4",
            "uniqueName": "google#113467622262670857280",
            "displayName": "Alexander Matviienko",
            "createdAt": "2021-05-10T19:50:11.968Z",
            "updatedAt": "2021-05-10T19:50:31.732Z"
          }
        ]
      }
    },
    {
      "id": "ecbadea5-243e-4c1f-84b3-f9b1fcea4cb0",
      "emoji": null,
      "title": "Многие ко многи",
      "content": "",
      "headId": 1472613,
      "archivedAt": null,
      "folderPathname": "/Prisma/Связи",
      "parentFolderId": "e635f1db-d2bb-459d-bbd3-e77e1d3e1271",
      "teamId": "nhFMY3a5g",
      "generated": false,
      "createdAt": "2021-11-07T11:41:23.694Z",
      "updatedAt": "2021-11-07T12:00:09.724Z",
      "version": 2,
      "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
      "workspaceId": "4ae225f9-123d-4918-a49f-e0c91bd0b18a",
      "head": {
        "id": 1472613,
        "docId": "ecbadea5-243e-4c1f-84b3-f9b1fcea4cb0",
        "content": "# Явные отношения \"многие ко многим\"\nВ явном отношении «многие ко многим» таблица отношений представлена ​​как модель в схеме Prisma и может использоваться в запросах. Явные отношения «многие ко многим» определяют три модели:\n\n- Две модели, имеющие отношение \"многие ко многим\", например, CategoryиPost\n- Одна модель, которая представляет таблицу отношений, такую ​​как CategoriesOnPosts(также иногда называемая JOIN , ссылка или сводная таблица) в базовой базе данных\n\n\nВ этом примере модель, представляющая таблицу отношений, определяет дополнительные поля, которые описывают отношение Post/ Category- кто назначил категорию ( assignedBy) и когда была назначена категория ( assignedAt):\n\n```\nmodel Post {\n  id         Int                 @id @default(autoincrement())\n  title      String\n  categories CategoriesOnPosts[]\n}\n\nmodel Category {\n  id    Int                 @id @default(autoincrement())\n  name  String\n  posts CategoriesOnPosts[]\n}\n\nmodel CategoriesOnPosts {\n  post       Post     @relation(fields: [postId], references: [id])\n  postId     Int // relation scalar field (used in the `@relation` attribute above)\n  category   Category @relation(fields: [categoryId], references: [id])\n  categoryId Int // relation scalar field (used in the `@relation` attribute above)\n  assignedAt DateTime @default(now())\n  assignedBy String\n\n  @@id([postId, categoryId])\n}\n```\n\n## Запрос явного \"многие-ко-многим\"\nВ следующем разделе показано, как запросить явное отношение «многие ко многим». Вы можете запросить модель отношения напрямую ( prisma.categoryOnPost(...)) или использовать вложенные запросы для перехода от Post-> CategoryOnPost-> Categoryили наоборот.\n\n### Следующий запрос:\n\n- Создает Post\n- Создает присвоение категории или CategoryToPost(назначено Бобом, назначено сегодня)\n- Создает новый Category\n``` js\nconst createCategory = await prisma.post.create({\n  data: {\n    title: 'How to be Bob',\n    categories: {\n      create: [\n        {\n          assignedBy: 'Bob',\n          assignedAt: new Date(),\n          category: {\n            create: {\n              name: 'New category',\n            },\n          },\n        },\n      ],\n    },\n  },\n})\n```\n\n### Следующий запрос:\n\n- Создает новый Post\n- Создает новое назначение категории или CategoryToPost\n- Связывает назначение категории с существующими категориями (с идентификаторами 9 и 22)\n\n``` js\nconst assignCategories = await prisma.post.create({\n  data: {\n    title: 'How to be Bob',\n    categories: {\n      create: [\n        {\n          assignedBy: 'Bob',\n          assignedAt: new Date(),\n          category: {\n            connect: {\n              id: 9,\n            },\n          },\n        },\n        {\n          assignedBy: 'Bob',\n          assignedAt: new Date(),\n          category: {\n            connect: {\n              id: 22,\n            },\n          },\n        },\n      ],\n    },\n  },\n})\n```\n## Следующий запрос\nВозвращает все Post записи, в которых хотя бы одно some назначение категории ( categories) ( ) относится к категории с именем \"New category\":\n\n``` js\nconst getPosts = await prisma.post.findMany({\n  where: {\n    categories: {\n      some: {\n        category: {\n          name: 'New Category',\n        },\n      },\n    },\n  },\n})\n\n```\n## Следующий запрос\nВозвращает все категории, в которых хотя бы один ( some) заголовок связанной Postзаписи содержит слова, \"Cool stuff\" а категория была назначена Бобом.\n\n``` js\nconst getAssignments = await prisma.category.findMany({\n  where: {\n    posts: {\n      some: {\n        assignedBy: 'Bob',\n        post: {\n          title: {\n            contains: 'Cool stuff',\n          },\n        },\n      },\n    },\n  },\n})\n```\n\n## Следующий запрос\nПолучает все CategoryOnPost записи о назначениях категорий ( ), которые были назначены \"Bob\"одной из 5 публикаций:\n\n``` JS\nconst getAssignments = await prisma.categoriesOnPosts.findMany({\n  where: {\n    assignedBy: 'Bob',\n    post: {\n      id: {\n        in: [9, 4, 10, 12, 22],\n      },\n    },\n  },\n})\n```",
        "message": "",
        "created": "2021-11-07T12:00:09.453Z",
        "creators": [
          {
            "id": "b0568c88-bb34-4420-969e-41238089a0d4",
            "uniqueName": "google#113467622262670857280",
            "displayName": "Alexander Matviienko",
            "createdAt": "2021-05-10T19:50:11.968Z",
            "updatedAt": "2021-05-10T19:50:31.732Z"
          }
        ]
      }
    },
    {
      "id": "f9981330-a2b8-45f8-9839-6e8f063e31c6",
      "emoji": null,
      "title": "Один к одному",
      "content": "",
      "headId": 1472644,
      "archivedAt": null,
      "folderPathname": "/Prisma/Связи",
      "parentFolderId": "e635f1db-d2bb-459d-bbd3-e77e1d3e1271",
      "teamId": "nhFMY3a5g",
      "generated": false,
      "createdAt": "2021-11-07T11:40:59.652Z",
      "updatedAt": "2021-11-07T12:09:00.875Z",
      "version": 5,
      "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
      "workspaceId": "4ae225f9-123d-4918-a49f-e0c91bd0b18a",
      "head": {
        "id": 1472644,
        "docId": "f9981330-a2b8-45f8-9839-6e8f063e31c6",
        "content": "Отношения «один к одному» (1–1) относятся к отношениям, в которых с обеих сторон отношения может быть соединено не более одной записи. В приведенном ниже примере существует одно отношение 1-1 между Userи Profile:\n\n```\nmodel User {\n  id      Int      @id @default(autoincrement())\n  profile Profile?\n}\n\nmodel Profile {\n  id     Int  @id @default(autoincrement())\n  user   User @relation(fields: [userId], references: [id])\n  userId Int // relation scalar field (used in the `@relation` attribute above)\n}\n```\nСкаляр userId отношения - это прямое представление внешнего ключа в базовой базе данных. Это отношение 1-1 выражает следующее:\n\n- «пользователь может иметь ноль или один профили» (потому что profileполе является необязательным на User)\n- \"профиль всегда должен быть связан с одним пользователем\"\n\n\nВ только реляционных базах данных , можно также определить использование идентификаторов многопрофильных для определения 1-1 соотношения:\n\n```\nmodel User {\n  firstName String\n  lastName  String\n  profile   Profile?\n\n  @@id([firstName, lastName])\n}\n\nmodel Profile {\n  id            Int    @id @default(autoincrement())\n  user          User   @relation(fields: [userFirstName, userLastName], references: [firstName, lastName])\n  userFirstName String // relation scalar field (used in the `@relation` attribute above)\n  userLastName  String // relation scalar field (used in the `@relation` attribute above)\n}\n```\n\n# Обязательные и необязательные поля отношения 1-1\nВо взаимно-однозначном отношении сторона отношения без скаляра отношения (поле, представляющее внешний ключ в базе данных) должна быть необязательной:\n```\nmodel User {\n  id      Int      @id @default(autoincrement())\n  profile Profile? // No relation scalar - must be optional\n}\n```\n\nОднако вы можете выбрать, должна ли сторона отношения со скаляром отношения быть необязательной или обязательной. В следующем примере profile и profileId являются обязательными. Это означает, что вы не можете создать, User не подключив или не создав Profile:\n```\nmodel User {\n  id        Int     @id @default(autoincrement())\n  profile   Profile @relation(fields: [profileId], references: [id]) // references `id` of `Profile`\n  profileId Int // relation scalar field (used in the `@relation` attribute above)\n}\n\nmodel Profile {\n  id   Int   @id @default(autoincrement())\n  user User?\n}\n```\nВ следующем примере profile и profileId являются необязательными. Это означает, что вы можете создать пользователя без подключения или создания Profile:\n```\nmodel User {\n  id        Int      @id @default(autoincrement())\n  profile   Profile? @relation(fields: [profileId], references: [id]) // references `id` of `Profile`\n  profileId Int? // relation scalar field (used in the `@relation` attribute above)\n}\n\nmodel Profile {\n  id   Int   @id @default(autoincrement())\n  user User?\n}\n```\n# Выбор стороны, которая должна хранить внешний ключ в соотношении 1-1\n\nВ отношениях 1-1 вы можете сами решить, какую сторону отношения вы хотите аннотировать с помощью @relation атрибута (и, следовательно, удерживать внешний ключ).\n\nВ следующем примере поле отношения в Profile модели аннотируется @relation атрибутом. userId является прямым представлением внешнего ключа в базовой базе данных:\n```\nmodel User {\n  id      Int      @id @default(autoincrement())\n  profile Profile?\n}\n\nmodel Profile {\n  id     Int  @id @default(autoincrement())\n  user   User @relation(fields: [userId], references: [id])\n  userId Int // relation scalar field (used in the `@relation` attribute above)\n}\n```\nВы также можете аннотировать другую сторону отношения с помощью @relation атрибута. В следующем примере аннотируется поле отношения в User модели. profileId является прямым представлением внешнего ключа в базовой базе данных:\n```\nmodel User {\n  id        Int      @id @default(autoincrement())\n  profile   Profile? @relation(fields: [profileId], references: [id])\n  profileId Int? // relation scalar field (used in the `@relation` attribute above)\n}\n\nmodel Profile {\n  id   Int   @id @default(autoincrement())\n  user User?\n}\n```",
        "message": "",
        "created": "2021-11-07T12:09:00.811Z",
        "creators": [
          {
            "id": "b0568c88-bb34-4420-969e-41238089a0d4",
            "uniqueName": "google#113467622262670857280",
            "displayName": "Alexander Matviienko",
            "createdAt": "2021-05-10T19:50:11.968Z",
            "updatedAt": "2021-05-10T19:50:31.732Z"
          }
        ]
      }
    },
    {
      "id": "fd8287e0-cf64-49e9-8648-150ee635c5ca",
      "emoji": null,
      "title": "Схемы призмы",
      "content": "",
      "headId": 1472316,
      "archivedAt": null,
      "folderPathname": "/Prisma",
      "parentFolderId": "a2a684e5-6943-4ac5-b9ed-85fa4b63795d",
      "teamId": "nhFMY3a5g",
      "generated": false,
      "createdAt": "2021-11-07T10:18:40.879Z",
      "updatedAt": "2021-11-07T10:22:15.923Z",
      "version": 2,
      "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
      "workspaceId": "4ae225f9-123d-4918-a49f-e0c91bd0b18a",
      "head": {
        "id": 1472316,
        "docId": "fd8287e0-cf64-49e9-8648-150ee635c5ca",
        "content": "# Схема призмы\nФайл схемы Prisma (сокращенно: файл схемы , схема Prisma или схема ) является основным файлом конфигурации для вашей установки Prisma. Обычно он называется schema.prismaи состоит из следующих частей:\n\n- Источники данных : укажите детали источников данных, к которым должна подключаться Prisma (например, база данных PostgreSQL).\n- Генераторы : указывает, какие клиенты должны быть созданы на основе модели данных (например, Prisma Client).\n- Определение модели данных : указывает модели вашего приложения(форма данных для каждого источника данных) и их отношения.\n\nКаждый раз, когда prisma вызывается команда, интерфейс командной строки обычно считывает некоторую информацию из файла схемы, например:\n\n - ```prisma generate```: Считывает всю вышеупомянутую информацию из схемы Prisma для создания правильного клиентского кода источника данных (например, Prisma Client).\n\n - ```prisma migrate dev```: Считывает источники данных и определение модели данных для создания новой миграции.\nВы также можете использовать переменные среды внутри файла схемы для предоставления параметров конфигурации при вызове команды CLI.\n\n\n# Пример\nНиже приведен пример файла схемы Prisma, который определяет:\n\n- Источник данных (PostgreSQL или MongoDB)\n- Генератор (Prisma Client)\n- Определение модели данных с двумя моделями (с одним отношением) и одним enum\n- Несколько атрибутов собственных типов данных ( @db.VarChar(255), @db.ObjectId)\n\n``` js\ndatasource db {\n  url      = env(\"DATABASE_URL\")\n  provider = \"postgresql\"\n}\n\ngenerator client {\n  provider = \"prisma-client-js\"\n}\n\nmodel User {\n  id        Int      @id @default(autoincrement())\n  createdAt DateTime @default(now())\n  email     String   @unique\n  name      String?\n  role      Role     @default(USER)\n  posts     Post[]\n}\n\nmodel Post {\n  id        Int      @id @default(autoincrement())\n  createdAt DateTime @default(now())\n  updatedAt DateTime @updatedAt\n  published Boolean  @default(false)\n  title     String   @db.VarChar(255)\n  author    User?    @relation(fields: [authorId], references: [id])\n  authorId  Int?\n}\n\nenum Role {\n  USER\n  ADMIN\n}\n```\n\n# Именование\nИмя по умолчанию для файла схемы schema.prisma. Когда ваш файл схемы имеет такое имя, Prisma CLI автоматически обнаружит его в каталоге, в котором вы вызываете команду CLI (или в любом из его подкаталогов).\n\nЕсли файл имеет другое имя, вы можете предоставить --schema аргумент CLI Prisma с путем к файлу схемы, например:\n```\nprisma generate --schema ./database/myschema.prisma\n```",
        "message": "",
        "created": "2021-11-07T10:22:15.747Z",
        "creators": [
          {
            "id": "b0568c88-bb34-4420-969e-41238089a0d4",
            "uniqueName": "google#113467622262670857280",
            "displayName": "Alexander Matviienko",
            "createdAt": "2021-05-10T19:50:11.968Z",
            "updatedAt": "2021-05-10T19:50:31.732Z"
          }
        ]
      }
    },
    {
      "id": "47debeac-a537-4086-9b7a-5cc0d6d7b9dc",
      "emoji": null,
      "title": "Prisma migrate",
      "content": "",
      "headId": 1472202,
      "archivedAt": null,
      "folderPathname": "/Prisma",
      "parentFolderId": "a2a684e5-6943-4ac5-b9ed-85fa4b63795d",
      "teamId": "nhFMY3a5g",
      "generated": false,
      "createdAt": "2021-11-07T09:46:51.530Z",
      "updatedAt": "2021-11-07T09:55:37.615Z",
      "version": 5,
      "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
      "workspaceId": "4ae225f9-123d-4918-a49f-e0c91bd0b18a",
      "head": {
        "id": 1472202,
        "docId": "47debeac-a537-4086-9b7a-5cc0d6d7b9dc",
        "content": "# Миграция схемы с помощью Prisma Migrate\nСегодня мы рады поделиться новой версией Prisma Migrate! 🎊\n\nPrisma Migrate - это инструмент моделирования и миграции данных, который упрощает развитие схемы базы данных с приложением в тандеме. Миграция основана на схеме Prisma - декларативном определении модели данных, который кодифицирует вашу схему базы данных.\n\nЭтот предварительный выпуск является развитием экспериментальной версии Migrate, выпущенной нами в прошлом году. С тех пор мы собираем отзывы сообщества и включаем их в Prisma Migrate.\n\n# Интеграция с Prisma Client\nPrisma Migrate интегрируется с Prisma Client, используя схему Prisma в качестве общего источника истины. Другими словами, и Prisma Client, и миграции генерируются на основе схемы Prisma. Это упрощает синхронизацию и проверку изменений схемы базы данных в коде вашего приложения за счет использования безопасности типов Prisma Client.\n\n# Как работает Prisma Migrate?\nPrisma Migrate основан на схеме Prisma и работает путем создания .sqlфайлов миграции, которые выполняются для вашей базы данных.\n\nСхема Prisma является отправной точкой для миграции схемы и обеспечивает обзор желаемого конечного состояния базы данных. Prisma Migrate проверяет изменения в схеме Prisma и генерирует необходимые .sql файлы миграции для применения.\n\nПрименение миграций выглядит по-разному в зависимости от стадии разработки. Например, во время разработки существуют сценарии, в которых сброс базы данных допустим для более быстрого прототипирования, в то время как в производственной среде необходимо проявлять большую осторожность, чтобы избежать потери данных и поломки изменений.\n\nPrisma Migrate учитывает это с помощью рабочих процессов для локальной разработки и применения миграций в производственной среде.\n\n# Развитие схемы в процессе разработки\nВо время разработки вы сначала определяете схему Prisma, а затем запускаете prisma migrate dev --preview-featureкоманду, которая генерирует миграцию, применяет ее и генерирует Prisma Client:\n\nРабочий процесс разработки\n![2020-12-migrate-development-workflow.png](https://boostnote.io/api/teams/nhFMY3a5g/files/285d53c0e0d318b2763773dd392d37d7bb8ed383962656164568050692436682-2020-12-migrate-development-workflow.png)\n\n\n\nВот пример, показывающий это в действии:\n\n1. Определите желаемую схему базы данных, используя схему Prisma:\n``` \ndatasource db {\n  provider = \"postgresql\"\n  url      = env(\"DATABASE_URL\")\n}\n\nmodel User {\n  id    Int      @id @default(autoincrement())\n  name  String\n  posts Post[]\n}\n\nmodel Post {\n  id        Int     @id @default(autoincrement())\n  title     String\n  published Boolean @default(true)\n  authorId  Int\n  author    User    @relation(fields: [authorId], references: [id])\n}\n```\n2. Запустите, ```prisma migrate dev --preview-feature``` чтобы создать и выполнить миграцию.\n\n\nРазверните, чтобы просмотреть содержимое SQL сгенерированной миграции.\nПосле выполнения миграции файлы миграции обычно фиксируются в репозитории, чтобы миграцию можно было применить в других средах.\n\nДальнейшие изменения схемы базы данных следуют тому же рабочему процессу и начинаются с обновления схемы Prisma.\n\n# Настройка миграции SQL\nВы можете настроить SQL-запрос миграции с помощью следующего рабочего процесса:\n\nВыполните, ```prisma migrate dev --create-only --preview-feature``` чтобы создать миграцию SQL, не применяя ее.\nОтредактируйте SQL-запрос миграции.\nЗапустите, ```prisma migrate dev --preview-feature``` чтобы применить.\n\n# Применение миграций в производственной и других средах\n\nЧтобы применить миграции к другим средам, таким как производственная среда, вы извлекаете изменения в репозиторий, содержащий миграции, и запускаете ```prisma migrate deploy``` команду:\n![2020-12-migrate-production-workflow.png](https://boostnote.io/api/teams/nhFMY3a5g/files/df0aa9c58c5a3ce60d0a90db084300d548fd45e72da97eb51ea7d6883565a2cb-2020-12-migrate-production-workflow.png)\n",
        "message": "",
        "created": "2021-11-07T09:55:37.443Z",
        "creators": [
          {
            "id": "b0568c88-bb34-4420-969e-41238089a0d4",
            "uniqueName": "google#113467622262670857280",
            "displayName": "Alexander Matviienko",
            "createdAt": "2021-05-10T19:50:11.968Z",
            "updatedAt": "2021-05-10T19:50:31.732Z"
          }
        ]
      }
    },
    {
      "id": "1bb4fa82-3ade-4f3f-be41-102d88ccb22a",
      "emoji": null,
      "title": "Разворачивание проекта",
      "content": "",
      "headId": 1470474,
      "archivedAt": null,
      "folderPathname": "/Nest-Prisma-template",
      "parentFolderId": "966441c0-7a90-453f-b559-c3b723c275c6",
      "teamId": "nhFMY3a5g",
      "generated": false,
      "createdAt": "2021-11-06T21:15:33.705Z",
      "updatedAt": "2021-11-06T21:24:12.430Z",
      "version": 4,
      "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
      "workspaceId": "4ae225f9-123d-4918-a49f-e0c91bd0b18a",
      "head": {
        "id": 1470474,
        "docId": "1bb4fa82-3ade-4f3f-be41-102d88ccb22a",
        "content": "### 1. Install Dependencies\n\nУстановка [Nestjs CLI](https://docs.nestjs.com/cli/usages) для запуска и генерации ресурсов CRUD [генерации ресурсов CRUD](https://trilon.io/blog/introducing-cli-generators-crud-api-in-1-minute)\n\n```bash\nnpm i -g @nestjs/cli\n```\n\nУстановите зависимости для приложения Nest:\n\n```bash\nnpm install\n```\n\n### 2. PostgreSQL с Docker\n\nНастройте разработку PostgreSQL с помощью Docker. Копируйте __.env.example__  и переименуйте в  `.env`. Обновите переменные по своему усмотрению.\n\nРазверните контейнер БД\n```bash\ndocker-compose -f docker-compose.db.yml up -d\n# or\nnpm run docker:db\n```\n\n### 3. Prisma Migrate\n\nPrisma Migrate используется для управления схемой и миграцией базы данных. Для источника данных Prisma требуется переменная среды `DATABASE_URL` для подключения к базе данных PostgreSQL. Prisma читает `DATABASE_URL` из файла  __.env__\n\nUse Prisma Migrate in your [development environment](https://www.prisma.io/blog/prisma-migrate-preview-b5eno5g08d0b#evolving-the-schema-in-development) to\n\n1. Creates `migration.sql` file\n2. Updates Database Schema\n3. Generates Prisma Client\n\n```bash\nnpx prisma migrate dev\n# or\nnpm run migrate:dev\n```\n\nIf you like to customize your `migration.sql` file run the following command. After making your customizations run `npx prisma migrate dev` to apply it.\n\n```bash\nnpx prisma migrate dev --create-only\n# or\nnpm run migrate:dev:create\n```\n\nIf you are happy with your database changes you want to deploy those changes to your [production database](https://www.prisma.io/blog/prisma-migrate-preview-b5eno5g08d0b#applying-migrations-in-production-and-other-environments). Use `prisma migrate deploy` to apply all pending migrations, can also be used in CI/CD pipelines as it works without prompts.\n\n```bash\nnpx prisma migrate deploy\n# or\nnpm run migrate:deploy\n```\n\n### 4. Prisma: Prisma Client JS\n\n[Prisma Client JS](https://www.prisma.io/docs/reference/tools-and-interfaces/prisma-client/api) is a type-safe database client auto-generated based on the data model.\n\nGenerate Prisma Client JS by running\n\n> **Note**: Every time you update [schema.prisma](prisma/schema.prisma) re-generate Prisma Client JS\n\n```bash\nnpx prisma generate\n# or\nnpm run prisma:generate\n```\n\n### 5. Seed the database data with this script\n\nExecute the script with this command:\n\n```bash\nnpm run seed\n```\n\n### 6. Start NestJS Server\n\nRun Nest Server in Development mode:\n\n```bash\nnpm run start\n\n# watch mode\nnpm run start:dev\n```\n\nRun Nest Server in Production mode:\n\n```bash\nnpm run start:prod\n```\n\nGraphQL Playground for the NestJS Server is available here: http://localhost:3000/graphql\n\n**[⬆ back to top](#overview)**\n\n## GraphQL Playground\n\nOpen up the [example GraphQL queries](graphql/auth.graphql) and copy them to the GraphQL Playground. Some queries and mutations are secured by an auth guard. You have to acquire a JWT token from `signup` or `login`. Add the `accessToken`as followed to **HTTP HEADERS** in the playground and replace `YOURTOKEN` here:\n\n```json\n{\n  \"Authorization\": \"Bearer YOURTOKEN\"\n}\n```\n\n## Rest Api\n\n[RESTful API](http://localhost:3000/api) documentation available with Swagger.\n\n## Docker\n\nNest server is a Node.js application and it is easily [dockerized](https://nodejs.org/de/docs/guides/nodejs-docker-webapp/).\n\nSee the [Dockerfile](./Dockerfile) on how to build a Docker image of your Nest server.\n\nNow to build a Docker image of your own Nest server simply run:\n\n```bash\n# give your docker image a name\ndocker build -t <your username>/nest-prisma-server .\n# for example\ndocker build -t nest-prisma-server .\n```\n\nAfter Docker build your docker image you are ready to start up a docker container running the nest server:\n\n```bash\ndocker run -d -t -p 3000:3000 --env-file .env nest-prisma-server\n```\n\nNow open up [localhost:3000](http://localhost:3000) to verify that your nest server is running.\n\nWhen you run your NestJS application in a Docker container update your [.env](.env) file\n\n```diff\n- DB_HOST=localhost\n# replace with name of the database container\n+ DB_HOST=postgres\n\n# Prisma database connection\n+ DATABASE_URL=postgresql://${POSTGRES_USER}:${POSTGRES_PASSWORD}@${DB_HOST}:${DB_PORT}/${POSTGRES_DB}?schema=${DB_SCHEMA}&sslmode=prefer\n```\n\nIf `DATABASE_URL` is missing in the root `.env` file, which is loaded into the Docker container, the NestJS application will exit with the following error:\n\n```bash\n(node:19) UnhandledPromiseRejectionWarning: Error: error: Environment variable not found: DATABASE_URL.\n  -->  schema.prisma:3\n   |\n 2 |   provider = \"postgresql\"\n 3 |   url      = env(\"DATABASE_URL\")\n```\n\n### Docker Compose\n\nYou can also setup a the database and Nest application with the docker-compose\n\n```bash\n# building new NestJS docker image\ndocker-compose build\n# or\nnpm run docker:build\n\n# start docker-compose\ndocker-compose up -d\n# or\nnpm run docker\n```\n\n## Schema Development\n\nUpdate the Prisma schema `prisma/schema.prisma` and after that run the following two commands:\n\n```bash\nnpx prisma generate\n# or in watch mode\nnpx prisma generate --watch\n# or\nnpm run prisma:generate\nnpm run prisma:generate:watch\n```\n\n**[⬆ back to top](#overview)**\n\n## NestJS - Api Schema\n\nThe [schema.graphql](./src/schema.graphql) is generated with [code first approach](https://docs.nestjs.com/graphql/quick-start#code-first). The schema is generated from the [models](./src/models/user.ts), the [resolvers](./src/resolvers/auth/auth.resolver.ts) and the [input](./src/resolvers/auth/dto/login.input.ts) classes.\n\nYou can use [class-validator](https://docs.nestjs.com/techniques/validation) to validate your inputs and arguments.\n\n### Resolver\n\nTo implement the new query, a new resolver function needs to be added to `users.resolver.ts`.\n\n```ts\n@Query(returns => User)\nasync getUser(@Args() args): Promise<User> {\n  return await this.prisma.client.user(args);\n}\n```\n\nRestart the NestJS server and this time the Query to fetch a `user` should work.\n\n**[⬆ back to top](#overview)**\n\n## GraphQL Client\n\nA GraphQL client is necessary to consume the GraphQL api provided by the NestJS Server.\n\nCheckout [Apollo](https://www.apollographql.com/) a popular GraphQL client which offers several clients for React, Angular, Vue.js, Native iOS, Native Android and more.\n\n### Angular\n\n#### Setup\n\nTo start using [Apollo Angular](https://www.apollographql.com/docs/angular/basics/setup.html) simply run in an Angular and Ionic project:\n\n```bash\nng add apollo-angular\n```\n\n`HttpLink` from apollo-angular requires the `HttpClient`. Therefore, you need to add the `HttpClientModule` to the `AppModule`:\n\n```ts\nimports: [BrowserModule,\n    HttpClientModule,\n    ...,\n    GraphQLModule],\n```\n\nYou can also add the `GraphQLModule` in the `AppModule` to make `Apollo` available in your Angular App.\n\nYou need to set the URL to the NestJS GraphQL Api. Open the file `src/app/graphql.module.ts` and update `uri`:\n\n```ts\nconst uri = 'http://localhost:3000/graphql';\n```\n\nTo use Apollo-Angular you can inject `private apollo: Apollo` into the constructor of a page, component or service.\n\n**[⬆ back to top](#overview)**\n\n#### Queries\n\nTo execute a query you can use:\n\n```ts\nthis.apollo.query({query: YOUR_QUERY});\n\n# or\n\nthis.apollo.watchQuery({\n  query: YOUR_QUERY\n}).valueChanges;\n```\n\nHere is an example how to fetch your profile from the NestJS GraphQL Api:\n\n```ts\nconst CurrentUserProfile = gql`\n  query CurrentUserProfile {\n    me {\n      id\n      email\n      name\n    }\n  }\n`;\n\n@Component({\n  selector: 'app-home',\n  templateUrl: 'home.page.html',\n  styleUrls: ['home.page.scss'],\n})\nexport class HomePage implements OnInit {\n  data: Observable<any>;\n\n  constructor(private apollo: Apollo) {}\n\n  ngOnInit() {\n    this.data = this.apollo.watchQuery({\n      query: CurrentUserProfile,\n    }).valueChanges;\n  }\n}\n```\n\nUse the `AsyncPipe` and [SelectPipe](https://www.apollographql.com/docs/angular/basics/queries.html#select-pipe) to unwrap the data Observable in the template:\n\n```html\n<div *ngIf=\"data | async | select: 'me' as me\">\n  <p>Me id: {{me.id}}</p>\n  <p>Me email: {{me.email}}</p>\n  <p>Me name: {{me.name}}</p>\n</div>\n```\n\nOr unwrap the data using [RxJs](https://www.apollographql.com/docs/angular/basics/queries.html#rxjs).\n\nThis will end up in an `GraphQL error` because `Me` is protected by an `@UseGuards(GqlAuthGuard)` and requires an `Bearer TOKEN`.\nPlease refer to the [Authentication](#authentication) section.\n\n**[⬆ back to top](#overview)**\n\n#### Mutations\n\nTo execute a mutation you can use:\n\n```ts\nthis.apollo.mutate({\n  mutation: YOUR_MUTATION,\n});\n```\n\nHere is an example how to login into your profile using the `login` Mutation:\n\n```ts\nconst Login = gql`\n  mutation Login {\n    login(email: \"test@example.com\", password: \"pizzaHawaii\") {\n      token\n      user {\n        id\n        email\n        name\n      }\n    }\n  }\n`;\n\n@Component({\n  selector: 'app-home',\n  templateUrl: 'home.page.html',\n  styleUrls: ['home.page.scss'],\n})\nexport class HomePage implements OnInit {\n  data: Observable<any>;\n\n  constructor(private apollo: Apollo) {}\n\n  ngOnInit() {\n    this.data = this.apollo.mutate({\n      mutation: Login,\n    });\n  }\n}\n```\n\n**[⬆ back to top](#overview)**\n\n#### Subscriptions\n\nTo execute a subscription you can use:\n\n```ts\nthis.apollo.subscribe({\n  query: YOUR_SUBSCRIPTION_QUERY,\n});\n```\n\n**[⬆ back to top](#overview)**\n\n#### Authentication\n\nTo authenticate your requests you have to add your `TOKEN` you receive on `signup` and `login` [mutation](#mutations) to each request which is protected by the `@UseGuards(GqlAuthGuard)`.\n\nBecause the apollo client is using `HttpClient` under the hood you are able to simply use an `Interceptor` to add your token to the requests.\n\nCreate the following class:\n\n```ts\nimport { Injectable } from '@angular/core';\nimport {\n  HttpEvent,\n  HttpInterceptor,\n  HttpHandler,\n  HttpRequest,\n} from '@angular/common/http';\nimport { Observable } from 'rxjs';\n\n@Injectable()\nexport class TokenInterceptor implements HttpInterceptor {\n  constructor() {}\n\n  intercept(\n    req: HttpRequest<any>,\n    next: HttpHandler\n  ): Observable<HttpEvent<any>> {\n    const token = 'YOUR_TOKEN'; // get from local storage\n    if (token !== undefined) {\n      req = req.clone({\n        setHeaders: {\n          Authorization: `Bearer ${token}`,\n        },\n      });\n    }\n\n    return next.handle(req);\n  }\n}\n```\n\nAdd the Interceptor to the `AppModule` providers like this:\n\n```ts\nproviders: [\n    ...\n    { provide: HTTP_INTERCEPTORS, useClass: TokenInterceptor, multi: true },\n    ...\n  ]\n```\n\nAfter you configured the Interceptor and retrieved the `TOKEN` from storage your request will succeed on resolvers with `@UseGuards(GqlAuthGuard)`.\n\n**[⬆ back to top](#overview)**\n",
        "message": "",
        "created": "2021-11-06T21:24:12.419Z",
        "creators": [
          {
            "id": "b0568c88-bb34-4420-969e-41238089a0d4",
            "uniqueName": "google#113467622262670857280",
            "displayName": "Alexander Matviienko",
            "createdAt": "2021-05-10T19:50:11.968Z",
            "updatedAt": "2021-05-10T19:50:31.732Z"
          }
        ]
      }
    },
    {
      "id": "c2633bda-c40c-4940-ae88-ddb0fe01f3e6",
      "emoji": null,
      "title": "Поиск",
      "content": "",
      "headId": null,
      "archivedAt": null,
      "folderPathname": "/MyNote/Функционал",
      "parentFolderId": "20c52980-6f6b-496d-8e5d-aa8ffb717717",
      "teamId": "nhFMY3a5g",
      "generated": false,
      "createdAt": "2021-10-26T14:56:53.807Z",
      "updatedAt": "2021-10-26T14:56:53.807Z",
      "version": 1,
      "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
      "workspaceId": "309011fd-0b61-4b75-a6fe-a3a711e8a079",
      "head": null
    },
    {
      "id": "10b3e519-6743-4e71-a31e-442bb6f64cc0",
      "emoji": null,
      "title": "Теги",
      "content": "",
      "headId": null,
      "archivedAt": null,
      "folderPathname": "/MyNote/Функционал",
      "parentFolderId": "20c52980-6f6b-496d-8e5d-aa8ffb717717",
      "teamId": "nhFMY3a5g",
      "generated": false,
      "createdAt": "2021-10-26T14:54:43.719Z",
      "updatedAt": "2021-10-26T14:54:43.719Z",
      "version": 1,
      "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
      "workspaceId": "309011fd-0b61-4b75-a6fe-a3a711e8a079",
      "head": null
    },
    {
      "id": "3c32347e-d3d3-4cc1-a8f5-c353b57ba565",
      "emoji": null,
      "title": "Создание аудиозаписей и текста под диктовку",
      "content": "",
      "headId": null,
      "archivedAt": null,
      "folderPathname": "/MyNote/Функционал",
      "parentFolderId": "20c52980-6f6b-496d-8e5d-aa8ffb717717",
      "teamId": "nhFMY3a5g",
      "generated": false,
      "createdAt": "2021-10-26T14:46:40.796Z",
      "updatedAt": "2021-10-26T14:46:40.796Z",
      "version": 1,
      "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
      "workspaceId": "309011fd-0b61-4b75-a6fe-a3a711e8a079",
      "head": null
    },
    {
      "id": "4700f006-95f7-471c-ac9a-ebb6e48cd4a8",
      "emoji": null,
      "title": "Блокнот с OneNote",
      "content": "",
      "headId": null,
      "archivedAt": null,
      "folderPathname": "/MyNote/Функционал",
      "parentFolderId": "20c52980-6f6b-496d-8e5d-aa8ffb717717",
      "teamId": "nhFMY3a5g",
      "generated": false,
      "createdAt": "2021-10-26T14:44:51.226Z",
      "updatedAt": "2021-10-26T14:44:51.226Z",
      "version": 1,
      "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
      "workspaceId": "309011fd-0b61-4b75-a6fe-a3a711e8a079",
      "head": null
    },
    {
      "id": "0a8c23eb-b960-4258-b5bc-2027a451856f",
      "emoji": null,
      "title": "Цветовые и иконочные схемы",
      "content": "",
      "headId": null,
      "archivedAt": null,
      "folderPathname": "/MyNote/Функционал",
      "parentFolderId": "20c52980-6f6b-496d-8e5d-aa8ffb717717",
      "teamId": "nhFMY3a5g",
      "generated": false,
      "createdAt": "2021-10-26T14:42:28.101Z",
      "updatedAt": "2021-10-26T14:42:28.101Z",
      "version": 1,
      "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
      "workspaceId": "309011fd-0b61-4b75-a6fe-a3a711e8a079",
      "head": null
    },
    {
      "id": "08bcc624-ed5d-40f9-a717-d3872aa6bfcf",
      "emoji": null,
      "title": "Блок-схемы",
      "content": "",
      "headId": null,
      "archivedAt": null,
      "folderPathname": "/MyNote/Функционал",
      "parentFolderId": "20c52980-6f6b-496d-8e5d-aa8ffb717717",
      "teamId": "nhFMY3a5g",
      "generated": false,
      "createdAt": "2021-10-26T14:41:50.614Z",
      "updatedAt": "2021-10-26T14:41:50.614Z",
      "version": 1,
      "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
      "workspaceId": "309011fd-0b61-4b75-a6fe-a3a711e8a079",
      "head": null
    },
    {
      "id": "48d95ee5-c379-4e77-98bc-0f1f2861f73b",
      "emoji": null,
      "title": "Шаблон для истемейта",
      "content": "",
      "headId": null,
      "archivedAt": null,
      "folderPathname": "/MyNote/Функционал",
      "parentFolderId": "20c52980-6f6b-496d-8e5d-aa8ffb717717",
      "teamId": "nhFMY3a5g",
      "generated": false,
      "createdAt": "2021-10-26T14:41:13.545Z",
      "updatedAt": "2021-10-26T14:41:13.545Z",
      "version": 1,
      "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
      "workspaceId": "309011fd-0b61-4b75-a6fe-a3a711e8a079",
      "head": null
    },
    {
      "id": "d99a30d3-9191-4d04-bc2e-395a463db37e",
      "emoji": null,
      "title": "Рисование пером",
      "content": "",
      "headId": null,
      "archivedAt": null,
      "folderPathname": "/MyNote/Функционал",
      "parentFolderId": "20c52980-6f6b-496d-8e5d-aa8ffb717717",
      "teamId": "nhFMY3a5g",
      "generated": false,
      "createdAt": "2021-10-26T14:40:45.301Z",
      "updatedAt": "2021-10-26T14:40:45.301Z",
      "version": 1,
      "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
      "workspaceId": "309011fd-0b61-4b75-a6fe-a3a711e8a079",
      "head": null
    },
    {
      "id": "4159b31c-268a-4cbd-a348-7df78c1c46d1",
      "emoji": null,
      "title": "Рукописный ввод",
      "content": "",
      "headId": null,
      "archivedAt": null,
      "folderPathname": "/MyNote/Функционал",
      "parentFolderId": "20c52980-6f6b-496d-8e5d-aa8ffb717717",
      "teamId": "nhFMY3a5g",
      "generated": false,
      "createdAt": "2021-10-26T14:40:32.013Z",
      "updatedAt": "2021-10-26T14:40:32.013Z",
      "version": 1,
      "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
      "workspaceId": "309011fd-0b61-4b75-a6fe-a3a711e8a079",
      "head": null
    },
    {
      "id": "a3ba4302-14de-41f9-8feb-be571dc27e53",
      "emoji": null,
      "title": "Связывание",
      "content": "",
      "headId": 1393317,
      "archivedAt": null,
      "folderPathname": "/MyNote",
      "parentFolderId": "78d8fe07-cb7d-4dd6-8d80-885bf60dd0b6",
      "teamId": "nhFMY3a5g",
      "generated": false,
      "createdAt": "2021-10-23T05:46:12.302Z",
      "updatedAt": "2021-10-23T05:46:59.519Z",
      "version": 2,
      "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
      "workspaceId": "309011fd-0b61-4b75-a6fe-a3a711e8a079",
      "head": {
        "id": 1393317,
        "docId": "a3ba4302-14de-41f9-8feb-be571dc27e53",
        "content": "1. Текст\n2. Блок-схемы\n3. Файлы",
        "message": "",
        "created": "2021-10-23T05:46:59.494Z",
        "creators": [
          {
            "id": "b0568c88-bb34-4420-969e-41238089a0d4",
            "uniqueName": "google#113467622262670857280",
            "displayName": "Alexander Matviienko",
            "createdAt": "2021-05-10T19:50:11.968Z",
            "updatedAt": "2021-05-10T19:50:31.732Z"
          }
        ]
      }
    },
    {
      "id": "5b25a4a5-0c99-4889-886f-cbe19b1eb3d8",
      "emoji": null,
      "title": "Добавить от себя",
      "content": "",
      "headId": 1393308,
      "archivedAt": null,
      "folderPathname": "/MyNote",
      "parentFolderId": "78d8fe07-cb7d-4dd6-8d80-885bf60dd0b6",
      "teamId": "nhFMY3a5g",
      "generated": false,
      "createdAt": "2021-10-23T05:43:56.629Z",
      "updatedAt": "2021-10-23T05:45:56.933Z",
      "version": 2,
      "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
      "workspaceId": "309011fd-0b61-4b75-a6fe-a3a711e8a079",
      "head": {
        "id": 1393308,
        "docId": "5b25a4a5-0c99-4889-886f-cbe19b1eb3d8",
        "content": "1. Цветовая схема по умолчанию.\n2. Добавление блок-схем\n3. Гибкое создание кодовых блоков и связывание этого дела с блок-схемами",
        "message": "",
        "created": "2021-10-23T05:45:56.923Z",
        "creators": [
          {
            "id": "b0568c88-bb34-4420-969e-41238089a0d4",
            "uniqueName": "google#113467622262670857280",
            "displayName": "Alexander Matviienko",
            "createdAt": "2021-05-10T19:50:11.968Z",
            "updatedAt": "2021-05-10T19:50:31.732Z"
          }
        ]
      }
    },
    {
      "id": "2a506554-f91e-486c-b2ba-0ff317cbfc7a",
      "emoji": null,
      "title": "BoostNote",
      "content": "",
      "headId": 1393303,
      "archivedAt": null,
      "folderPathname": "/MyNote/Что перенять из",
      "parentFolderId": "34b3478e-04bc-45ce-b97e-276564c2a902",
      "teamId": "nhFMY3a5g",
      "generated": false,
      "createdAt": "2021-10-23T05:37:29.317Z",
      "updatedAt": "2021-10-23T05:41:55.734Z",
      "version": 6,
      "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
      "workspaceId": "309011fd-0b61-4b75-a6fe-a3a711e8a079",
      "head": {
        "id": 1393303,
        "docId": "2a506554-f91e-486c-b2ba-0ff317cbfc7a",
        "content": "В общем Boost Note отличный редактор функционал которого можно перенять на первое время. Убрав лишнее и добавив свое.",
        "message": "",
        "created": "2021-10-23T05:41:55.726Z",
        "creators": [
          {
            "id": "b0568c88-bb34-4420-969e-41238089a0d4",
            "uniqueName": "google#113467622262670857280",
            "displayName": "Alexander Matviienko",
            "createdAt": "2021-05-10T19:50:11.968Z",
            "updatedAt": "2021-05-10T19:50:31.732Z"
          }
        ]
      }
    },
    {
      "id": "9c064a5f-0df3-4558-8168-769895dfabe3",
      "emoji": null,
      "title": "Typora",
      "content": "",
      "headId": 1393294,
      "archivedAt": null,
      "folderPathname": "/MyNote/Что перенять из",
      "parentFolderId": "34b3478e-04bc-45ce-b97e-276564c2a902",
      "teamId": "nhFMY3a5g",
      "generated": false,
      "createdAt": "2021-10-23T05:34:55.688Z",
      "updatedAt": "2021-10-23T05:37:31.965Z",
      "version": 2,
      "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
      "workspaceId": "309011fd-0b61-4b75-a6fe-a3a711e8a079",
      "head": {
        "id": 1393294,
        "docId": "9c064a5f-0df3-4558-8168-769895dfabe3",
        "content": "1. Режим полноэкранного текстового редактора, в этом режиме текстовое полотно становиться во весь экран приложения убирая прочий интерфейс.",
        "message": "",
        "created": "2021-10-23T05:37:31.952Z",
        "creators": [
          {
            "id": "b0568c88-bb34-4420-969e-41238089a0d4",
            "uniqueName": "google#113467622262670857280",
            "displayName": "Alexander Matviienko",
            "createdAt": "2021-05-10T19:50:11.968Z",
            "updatedAt": "2021-05-10T19:50:31.732Z"
          }
        ]
      }
    },
    {
      "id": "65cef3af-4062-44f3-87d7-7715188a5985",
      "emoji": null,
      "title": "Паттерн приватного роута",
      "content": "",
      "headId": 1383391,
      "archivedAt": null,
      "folderPathname": "/React/Apollo/Паттерны",
      "parentFolderId": "cb0b4d9f-a748-4aa2-aaa8-a4c6de30f7cd",
      "teamId": "nhFMY3a5g",
      "generated": false,
      "createdAt": "2021-10-21T08:37:52.444Z",
      "updatedAt": "2021-10-21T08:39:22.127Z",
      "version": 2,
      "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
      "workspaceId": "4ae225f9-123d-4918-a49f-e0c91bd0b18a",
      "head": {
        "id": 1383391,
        "docId": "65cef3af-4062-44f3-87d7-7715188a5985",
        "content": "``` js\nconst IS_LOGGED_IN = gql`\n  {\n    isLoggedIn @client \n  }\n`\n\nconst Pages = () => {\n  return (\n    <Router>\n      <Layout>\n        <Route exact path=\"/\" component={Home}/>\n        <PrivateRoute path=\"/mynotes\" component={MyNotes}/>\n        <PrivateRoute path=\"/favorites\" component={Favorites}/>\n        <Route path=\"/note/:id\" component={NotePage}/>\n        <Route path=\"/signup\" component={SignUp}/>\n        <Route path=\"/signin\" component={SignIn} />\n      </Layout>\n    </Router>\n  )\n}\n\nconst PrivateRoute = ({component: Component, ...rest}) => {\n  const {loading, error, data} = useQuery(IS_LOGGED_IN)\n  // Если данные загружаются, выводим сообщение о загрузке\n  if (loading) return <p>Loading...</p>;\n// Если при получении данных произошел сбой, выводим сообщение об ошибке\n  if (error) return <p>Error!</p>;\n// Если пользователь авторизован, направляем его к запрашиваемому компоненту\n// В противном случае перенаправляем на страницу авторизации\n  return (\n    <Route {...rest}\n      render={props =>\n        data.isLoggedIn === true ? (\n          <Component {...props}/>\n        ): (\n          <Redirect to={{\n            pathname: '/signin',\n            state: {from: props.location}\n          }}\n          />\n        )\n      }\n    />\n  )\n}\n```\n\nКогда мы переадресуем приватный маршрут, мы также сохраняем соответ-\nствующий ему URL как состояние. Это позволяет перенаправлять пользова-\nтелей обратно на страницу, на которую они пытались перейти изначально. Мы\nможем обновить переадресацию на страницу авторизации, чтобы при необхо-\nдимости активировать эту функцию с помощью props.state.location.from .",
        "message": "",
        "created": "2021-10-21T08:39:22.119Z",
        "creators": [
          {
            "id": "b0568c88-bb34-4420-969e-41238089a0d4",
            "uniqueName": "google#113467622262670857280",
            "displayName": "Alexander Matviienko",
            "createdAt": "2021-05-10T19:50:11.968Z",
            "updatedAt": "2021-05-10T19:50:31.732Z"
          }
        ]
      }
    },
    {
      "id": "283706c6-5e94-42cc-95d6-77d3521f6af1",
      "emoji": null,
      "title": "Запись данных в кеш",
      "content": "",
      "headId": 1383254,
      "archivedAt": null,
      "folderPathname": "/React/Apollo",
      "parentFolderId": "917eb315-1d9e-4a59-8923-1813b06e6ef5",
      "teamId": "nhFMY3a5g",
      "generated": false,
      "createdAt": "2021-10-20T18:15:26.334Z",
      "updatedAt": "2021-10-21T08:13:08.330Z",
      "version": 6,
      "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
      "workspaceId": "4ae225f9-123d-4918-a49f-e0c91bd0b18a",
      "head": {
        "id": 1383254,
        "docId": "283706c6-5e94-42cc-95d6-77d3521f6af1",
        "content": "1. Что бы иметь возможность делать запросы к кешу надо добавить в конфигурацию ApolloClient пустой объект resolvers как показано ниже.\n\n``` js\nconst client = new ApolloClient({\nlink: authLink.concat(httpLink),\ncache,\nresolvers: {},\nconnectToDevTools: true\n});\n```\n\n2. После что бы записать данные в кеш необходимо использовать метод client.writeData() на подобии примера снизу.\n\n``` js\nconst client = useApolloClient();\nclient.writeData({ data: { isLoggedIn: true } });\n```\n\nочень желательно делать запись в __data__\n\n3. Для изъятия данных с кеша необходимо обратиться к нему через вот такой запрос \n\n``` js\nconst IS_LOGGED_IN = gql`\n  {\n    isLogged @client\n  }\n`\n```\n\nГде сначала указываем свойство которое ходим достать, а после пишем директиву __@client__ чем даем понять что нам необходимо достать данные исключительно из кеша\n\n\nПосле делаем обычный запрос через useQuery\n\n``` js\nconst {data, client} = useQuery(IS_LOGGED_IN)\n```\n\n4. Так же можно обрабатывать данные в кеше в момент инициализаци. Вот пример\n\n``` js\n/ Настраиваем Apollo Client\nconst client = new ApolloClient({\n  link: authLink.concat(httpLink),\n  uri,\n  cache,\n  resolvers: {},\n  connectToDevTools: true\n})\n\n// Проверяем наличие локального токена\nconst data = {\n  isLoggedIn: !!localStorage.getItem('token')\n}\n// Записываем данные кэша при начальной загрузке\ncache.writeData({data})\n// Записываем данные кэша после его сброса\nclient.onResetStore(() => cache.writeData({data}))\n\nconst App = () => {\n  return(\n    <ApolloProvider client={client}>\n      <GlobalStyle/>\n      <Pages/>\n    </ApolloProvider>\n  )\n}\n```",
        "message": "",
        "created": "2021-10-21T08:13:08.310Z",
        "creators": [
          {
            "id": "b0568c88-bb34-4420-969e-41238089a0d4",
            "uniqueName": "google#113467622262670857280",
            "displayName": "Alexander Matviienko",
            "createdAt": "2021-05-10T19:50:11.968Z",
            "updatedAt": "2021-05-10T19:50:31.732Z"
          }
        ]
      }
    },
    {
      "id": "cac1bd6c-6668-49b8-a110-371797d68cda",
      "emoji": null,
      "title": "Регистрация на Apollo",
      "content": "",
      "headId": 1378982,
      "archivedAt": null,
      "folderPathname": "/React/Apollo",
      "parentFolderId": "917eb315-1d9e-4a59-8923-1813b06e6ef5",
      "teamId": "nhFMY3a5g",
      "generated": false,
      "createdAt": "2021-10-20T14:40:43.708Z",
      "updatedAt": "2021-10-20T14:42:19.681Z",
      "version": 2,
      "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
      "workspaceId": "4ae225f9-123d-4918-a49f-e0c91bd0b18a",
      "head": {
        "id": 1378982,
        "docId": "cac1bd6c-6668-49b8-a110-371797d68cda",
        "content": "``` js\nconst SignUp = props => {\n  const [values, setValues] = useState();\n\n  const onChange = event => {\n    setValues({\n      ...values,\n    [event.target.name]: event.target.value\n    })\n  }\n\n  const [signUp, {loading, error}] = useMutation(SIGNUP_USER, {\n    onCompleted: data => {\n      localStorage.setItem('token', data.signUp);\n      // Редирект на домашнюю страницу\n      props.history.push('/');\n    }\n  })\n\n  return (\n    <Wrapper>\n      <Form\n      onSubmit={event => {\n        event.preventDefault();\n        signUp({\n          variables: {\n            ...values\n          }\n        })\n      }}\n      >\n        <label htmlFor=\"username\">Username:</label>\n        <input\n          required\n          type=\"text\"\n          id=\"username\"\n          name=\"username\"\n          placeholder=\"username\"\n          onChange={onChange}\n        />\n        <label htmlFor=\"email\">Email:</label>\n        <input\n          required\n          type=\"email\"\n          id=\"email\"\n          name=\"email\"\n          placeholder=\"Email\"\n          onChange={onChange}\n        />\n        <label htmlFor=\"password\">Password:</label>\n        <input\n          required\n          type=\"password\"\n          id=\"password\"\n          name=\"password\"\n          placeholder=\"Password\"\n          onChange={onChange}\n        />\n        <Button type=\"submit\">Submit</Button>\n      </Form>\n    </Wrapper>\n  );\n};\n```",
        "message": "",
        "created": "2021-10-20T14:42:19.671Z",
        "creators": [
          {
            "id": "b0568c88-bb34-4420-969e-41238089a0d4",
            "uniqueName": "google#113467622262670857280",
            "displayName": "Alexander Matviienko",
            "createdAt": "2021-05-10T19:50:11.968Z",
            "updatedAt": "2021-05-10T19:50:31.732Z"
          }
        ]
      }
    },
    {
      "id": "fdc81bbf-bdb9-4eab-9b14-e4ece034631e",
      "emoji": null,
      "title": "Универсальный обрапотчик значений компаонентов форм",
      "content": "",
      "headId": 1378979,
      "archivedAt": null,
      "folderPathname": "/React/Полезные фичи",
      "parentFolderId": "c6484bea-b2af-4ec6-acc0-8711f7ea8942",
      "teamId": "nhFMY3a5g",
      "generated": false,
      "createdAt": "2021-10-20T14:36:32.263Z",
      "updatedAt": "2021-10-20T14:40:28.959Z",
      "version": 2,
      "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
      "workspaceId": "4ae225f9-123d-4918-a49f-e0c91bd0b18a",
      "head": {
        "id": 1378979,
        "docId": "fdc81bbf-bdb9-4eab-9b14-e4ece034631e",
        "content": "Фишка этого обработчика состоит в том что мне больше не обязательно пложить куча состояний для инпутов и прочих. Достаточно одногой состояния, одной функции обработчик и дать имена инпутам в соответсвии с данными которые готовится принять api\n\nПример:\n``` js\n  const [values, setValues] = useState();\n\n  const onChange = event => {\n    setValues({\n      ...values,\n    [event.target.name]: event.target.value\n    })\n  }\n  \n  return (\n    <Wrapper>\n      <Form\n      onSubmit={event => {\n        event.preventDefault();\n        signUp({\n          variables: {\n            ...values\n          }\n        })\n      }}\n      >\n        <label htmlFor=\"username\">Username:</label>\n        <input\n          required\n          type=\"text\"\n          id=\"username\"\n          name=\"username\"\n          placeholder=\"username\"\n          onChange={onChange}\n        />\n        <label htmlFor=\"email\">Email:</label>\n        <input\n          required\n          type=\"email\"\n          id=\"email\"\n          name=\"email\"\n          placeholder=\"Email\"\n          onChange={onChange}\n        />\n        <label htmlFor=\"password\">Password:</label>\n        <input\n          required\n          type=\"password\"\n          id=\"password\"\n          name=\"password\"\n          placeholder=\"Password\"\n          onChange={onChange}\n        />\n        <Button type=\"submit\">Submit</Button>\n      </Form>\n    </Wrapper>\n  );\n};\n```\n\n",
        "message": "",
        "created": "2021-10-20T14:40:28.947Z",
        "creators": [
          {
            "id": "b0568c88-bb34-4420-969e-41238089a0d4",
            "uniqueName": "google#113467622262670857280",
            "displayName": "Alexander Matviienko",
            "createdAt": "2021-05-10T19:50:11.968Z",
            "updatedAt": "2021-05-10T19:50:31.732Z"
          }
        ]
      }
    },
    {
      "id": "f07e0f9c-55d8-4fe9-88ca-0579dff7df6d",
      "emoji": null,
      "title": "FetchMore pagination",
      "content": "",
      "headId": null,
      "archivedAt": null,
      "folderPathname": "/React/Apollo",
      "parentFolderId": "917eb315-1d9e-4a59-8923-1813b06e6ef5",
      "teamId": "nhFMY3a5g",
      "generated": false,
      "createdAt": "2021-10-20T13:00:29.032Z",
      "updatedAt": "2021-10-20T13:00:29.032Z",
      "version": 1,
      "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
      "workspaceId": "4ae225f9-123d-4918-a49f-e0c91bd0b18a",
      "head": null
    },
    {
      "id": "43443cc1-342f-442d-91df-ab7636a4c3d9",
      "emoji": null,
      "title": "Дата и время",
      "content": "",
      "headId": 1337714,
      "archivedAt": null,
      "folderPathname": "/",
      "parentFolderId": null,
      "teamId": "nhFMY3a5g",
      "generated": false,
      "createdAt": "2021-10-13T17:38:50.485Z",
      "updatedAt": "2021-10-13T17:41:18.435Z",
      "version": 2,
      "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
      "workspaceId": "11279ac2-ffa0-4af9-a881-97601ea0fb70",
      "head": {
        "id": 1337714,
        "docId": "43443cc1-342f-442d-91df-ab7636a4c3d9",
        "content": "Давайте обновим нашу GraphQL-схему в файле src/schema.js , добавив пользовательский скаляр в верхнюю часть строкового литерала \n``` js\nmodule.exports = gql`\n  scalar DateTime\n...\n`;\n```\nТеперь добавьте в тип Note поля createdAt и updatedAt :\n``` js\ntype Note {\n  id: ID!\n  content: String!\n  author: String!\n  createdAt: DateTime!\n  updatedAt: DateTime!\n}\n```\nПоследним шагом будет проверка этого нового типа. Хотя мы и можем прописать\nсобственную проверку, в данном случае мы будем использовать пакет graphql-iso-date ( https://oreil.ly/CtmP6 ). Для этого мы добавим проверку во все функции\nраспознавания, запрашивающие значения с типом DateTime .\nИмпортируйте этот пакет в файл src/resolvers/index.js и добавьте значение DateTime\nв экспортированные распознаватели:\n``` js\nconst Query = require('./query');\nconst Mutation = require('./mutation');\nconst { GraphQLDateTime } = require('graphql-iso-date');\nmodule.exports = {\nQuery,\nMutation,\nDateTime: GraphQLDateTime\n};\n```\nЕсли теперь перейти на GraphQL Playground и обновить страницу, то можно\nпроверить, работают ли наши пользовательские типы, как планировалось. Если\nобратиться к схеме, то можно увидеть, что поля createdAt и updatedAt имеют\nтип DateTime . Как показано на рис. 6.1, документация для этого типа сообщает,\nчто он является «строкой даты и времени в формате UTC».\nЧтобы все это проверить, давайте напишем на площадке GraphQL мутацию\nnewNote , включающую поля даты:\n``` js\nmutation {\n  newNote (content: \"This is a note with a custom type!\") {\n  content\n  author\n  id\n  createdAt\n  updatedAt\n  }\n}\n```",
        "message": "",
        "created": "2021-10-13T17:41:18.426Z",
        "creators": [
          {
            "id": "b0568c88-bb34-4420-969e-41238089a0d4",
            "uniqueName": "google#113467622262670857280",
            "displayName": "Alexander Matviienko",
            "createdAt": "2021-05-10T19:50:11.968Z",
            "updatedAt": "2021-05-10T19:50:31.732Z"
          }
        ]
      }
    },
    {
      "id": "5c8e48f2-4f45-49ea-9d2f-c68ad5c2fe1f",
      "emoji": null,
      "title": "Рецепт проброса ключа",
      "content": "",
      "headId": 1334436,
      "archivedAt": null,
      "folderPathname": "/SSH",
      "parentFolderId": "0033d178-c55a-457e-bb3f-bade91d8ea4b",
      "teamId": "nhFMY3a5g",
      "generated": false,
      "createdAt": "2021-10-13T08:33:22.042Z",
      "updatedAt": "2021-10-13T08:33:49.097Z",
      "version": 2,
      "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
      "workspaceId": "4ae225f9-123d-4918-a49f-e0c91bd0b18a",
      "head": {
        "id": 1334436,
        "docId": "5c8e48f2-4f45-49ea-9d2f-c68ad5c2fe1f",
        "content": "Для инстркуции перейди сюды [https://jeka.by/ask/182/ssh-without-password/#answer-79](url)",
        "message": "",
        "created": "2021-10-13T08:33:49.089Z",
        "creators": [
          {
            "id": "b0568c88-bb34-4420-969e-41238089a0d4",
            "uniqueName": "google#113467622262670857280",
            "displayName": "Alexander Matviienko",
            "createdAt": "2021-05-10T19:50:11.968Z",
            "updatedAt": "2021-05-10T19:50:31.732Z"
          }
        ]
      }
    },
    {
      "id": "5046c593-8d71-4854-bff4-bb614deb3fee",
      "emoji": null,
      "title": "Обновление токенов access + refresh",
      "content": "",
      "headId": 1318835,
      "archivedAt": null,
      "folderPathname": "/React/Apollo",
      "parentFolderId": "917eb315-1d9e-4a59-8923-1813b06e6ef5",
      "teamId": "nhFMY3a5g",
      "generated": false,
      "createdAt": "2021-10-11T06:18:12.230Z",
      "updatedAt": "2021-10-11T06:19:47.408Z",
      "version": 2,
      "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
      "workspaceId": "4ae225f9-123d-4918-a49f-e0c91bd0b18a",
      "head": {
        "id": 1318835,
        "docId": "5046c593-8d71-4854-bff4-bb614deb3fee",
        "content": "``` js\nimport React from 'react'\nimport ReactDOM from 'react-dom'\nimport {\n  ApolloClient,\n  ApolloProvider,\n  HttpLink,\n  InMemoryCache,\n  fromPromise,\n  ApolloLink\n} from \"@apollo/client\";\n// Apps\nimport {App} from './app/App'\nimport {MetronicI18nProvider} from './_metronic/i18n/Metronici18n'\n\n/**\n * TIP: Replace this style import with dark styles to enable dark mode\n *\n * import './_metronic/assets/sass/style.dark.scss'\n **/\nimport './_metronic/assets/sass/style.scss'\nimport {setContext} from \"@apollo/client/link/context\";\nimport {onError} from \"@apollo/client/link/error\";\nimport {REFRESH_TOKEN} from \"./apollo/apollo/queries/authAdmin\";\n\n/**\n * Base URL of the website.\n *\n * @see https://facebook.github.io/create-react-app/docs/using-the-public-folder\n */\nconst {PUBLIC_URL} = process.env\n\n\n// Init Apollo================\n\nlet client: ApolloClient<any>\nconst httpLink = new HttpLink({uri: 'https://retter-local.dev-test.pro/graphql'})\n\nconst withTokenLink = setContext((_, {headers}) => {\n  const token = localStorage.getItem('admin_access_token');\n  return {\n    headers: {\n      ...headers,\n      authorization: token ? `Bearer ${token}` : \"\",\n    }\n  }\n});\n\ninterface IRefreshResponse {\n  refreshToken: {\n    refreshToken: string\n    accessToken: string\n  }\n\n  [key: string]: any\n}\n\nconst getNewTokenPair = () => {\n  const refreshToken = localStorage.getItem('admin_refresh_token')\n  return client.mutate({mutation: REFRESH_TOKEN, variables: {refreshToken}})\n    .then((data) => {\n      console.log('DATA', data)\n      if (data.data) {\n        return data.data?.refreshToken;\n      }\n    })\n    .catch(err => {\n      console.log('$$$>>', err)\n      // return\n    });\n};\n\nconst tokenErrorLink = onError(\n  ({graphQLErrors, networkError, operation, forward}) => {\n    if (graphQLErrors) {\n      for (let err of graphQLErrors) {\n        if (err.message === 'Access token error: jwt expired') {\n          return fromPromise(\n            getNewTokenPair().catch((error) => {\n              console.log('from getNewTokenPair>> ', error)\n              return;\n            })\n          )\n            .filter((data = {}) => Boolean(data?.accessToken) && Boolean(data?.refreshToken))\n            .flatMap(({accessToken, refreshToken}) => {\n              const oldHeaders = operation.getContext().headers;\n              operation.setContext({\n                headers: {\n                  ...oldHeaders,\n                  authorization: `Bearer ${accessToken}`,\n                },\n              });\n\n              localStorage.setItem('admin_access_token', accessToken)\n              localStorage.setItem('admin_refresh_token', refreshToken)\n\n              return forward(operation);\n            });\n        }\n      }\n    }\n  }\n);\n\nclient = new ApolloClient({\n  link: ApolloLink.from([tokenErrorLink, withTokenLink, httpLink]),\n  cache: new InMemoryCache()\n});\n\n\nReactDOM.render(\n  <ApolloProvider client={client}>\n    <MetronicI18nProvider>\n      <App basename={PUBLIC_URL}/>\n    </MetronicI18nProvider>\n  </ApolloProvider>,\n  document.getElementById('root')\n)\n```",
        "message": "",
        "created": "2021-10-11T06:19:47.395Z",
        "creators": [
          {
            "id": "b0568c88-bb34-4420-969e-41238089a0d4",
            "uniqueName": "google#113467622262670857280",
            "displayName": "Alexander Matviienko",
            "createdAt": "2021-05-10T19:50:11.968Z",
            "updatedAt": "2021-05-10T19:50:31.732Z"
          }
        ]
      }
    },
    {
      "id": "c96dd519-5aad-4c38-a297-04fd5d508762",
      "emoji": null,
      "title": "Контекст",
      "content": "",
      "headId": 1316772,
      "archivedAt": null,
      "folderPathname": "/",
      "parentFolderId": null,
      "teamId": "nhFMY3a5g",
      "generated": false,
      "createdAt": "2021-10-10T18:45:52.779Z",
      "updatedAt": "2021-10-10T18:51:18.530Z",
      "version": 2,
      "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
      "workspaceId": "11279ac2-ffa0-4af9-a881-97601ea0fb70",
      "head": {
        "id": 1316772,
        "docId": "c96dd519-5aad-4c38-a297-04fd5d508762",
        "content": "Контекст позволяет нам при каждом запросе передавать конкретную информацию из кода сервера в отдельный\nраспознаватель.\n\nК примеру сейчас мы передадим туда перед запросом модели, которые нам нужны в распознавателях для работы с БД. \n\n1. В файле инициализации сервера (обычно это корневой index.js) при инициализации ApolloServer передаем в контекст то что нам надо (сейчас модель)\n\n``` js\n// Настройка Apollo Server\nconst server = new ApolloServer({\n  typeDefs,\n  resolvers,\n  context: () => {\n  // Добавление моделей БД в context\n  return { models };\n  }\n});\n```\n\n2. После содержимого контекста мы можем вызвать 3-им аргументом в распознавателях \n\n```js\nnotes: async (parent, args, { models }) => {\n  return await models.Note.find()\n},\n```",
        "message": "",
        "created": "2021-10-10T18:51:18.508Z",
        "creators": [
          {
            "id": "b0568c88-bb34-4420-969e-41238089a0d4",
            "uniqueName": "google#113467622262670857280",
            "displayName": "Alexander Matviienko",
            "createdAt": "2021-05-10T19:50:11.968Z",
            "updatedAt": "2021-05-10T19:50:31.732Z"
          }
        ]
      }
    },
    {
      "id": "7ca8d6fe-1b27-4392-aa2d-3c818c41cec8",
      "emoji": null,
      "title": "Код для подключения БД",
      "content": "",
      "headId": 1316317,
      "archivedAt": null,
      "folderPathname": "/MongoDB",
      "parentFolderId": "509409fc-0cb8-4aa4-9c3e-868b053fc28d",
      "teamId": "nhFMY3a5g",
      "generated": false,
      "createdAt": "2021-10-10T16:12:57.435Z",
      "updatedAt": "2021-10-10T16:17:21.360Z",
      "version": 2,
      "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
      "workspaceId": "4ae225f9-123d-4918-a49f-e0c91bd0b18a",
      "head": {
        "id": 1316317,
        "docId": "7ca8d6fe-1b27-4392-aa2d-3c818c41cec8",
        "content": "Сначала нам понадобится обновить файл .env , добавив URL локальной базы\nданных. Это позволит нам указывать URL БД в любой рабочей среде (например, в локальной разработке и в производстве). По умолчанию URL локального\nсервера MongoDB следующий: mongodb://localhost:27017 . К нему мы и добавим\nимя нашей базы данных. Итак, в файле .env определим переменную DB_HOST\nс URL экземпляра БД Mongo таким образом:\n```\nDB_HOST=mongodb://localhost:27017/notedly\n```\nСледующим шагом будет подключение базы данных к приложению. Давайте на-\nпишем код, который будет выполнять это подключение при запуске приложения.\nДля этого сначала создадим в директории src файл db.js . В нем мы пропишем\nкод для подключения БД, а также добавим функцию close для закрытия этого\nподключения, что пригодится при тестировании приложения.\nВ src/db.js введите:\n```\n// Затребуем библиотеку mongoose\nconst mongoose = require('mongoose');\nmodule.exports = {\n  connect: DB_HOST => {\n  // Используем обновленный парсер строки URL драйвера Mongo\n  mongoose.set('useNewUrlParser', true);\n  // Поставим findOneAndUpdate () вместо findAndModify ()\n  mongoose.set('useFindAndModify', false);\n  // Поставим createIndex () вместо sureIndex ()\n  mongoose.set('useCreateIndex', true);\n  // Используем новый механизм обнаружения и мониторинга серверов\n  mongoose.set('useUnifiedTopology', true);\n  // Подключаемся к БД\n  mongoose.connect(DB_HOST);\n  // Выводим ошибку при неуспешном подключении\n  mongoose.connection.on('error', err => {\n  console.error(err);\n  console.log(\n  'MongoDB connection error. Please make sure MongoDB is running.'\n  );\n  process.exit();\n  });\n  },\n  close: () => {\n    mongoose.connection.close();\n  }\n};\n```\nТеперь обновим src/index.js для вызова этого подключения. Чтобы это сделать,\nсначала импортируем конфигурацию .env , а также файл db.js . В начале импортируемых файлов введите следующее:\n```\nrequire('dotenv').config();\nconst db = require('./db');\n```\nМне нравится хранить значение DB_HOST, определенное в файле .env , в виде\nпеременной. Добавьте эту переменную сразу под определением переменной port :\n```\nconst DB_HOST = process.env.DB_HOST;\n```\nЗатем мы можем вызвать подключение, добавив в файл src/index.js следующее:\n```\ndb.connect(DB_HOST);\n```",
        "message": "",
        "created": "2021-10-10T16:17:21.344Z",
        "creators": [
          {
            "id": "b0568c88-bb34-4420-969e-41238089a0d4",
            "uniqueName": "google#113467622262670857280",
            "displayName": "Alexander Matviienko",
            "createdAt": "2021-05-10T19:50:11.968Z",
            "updatedAt": "2021-05-10T19:50:31.732Z"
          }
        ]
      }
    },
    {
      "id": "5552584e-8711-4a32-a885-7f359e0b0f2a",
      "emoji": null,
      "title": "Основные команды",
      "content": "",
      "headId": null,
      "archivedAt": null,
      "folderPathname": "/MongoDB/Работа в консоли",
      "parentFolderId": "cf2e31dd-93d9-466d-a279-36446298f547",
      "teamId": "nhFMY3a5g",
      "generated": false,
      "createdAt": "2021-10-10T15:57:20.195Z",
      "updatedAt": "2021-10-10T15:57:20.195Z",
      "version": 1,
      "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
      "workspaceId": "4ae225f9-123d-4918-a49f-e0c91bd0b18a",
      "head": null
    },
    {
      "id": "41c736ea-5ac6-4a0d-a19a-da000516e545",
      "emoji": null,
      "title": "Параметры функции распознавателя",
      "content": "",
      "headId": 1315262,
      "archivedAt": null,
      "folderPathname": "/",
      "parentFolderId": null,
      "teamId": "nhFMY3a5g",
      "generated": false,
      "createdAt": "2021-10-10T10:10:34.911Z",
      "updatedAt": "2021-10-10T10:12:28.686Z",
      "version": 2,
      "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
      "workspaceId": "11279ac2-ffa0-4af9-a881-97601ea0fb70",
      "head": {
        "id": 1315262,
        "docId": "41c736ea-5ac6-4a0d-a19a-da000516e545",
        "content": "Apollo Server передает\nфункциям распознавания следующие полезные параметры:\n1. __parent__ -\nРезультат родительского запроса, который полезен при вложении запросов.\n2. __args__ -\nАргументы, передаваемые пользователем в запросе.\n3. __context__ -\nИнформация, которая передается от серверного приложения функциям распознавания и может включать, к примеру, данные о текущем пользователе\nили интересующее нас содержимое БД.\n4. __info__ -\nИнформация о самом запросе.",
        "message": "",
        "created": "2021-10-10T10:12:28.677Z",
        "creators": [
          {
            "id": "b0568c88-bb34-4420-969e-41238089a0d4",
            "uniqueName": "google#113467622262670857280",
            "displayName": "Alexander Matviienko",
            "createdAt": "2021-05-10T19:50:11.968Z",
            "updatedAt": "2021-05-10T19:50:31.732Z"
          }
        ]
      }
    },
    {
      "id": "4b1aacf9-ee05-404a-bd8a-4d517a35ecc4",
      "emoji": null,
      "title": "Концепция приложения",
      "content": "",
      "headId": 1313593,
      "archivedAt": null,
      "folderPathname": "/MyNote",
      "parentFolderId": "78d8fe07-cb7d-4dd6-8d80-885bf60dd0b6",
      "teamId": "nhFMY3a5g",
      "generated": false,
      "createdAt": "2021-10-09T18:08:51.173Z",
      "updatedAt": "2021-10-09T18:10:35.657Z",
      "version": 2,
      "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
      "workspaceId": "309011fd-0b61-4b75-a6fe-a3a711e8a079",
      "head": {
        "id": 1313593,
        "docId": "4b1aacf9-ee05-404a-bd8a-4d517a35ecc4",
        "content": "Концепция приложения путем грамотной визуализации облегчить понимание кода. \n\n",
        "message": "",
        "created": "2021-10-09T18:10:35.648Z",
        "creators": [
          {
            "id": "b0568c88-bb34-4420-969e-41238089a0d4",
            "uniqueName": "google#113467622262670857280",
            "displayName": "Alexander Matviienko",
            "createdAt": "2021-05-10T19:50:11.968Z",
            "updatedAt": "2021-05-10T19:50:31.732Z"
          }
        ]
      }
    },
    {
      "id": "d8911328-4a7d-4d09-bd71-0d45a209dc87",
      "emoji": null,
      "title": "Заметки",
      "content": "",
      "headId": 1309260,
      "archivedAt": null,
      "folderPathname": "/MyNote",
      "parentFolderId": "78d8fe07-cb7d-4dd6-8d80-885bf60dd0b6",
      "teamId": "nhFMY3a5g",
      "generated": false,
      "createdAt": "2021-10-08T13:52:10.104Z",
      "updatedAt": "2021-10-08T13:55:19.151Z",
      "version": 3,
      "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
      "workspaceId": "309011fd-0b61-4b75-a6fe-a3a711e8a079",
      "head": {
        "id": 1309260,
        "docId": "d8911328-4a7d-4d09-bd71-0d45a209dc87",
        "content": "1. Система коментарий и код\n\n    Надо организовать грамотную структуру написание кода и коментария.\n    с возможностью убирать то или тто и таким образом или остаеться чистый код состоящий из коментариев илибо человекопонятным языком объяснение что здесь в общем происходит с возможностью убрать все это дело",
        "message": "",
        "created": "2021-10-08T13:55:19.144Z",
        "creators": [
          {
            "id": "b0568c88-bb34-4420-969e-41238089a0d4",
            "uniqueName": "google#113467622262670857280",
            "displayName": "Alexander Matviienko",
            "createdAt": "2021-05-10T19:50:11.968Z",
            "updatedAt": "2021-05-10T19:50:31.732Z"
          }
        ]
      }
    },
    {
      "id": "4c81f3c4-6a18-47b2-bbf2-2ca4ad014cb2",
      "emoji": null,
      "title": "BasicController",
      "content": "",
      "headId": 1308737,
      "archivedAt": null,
      "folderPathname": "/SCH/Controllers",
      "parentFolderId": "f2c03ef3-0021-4244-ac9f-1682fcefaac6",
      "teamId": "nhFMY3a5g",
      "generated": false,
      "createdAt": "2021-10-08T11:57:00.422Z",
      "updatedAt": "2021-10-08T11:58:06.476Z",
      "version": 2,
      "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
      "workspaceId": "309011fd-0b61-4b75-a6fe-a3a711e8a079",
      "head": {
        "id": 1308737,
        "docId": "4c81f3c4-6a18-47b2-bbf2-2ca4ad014cb2",
        "content": "Родительский класс для всех контроллеров ",
        "message": "",
        "created": "2021-10-08T11:58:06.468Z",
        "creators": [
          {
            "id": "b0568c88-bb34-4420-969e-41238089a0d4",
            "uniqueName": "google#113467622262670857280",
            "displayName": "Alexander Matviienko",
            "createdAt": "2021-05-10T19:50:11.968Z",
            "updatedAt": "2021-05-10T19:50:31.732Z"
          }
        ]
      }
    },
    {
      "id": "1592bfa3-7098-433f-8f13-49be5e444632",
      "emoji": null,
      "title": "Методы бота",
      "content": "",
      "headId": 1272788,
      "archivedAt": null,
      "folderPathname": "/TelegramBot/Гайд по созданию/События",
      "parentFolderId": "3c169270-63d7-436c-a50e-061d2419a381",
      "teamId": "nhFMY3a5g",
      "generated": false,
      "createdAt": "2021-10-02T15:47:50.671Z",
      "updatedAt": "2021-10-02T15:48:31.791Z",
      "version": 2,
      "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
      "workspaceId": "309011fd-0b61-4b75-a6fe-a3a711e8a079",
      "head": {
        "id": 1272788,
        "docId": "1592bfa3-7098-433f-8f13-49be5e444632",
        "content": "``` js\n\n```",
        "message": "",
        "created": "2021-10-02T15:48:31.783Z",
        "creators": [
          {
            "id": "b0568c88-bb34-4420-969e-41238089a0d4",
            "uniqueName": "google#113467622262670857280",
            "displayName": "Alexander Matviienko",
            "createdAt": "2021-05-10T19:50:11.968Z",
            "updatedAt": "2021-05-10T19:50:31.732Z"
          }
        ]
      }
    },
    {
      "id": "453c4e36-2476-4cff-bce8-503173d2f28e",
      "emoji": null,
      "title": "Список действий бота",
      "content": "",
      "headId": null,
      "archivedAt": null,
      "folderPathname": "/TelegramBot/Гайд по созданию/События",
      "parentFolderId": "3c169270-63d7-436c-a50e-061d2419a381",
      "teamId": "nhFMY3a5g",
      "generated": false,
      "createdAt": "2021-10-02T15:25:32.891Z",
      "updatedAt": "2021-10-02T15:25:32.891Z",
      "version": 1,
      "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
      "workspaceId": "309011fd-0b61-4b75-a6fe-a3a711e8a079",
      "head": null
    },
    {
      "id": "37d4a61d-b0eb-4248-a236-f360de4734ef",
      "emoji": null,
      "title": "Вынос событий в отдельную функцию",
      "content": "",
      "headId": 1272705,
      "archivedAt": null,
      "folderPathname": "/TelegramBot/Гайд по созданию/События",
      "parentFolderId": "3c169270-63d7-436c-a50e-061d2419a381",
      "teamId": "nhFMY3a5g",
      "generated": false,
      "createdAt": "2021-10-02T15:18:14.047Z",
      "updatedAt": "2021-10-02T15:20:50.949Z",
      "version": 2,
      "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
      "workspaceId": "309011fd-0b61-4b75-a6fe-a3a711e8a079",
      "head": {
        "id": 1272705,
        "docId": "37d4a61d-b0eb-4248-a236-f360de4734ef",
        "content": "События можно выносить в отдельные функции как показано ниже, а затем пропихивать их в обработчик\n\n``` js\n// Достаем кнопки из отдельного модуля\nconst {gameOptions} = require(\"./options.js\");\n\nconst startGame = async (chatId, bot, chats) => {\n    await bot.sendMessage(chatId, 'Я сейчас загадаю цифру от 0 до 9, а ты должен ее отгадать!')\n    chats[chatId] = Math.floor(Math.random() * 10)\n    // Так же функция sendMessage третьим аргументом принимает кнопки которые конечно надо\n    // создать заранне и пример создания кнопок я описываю выше\n    await bot.sendMessage(chatId, 'Отгадывай', gameOptions)\n}\n\nmodule.exports = startGame\n```\n\nПример использования в обработчике\n\n``` js\n  if (text === '/game') {\n      return startGame(chatId, bot, chats)\n  }\n```",
        "message": "",
        "created": "2021-10-02T15:20:50.942Z",
        "creators": [
          {
            "id": "b0568c88-bb34-4420-969e-41238089a0d4",
            "uniqueName": "google#113467622262670857280",
            "displayName": "Alexander Matviienko",
            "createdAt": "2021-05-10T19:50:11.968Z",
            "updatedAt": "2021-05-10T19:50:31.732Z"
          }
        ]
      }
    },
    {
      "id": "3a4d14e0-afce-4e12-b95e-3901f173f5e2",
      "emoji": null,
      "title": "Создание кнопок",
      "content": "",
      "headId": 1272698,
      "archivedAt": null,
      "folderPathname": "/TelegramBot/Гайд по созданию/События",
      "parentFolderId": "3c169270-63d7-436c-a50e-061d2419a381",
      "teamId": "nhFMY3a5g",
      "generated": false,
      "createdAt": "2021-10-02T15:14:27.658Z",
      "updatedAt": "2021-10-02T15:18:13.556Z",
      "version": 4,
      "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
      "workspaceId": "309011fd-0b61-4b75-a6fe-a3a711e8a079",
      "head": {
        "id": 1272698,
        "docId": "3a4d14e0-afce-4e12-b95e-3901f173f5e2",
        "content": "В папке __assets__ создаем файл __options.js__ в нем мы будем создавать кнопки. По следующему примеру \n\n```js\n// Кнопки\nmodule.exports = {\n     gameOptions: {\n        reply_markup: JSON.stringify({\n            inline_keyboard: [\n                // Это массив с самим кнопками состоящий из названий и значений кнопок, и так же можно управлять количеством\n                // кнопок в ряду\n                [{text: '1', callback_data: '1'}, {text: '2', callback_data: '2'}, {text: '3', callback_data: '3'}],\n                [{text: '4', callback_data: '4'}, {text: '5', callback_data: '5'}, {text: '6', callback_data: '6'}],\n                [{text: '7', callback_data: '7'}, {text: '8', callback_data: '8'}, {text: '9', callback_data: '9'}],\n                [{text: '0', callback_data: '0'}]\n            ]\n        })\n    },\n\n     againOptions: {\n        reply_markup: JSON.stringify({\n            inline_keyboard: [\n                [{text: 'Играть еще раз', callback_data: '/again'}]\n            ]\n        })\n    }\n}\n```\n\nДля того что бы вывести эти кнопки необходимо передать их в метод __sendMessage__ третьим аргументом\n\n``` js\nawait bot.sendMessage(chatId, 'Отгадывай', gameOptions)\n```",
        "message": "",
        "created": "2021-10-02T15:18:13.548Z",
        "creators": [
          {
            "id": "b0568c88-bb34-4420-969e-41238089a0d4",
            "uniqueName": "google#113467622262670857280",
            "displayName": "Alexander Matviienko",
            "createdAt": "2021-05-10T19:50:11.968Z",
            "updatedAt": "2021-05-10T19:50:31.732Z"
          }
        ]
      }
    },
    {
      "id": "540d92bf-0392-40d6-89ce-3c845eb56388",
      "emoji": null,
      "title": "Создание слушателя кнопочных запросов",
      "content": "",
      "headId": 1272719,
      "archivedAt": null,
      "folderPathname": "/TelegramBot/Гайд по созданию/События",
      "parentFolderId": "3c169270-63d7-436c-a50e-061d2419a381",
      "teamId": "nhFMY3a5g",
      "generated": false,
      "createdAt": "2021-10-02T15:09:12.984Z",
      "updatedAt": "2021-10-02T15:25:36.020Z",
      "version": 4,
      "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
      "workspaceId": "309011fd-0b61-4b75-a6fe-a3a711e8a079",
      "head": {
        "id": 1272719,
        "docId": "540d92bf-0392-40d6-89ce-3c845eb56388",
        "content": "По сути обработчик событий возврата кнопочных значений не сильно отличается от обработчика сообщений просто если первый следит за тем что вы пишите боту то второй следит за тем какие кнопки нажимаете\n\nСоздаем это дело в папке __events__ в файле __query.js__\n``` js\n// Импортируем модель пользователя\nconst UserModel = require(\"../db/models\");\n// Достаем кнопки из отдельного модуля\nconst {againOptions} = require(\"../assets/options.js\");\nconst startGame = require('../assets/startGame')\n\n\nconst query = (bot, chats) => {\n    // А это обработчик который перехватывает ответы от кнопок\n    bot.on('callback_query', async msg => {\n        const data = msg.data\n        const chatId = msg.message.chat.id\n        if (data === '/again') {\n            return startGame(chatId, bot, chats)\n        }\n        const user = await UserModel.findOne({chatId})\n\n        if (data == chats[chatId]) {\n            // Таким опбразом мы меняем запис в бд\n            user.right += 1\n            await bot.sendMessage(chatId, `Поздравляю ты отгадал цифру ${chats[chatId]}`, againOptions)\n        } else {\n            // Таким опбразом мы меняем запис в бд\n            user.wrong += 1\n            await bot.sendMessage(chatId, `К сожалению ты не отгадал, бот загадал цифру ${chats[chatId]}`, againOptions)\n        }\n        // И после сохраняем изменния\n        await user.save()\n    })\n}\n\nmodule.exports = query\n```\n\nИ импортируем и разворачиваем это дело в __index.js__ \n\n``` js\nconst query = require('./events/query')\n//...\nquery(bot, chats)\n```",
        "message": "",
        "created": "2021-10-02T15:25:36.009Z",
        "creators": [
          {
            "id": "b0568c88-bb34-4420-969e-41238089a0d4",
            "uniqueName": "google#113467622262670857280",
            "displayName": "Alexander Matviienko",
            "createdAt": "2021-05-10T19:50:11.968Z",
            "updatedAt": "2021-05-10T19:50:31.732Z"
          }
        ]
      }
    },
    {
      "id": "a3c54f04-46ef-45f1-b4d1-93bb4b7ff3ff",
      "emoji": null,
      "title": "Добавление команд в меню быстрого доступа",
      "content": "",
      "headId": 1272619,
      "archivedAt": null,
      "folderPathname": "/TelegramBot/Гайд по созданию/События",
      "parentFolderId": "3c169270-63d7-436c-a50e-061d2419a381",
      "teamId": "nhFMY3a5g",
      "generated": false,
      "createdAt": "2021-10-02T14:56:22.011Z",
      "updatedAt": "2021-10-02T15:12:34.547Z",
      "version": 4,
      "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
      "workspaceId": "309011fd-0b61-4b75-a6fe-a3a711e8a079",
      "head": {
        "id": 1272619,
        "docId": "a3c54f04-46ef-45f1-b4d1-93bb4b7ff3ff",
        "content": "Для того что бы команда к боту отображалась в меню быстрого доступа ее необходимо добавить в список команд следующим образом.\n\n1. В папке __assets__ создаем файл __commandsList.js__\n2. И предаем ему следующий вид\n``` js\nconst commandsList = (bot) => {\n    // Для того что бы команды выводились в кнопку быстрого доступа их необходимо\n    // прописать в вот такой функции принимающию в себя массив этих команд\n    bot.setMyCommands([\n        {command: '/start', description: 'Начально приветствие'},\n        {command: '/info', description: 'Получить информацию о пользователе'},\n        {command: '/game', description: 'ИГра угадай цифру'}\n    ])\n}\n\nmodule.exports = commandsList\n```\n\nКак видим тут все просто надо только указать саму команду и описание к ней.\n\n3. Импортируем модуль в index.js  и там его разворачиваем\n\n``` js\nconst bot = new TelegramApi(token, {polling: true})\n\n// Импортруем и активируем функцию инициализирубщую команды для бота\nconst commandsList = require('./assets/commandsList')\ncommandsList(bot)\n// =================================================================\n```",
        "message": "",
        "created": "2021-10-02T14:58:42.935Z",
        "creators": [
          {
            "id": "b0568c88-bb34-4420-969e-41238089a0d4",
            "uniqueName": "google#113467622262670857280",
            "displayName": "Alexander Matviienko",
            "createdAt": "2021-05-10T19:50:11.968Z",
            "updatedAt": "2021-05-10T19:50:31.732Z"
          }
        ]
      }
    },
    {
      "id": "20d69e17-dc45-4d21-bcac-d4f12281e314",
      "emoji": null,
      "title": "Создание слушаетля сообщения",
      "content": "",
      "headId": 1272681,
      "archivedAt": null,
      "folderPathname": "/TelegramBot/Гайд по созданию/События",
      "parentFolderId": "3c169270-63d7-436c-a50e-061d2419a381",
      "teamId": "nhFMY3a5g",
      "generated": false,
      "createdAt": "2021-10-02T14:48:48.326Z",
      "updatedAt": "2021-10-02T15:13:58.016Z",
      "version": 7,
      "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
      "workspaceId": "309011fd-0b61-4b75-a6fe-a3a711e8a079",
      "head": {
        "id": 1272681,
        "docId": "20d69e17-dc45-4d21-bcac-d4f12281e314",
        "content": "События создаются в отдельном файле в папке __events__ в файле именуемым в честь событий за которыми следит обработчик событий к примеру сейчас тут разберем обработчик который вешается на события __message__ соответственно и файл будет называться __message.js__\n\n``` js\n// Импортируем модель пользователя\nconst UserModel = require(\"../db/models\");\nconst startGame = require('../assets/startGame')\n\nconst message = (bot, chats) => {\n    // Вешаем слушаетль на событие сообщения (прослушиваем то что нам пишут)\n    // callback функция предоставляет нам в качестве аргумента объект с данными\n    // в виде самого сообщения а так же информации о дате отправки и отправляюшем\n    bot.on('message', async msg => {\n        // Здесь мы настраиваем боты что бы он мог ответить на входящие сообщение\n        // Для этого нам необходимо достать id чата\n        const text = msg.text\n        const chatId = msg.chat.id\n\n        try {\n\n            // Таким образом мы можем настроить команды на которые бот будет отвечать\n            // определенным образом. Самое главное не забывать слеш так как команды\n            // принято начинать именно с него\n            if (text === '/start') {\n                // Как только новый пользователь заходит в чат создаем его запись в БД\n                await UserModel.create({chatId})\n                // Таким макаром можно отправлять стикеры сначала id чата, а после ссылка на стикер (только смотри\n                // что бы они были в формате webp)\n                await bot.sendSticker(chatId, 'https://tlgrm.ru/_/stickers/ea5/382/ea53826d-c192-376a-b766-e5abc535f1c9/7.webp')\n                // Далее используя функцию ниже мы пердаем в нее id чата\n                // что бы бот понимал кому отвечает и сообщение которое он\n                // отправляет\n                return bot.sendMessage(chatId, `Добро пожаловать!`)\n                // Так же есть подобные функции для отправки картинок аудио и других форматов\n                // надо только посомтреть в доке\n            }\n\n            if (text === '/info') {\n                // Для вывода данных о пользователе находим его в БД и ложим в константу\n                const user = await UserModel.findOne({chatId})\n                return bot.sendMessage(chatId, `Тебя зовут ${msg.chat.first_name}, в итоге у тебя правильных ответов ${user.right}, неправильных ${user.wrong}`)\n            }\n\n            if (text === '/game') {\n                return startGame(chatId, bot, chats)\n            }\n            // Это сообщение будет отправляться когда ниодна из команд выше не подойдет под запрос\n            return bot.sendMessage(chatId, `Я тебя не понимаю поробуй еще раз!`)\n        } catch (e) {\n            return bot.sendMessage(chatId, 'Произошла какая то ошибочка!)')\n        }\n    })\n}\n\nmodule.exports = message\n```\n\nПосле импортируем этот модуль в index.js\n\n``` js\nconst message = require('./events/message')\n//...\nmessage(bot, chats)\n```",
        "message": "",
        "created": "2021-10-02T15:13:58.009Z",
        "creators": [
          {
            "id": "b0568c88-bb34-4420-969e-41238089a0d4",
            "uniqueName": "google#113467622262670857280",
            "displayName": "Alexander Matviienko",
            "createdAt": "2021-05-10T19:50:11.968Z",
            "updatedAt": "2021-05-10T19:50:31.732Z"
          }
        ]
      }
    },
    {
      "id": "3fe69f72-3053-4630-8c8b-dc147ec64cee",
      "emoji": null,
      "title": "Инициализация бота",
      "content": "",
      "headId": 1272581,
      "archivedAt": null,
      "folderPathname": "/TelegramBot/Гайд по созданию",
      "parentFolderId": "1f174df0-ae1f-4017-b4e1-c2ab26a22ba2",
      "teamId": "nhFMY3a5g",
      "generated": false,
      "createdAt": "2021-10-02T14:41:16.861Z",
      "updatedAt": "2021-10-02T14:48:33.304Z",
      "version": 3,
      "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
      "workspaceId": "309011fd-0b61-4b75-a6fe-a3a711e8a079",
      "head": {
        "id": 1272581,
        "docId": "3fe69f72-3053-4630-8c8b-dc147ec64cee",
        "content": "1. Выполняем в корне проекта команду\n```\nnpm init -y\n```\n2. А затем \n``` \nnpm i node-telegram-bot-api nodemon\n```\n\n3. После создаем в корне файл index.js и предаем ему следующий вид\n\n``` js\n// Импортируем зависимость для настройки нашего бота\nconst TelegramApi = require('node-telegram-bot-api')\n// Константа хранящая токен бота\nconst token = '2042137493:AAHIHxhD8c1dF7u3DjpQTvpESOaleQpRsp0'\n// Инициализируем самого бота передавая в класс токен и так же конфигурации\nconst bot = new TelegramApi(token, {polling: true})\n```\n\n4. Идем в packeg.json и настраиваем там команды для разработки и деплоя\n\n``` js\n  \"scripts\": {\n    \"dev\": \"nodemon index.js\",\n    \"start\": \"node index.js\"\n  },\n```\n",
        "message": "",
        "created": "2021-10-02T14:48:33.295Z",
        "creators": [
          {
            "id": "b0568c88-bb34-4420-969e-41238089a0d4",
            "uniqueName": "google#113467622262670857280",
            "displayName": "Alexander Matviienko",
            "createdAt": "2021-05-10T19:50:11.968Z",
            "updatedAt": "2021-05-10T19:50:31.732Z"
          }
        ]
      }
    },
    {
      "id": "5a6e0fc5-675d-4fc2-b873-9eef2eb1fb37",
      "emoji": null,
      "title": "Структура",
      "content": "",
      "headId": 1272556,
      "archivedAt": null,
      "folderPathname": "/TelegramBot/Гайд по созданию",
      "parentFolderId": "1f174df0-ae1f-4017-b4e1-c2ab26a22ba2",
      "teamId": "nhFMY3a5g",
      "generated": false,
      "createdAt": "2021-10-01T19:27:08.693Z",
      "updatedAt": "2021-10-02T14:41:01.116Z",
      "version": 3,
      "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
      "workspaceId": "309011fd-0b61-4b75-a6fe-a3a711e8a079",
      "head": {
        "id": 1272556,
        "docId": "5a6e0fc5-675d-4fc2-b873-9eef2eb1fb37",
        "content": "## Структура бота начиная с корня\n1. index.js - файл инициализации самого бота, а так же подключения к БД и событий бота.\n2. assets - тут лежат различные вспомогательные ресурсы, к примеру это могут быть кнопки\n3. db - тут находится подключение к БД, модели, а так же сервисы\n4. events - тут создаются события",
        "message": "",
        "created": "2021-10-02T14:41:01.106Z",
        "creators": [
          {
            "id": "b0568c88-bb34-4420-969e-41238089a0d4",
            "uniqueName": "google#113467622262670857280",
            "displayName": "Alexander Matviienko",
            "createdAt": "2021-05-10T19:50:11.968Z",
            "updatedAt": "2021-05-10T19:50:31.732Z"
          }
        ]
      }
    },
    {
      "id": "d8e37e12-080f-43a6-81a6-36e9e2bda7e1",
      "emoji": null,
      "title": "Первые шаги",
      "content": "",
      "headId": 1249496,
      "archivedAt": null,
      "folderPathname": "/TelegramBot/Гайд по созданию",
      "parentFolderId": "1f174df0-ae1f-4017-b4e1-c2ab26a22ba2",
      "teamId": "nhFMY3a5g",
      "generated": false,
      "createdAt": "2021-09-28T16:30:10.536Z",
      "updatedAt": "2021-09-28T16:36:46.248Z",
      "version": 4,
      "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
      "workspaceId": "309011fd-0b61-4b75-a6fe-a3a711e8a079",
      "head": {
        "id": 1249496,
        "docId": "d8e37e12-080f-43a6-81a6-36e9e2bda7e1",
        "content": "1. Открываем телеграм и ищем канал __botfather__\n2. Нажимаем __START__\n3. Выбираем (или вводим) команду __/newbot__\n4. После вводим имя бота, тут можно ввести абсолютно любое название оно будет отображаться пользователям\n5. После вводим имя по которому можно будет найти бота в поиске, самое главное что бы имя заканчивалось на __Bot__\n6. После мы получаем сообщение с ссылкой и токеном бота. ",
        "message": "",
        "created": "2021-09-28T16:36:46.238Z",
        "creators": [
          {
            "id": "b0568c88-bb34-4420-969e-41238089a0d4",
            "uniqueName": "google#113467622262670857280",
            "displayName": "Alexander Matviienko",
            "createdAt": "2021-05-10T19:50:11.968Z",
            "updatedAt": "2021-05-10T19:50:31.732Z"
          }
        ]
      }
    },
    {
      "id": "e1fceddb-b50b-4116-90b5-23e88ba0af7e",
      "emoji": null,
      "title": "Настройщик",
      "content": "",
      "headId": null,
      "archivedAt": null,
      "folderPathname": "/TelegramBot",
      "parentFolderId": "8de55853-9cca-4b79-a471-eba49be242f5",
      "teamId": "nhFMY3a5g",
      "generated": false,
      "createdAt": "2021-09-28T08:39:44.670Z",
      "updatedAt": "2021-09-28T08:39:44.670Z",
      "version": 1,
      "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
      "workspaceId": "309011fd-0b61-4b75-a6fe-a3a711e8a079",
      "head": null
    },
    {
      "id": "87b2a7b4-124a-4a05-8875-0ae65904da4e",
      "emoji": null,
      "title": "Мессенждер",
      "content": "",
      "headId": 1246677,
      "archivedAt": null,
      "folderPathname": "/TelegramBot",
      "parentFolderId": "8de55853-9cca-4b79-a471-eba49be242f5",
      "teamId": "nhFMY3a5g",
      "generated": false,
      "createdAt": "2021-09-28T08:39:33.014Z",
      "updatedAt": "2021-09-28T09:12:10.745Z",
      "version": 5,
      "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
      "workspaceId": "309011fd-0b61-4b75-a6fe-a3a711e8a079",
      "head": {
        "id": 1246677,
        "docId": "87b2a7b4-124a-4a05-8875-0ae65904da4e",
        "content": "Я буду записывать боту задачу а он будет мне о них напоминать, единственное надо что бы было несколько режимов задач.\n\n## Режимы: \n\n  1. Классическая запись и напоминание. То есть я просто вызываю бота и пишу название задачи и время в которое мне надо ней напомнить. Но тут надо проработать сценарий приоритетов который будет обуславливать то через какой промежуток бот будет мне снова напоминать об этой задаче.  ",
        "message": "",
        "created": "2021-09-28T09:12:10.731Z",
        "creators": [
          {
            "id": "b0568c88-bb34-4420-969e-41238089a0d4",
            "uniqueName": "google#113467622262670857280",
            "displayName": "Alexander Matviienko",
            "createdAt": "2021-05-10T19:50:11.968Z",
            "updatedAt": "2021-05-10T19:50:31.732Z"
          }
        ]
      }
    },
    {
      "id": "b059c776-34f5-42d4-b45d-e5af14856a50",
      "emoji": null,
      "title": "Какой он должен быть",
      "content": "",
      "headId": 1246456,
      "archivedAt": null,
      "folderPathname": "/TelegramBot",
      "parentFolderId": "8de55853-9cca-4b79-a471-eba49be242f5",
      "teamId": "nhFMY3a5g",
      "generated": false,
      "createdAt": "2021-09-28T05:35:56.011Z",
      "updatedAt": "2021-09-28T08:39:28.398Z",
      "version": 4,
      "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
      "workspaceId": "309011fd-0b61-4b75-a6fe-a3a711e8a079",
      "head": {
        "id": 1246456,
        "docId": "b059c776-34f5-42d4-b45d-e5af14856a50",
        "content": "Тут важный вопрос какую тематику ему задать \n1. Фэнтезийную типо помощник ученика мага.\n2. Или же футуристическую что то Вроде ИИ на борту корабля Шепарда.\n\nИ какие мои насущные задачи он будет решать?\n1. Мессенджер задач\n2. Помогать настраивать меня на нужный лад\n\n\n\n",
        "message": "",
        "created": "2021-09-28T08:39:28.390Z",
        "creators": [
          {
            "id": "b0568c88-bb34-4420-969e-41238089a0d4",
            "uniqueName": "google#113467622262670857280",
            "displayName": "Alexander Matviienko",
            "createdAt": "2021-05-10T19:50:11.968Z",
            "updatedAt": "2021-05-10T19:50:31.732Z"
          }
        ]
      }
    },
    {
      "id": "f06525de-66f7-4193-9f75-d7960e5dc950",
      "emoji": null,
      "title": "Начало",
      "content": "",
      "headId": 1409118,
      "archivedAt": null,
      "folderPathname": "/MyNote",
      "parentFolderId": "78d8fe07-cb7d-4dd6-8d80-885bf60dd0b6",
      "teamId": "nhFMY3a5g",
      "generated": false,
      "createdAt": "2021-09-28T05:24:25.351Z",
      "updatedAt": "2021-10-26T16:24:48.733Z",
      "version": 11,
      "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
      "workspaceId": "309011fd-0b61-4b75-a6fe-a3a711e8a079",
      "head": {
        "id": 1409118,
        "docId": "f06525de-66f7-4193-9f75-d7960e5dc950",
        "content": "Нашел видео по созданию md редактора [https://www.youtube.com/watch?v=mWg6NWaxEOs&ab_channel=ThapaTechnical](url)\nBackend - NestJS\nFrontend - NextJS\nDataBase - Postgres возможно монго, определюсь после урока\nLink backe and front - GraphQL\nИ это все на TS\n\nВ виду того что самое главное начать и мне нужен по скорее стабильный обработчик заметок, я решил начать создание MyNote как можно быстрее. \n\nМне осталось посмотреть видео от UlbiTV\n\nПосле надо изучить как GraphQL работает с NestJS\n\nИ после будет полезно изучить как устроен сервер на RetterDev\n\nДальше можно начинать создавать проект\nПервая что я создам это обычный редактор md\nИ файловый менеджер слева с возможностью создавать файлы и папки\n",
        "message": "",
        "created": "2021-10-26T16:24:48.724Z",
        "creators": [
          {
            "id": "b0568c88-bb34-4420-969e-41238089a0d4",
            "uniqueName": "google#113467622262670857280",
            "displayName": "Alexander Matviienko",
            "createdAt": "2021-05-10T19:50:11.968Z",
            "updatedAt": "2021-05-10T19:50:31.732Z"
          }
        ]
      }
    },
    {
      "id": "42dad1c7-3f37-47a0-9951-68e2860dbe9d",
      "emoji": null,
      "title": "Наследование",
      "content": "",
      "headId": 1240887,
      "archivedAt": null,
      "folderPathname": "/JS/ООП",
      "parentFolderId": "065d4d1f-9664-413a-838d-abbecd774cdb",
      "teamId": "nhFMY3a5g",
      "generated": false,
      "createdAt": "2021-09-27T13:30:57.044Z",
      "updatedAt": "2021-09-27T14:13:29.895Z",
      "version": 8,
      "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
      "workspaceId": "4ae225f9-123d-4918-a49f-e0c91bd0b18a",
      "head": {
        "id": 1240887,
        "docId": "42dad1c7-3f37-47a0-9951-68e2860dbe9d",
        "content": "Эта концепция позволяет наследовать свойства одними классами от других.\n\nДля примера создадим класс человека\n``` js\nclass Person {\n  private _firstName;\n  private _lastName;\n  private _age;\n  \n  constructor(firstName, lastName, age) {\n    this._firstName = firstName;\n    this._lastName = lastName;\n    this._age = age;\n  }\n  \n  \n  get firstName () {\n    return  this._firstName;\n  }\n  get lastName () {\n    return  this._lastName;\n  }\n  get age () {\n    return  this._age;\n  }\n  \n  set firstName (value) {\n    this._firstName = value;\n  }\n  set lastName (value) {\n    this._lastName = value;\n  }\n  set age (value) {\n    this._age = value;\n  }\n}\n```\n\nИ теперь мы создадим следующий класс который унаследует вышесозданый\n\n``` js\n// extends позволят нам указать тот класс от \n// которого мы наследуемся\nclass Employee extends Person {\n  private inn;\n  private number;\n  private snils;\n  \n  // В конструкторе указываем и в том чисел и свойства родительского класса которые необходимо инициализировать на старте\n  constructor(firstName, lastName, age, inn, number, snils) {\n    // super инициализирует сначала свойства \n    // родителя а затем и дочернего класса\n    super(firstName, lastName, age)\n    this.inn = inn\n    this.number = number\n    this.snils = snils\n  }\n}\n```\n\nИ так можно до бескнечности и затем создаем объект от класса указывая все свойства которые надо инициализировать на старте (в том числе родительские)\n\n``` js\nconst employeer = new Employee('Ulbi', 'TV', 15, 15, 15, 15)\n```",
        "message": "",
        "created": "2021-09-27T14:13:29.872Z",
        "creators": [
          {
            "id": "b0568c88-bb34-4420-969e-41238089a0d4",
            "uniqueName": "google#113467622262670857280",
            "displayName": "Alexander Matviienko",
            "createdAt": "2021-05-10T19:50:11.968Z",
            "updatedAt": "2021-05-10T19:50:31.732Z"
          }
        ]
      }
    },
    {
      "id": "cf63a670-9b98-40be-a7f6-10d2f4cc97f4",
      "emoji": null,
      "title": "Инкапсуляция и сокрытие",
      "content": "",
      "headId": 1240367,
      "archivedAt": null,
      "folderPathname": "/JS/ООП",
      "parentFolderId": "065d4d1f-9664-413a-838d-abbecd774cdb",
      "teamId": "nhFMY3a5g",
      "generated": false,
      "createdAt": "2021-09-27T12:14:12.223Z",
      "updatedAt": "2021-09-27T12:47:39.418Z",
      "version": 11,
      "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
      "workspaceId": "4ae225f9-123d-4918-a49f-e0c91bd0b18a",
      "head": {
        "id": 1240367,
        "docId": "cf63a670-9b98-40be-a7f6-10d2f4cc97f4",
        "content": "# Инкапсуляция\nЕсли процедурный код это один сплошной поток выполнения кода, то такой аспект ООП как инкапсуляция подразумевает взаимодействие отдельных как я называю капсулированных участков кода со своими методами и свойствами.\n\n# Сокрытие \nКак понятно из название это скрытие определенных свойств и методов класса доступных только внутри него. Что бы их случайно (или не совсем)) не изменили и все это дело не поломалось.\n\nК примеру прежде чем создать такое скрытое свойство мы помечаем его как __private__\n\n```js\nclass Rectangle {\n  // Как понятно из описания выше я сделал \n  // свойства ниже приватными и теперь доступ к \n  // ним можно получить исключительно внутри \n  // класса\n  private _height;\n  private _width;\n  // Их можно спокойно задавать в конструкторе \n  // при создании объекта из класса\n  constructor(w, h){\n    this._height = h;\n    this._width = w;\n  }\n  // Хорошей практикой считается все свойства \n  // делать приватными. И делать их доступными \n  // для чтения посредством гетеров и доступными \n  // для редактирования через сетеры как показано \n  // ниже  \n  get height() {\n    return this._height\n  }\n  \n  set height(value) {\n    if (value <= 0) {\n      this.height = 1\n    } else {\n      this.height = value\n    }\n  }\n  // Пример показывающий что внутри класса \n  // приватные свойства используются в точь точь \n  // как и публичные\n  calcArea () {\n    retutn this._height * this._width\n  }\n  \n  calcPerimeter () {\n    return (this._height + this._width) * 2\n  }\n}\n\nconst rect = new Rectangle(5, 10)\n\n// Вот так вот просто посредством сеттеров \n// задается значение приватному свойству\nrect.height = -2\n// А вот пример вывод этого свойства посредством \n// геттера\nconsole.log(rect.height)\n```\n\nАбсолютно таким же макаром создаются и методы и вызываться в классе через __this__",
        "message": "",
        "created": "2021-09-27T12:47:39.408Z",
        "creators": [
          {
            "id": "b0568c88-bb34-4420-969e-41238089a0d4",
            "uniqueName": "google#113467622262670857280",
            "displayName": "Alexander Matviienko",
            "createdAt": "2021-05-10T19:50:11.968Z",
            "updatedAt": "2021-05-10T19:50:31.732Z"
          }
        ]
      }
    },
    {
      "id": "b4f0426d-2709-4083-8424-22850fa69502",
      "emoji": null,
      "title": "Generic pro",
      "content": "",
      "headId": 1197115,
      "archivedAt": null,
      "folderPathname": "/React/TS/Продвинутый TS",
      "parentFolderId": "0b8e61e2-bc62-4657-94e4-73ce0212bbbb",
      "teamId": "nhFMY3a5g",
      "generated": false,
      "createdAt": "2021-09-19T08:16:36.696Z",
      "updatedAt": "2021-09-19T08:25:19.534Z",
      "version": 3,
      "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
      "workspaceId": "4ae225f9-123d-4918-a49f-e0c91bd0b18a",
      "head": {
        "id": 1197115,
        "docId": "b4f0426d-2709-4083-8424-22850fa69502",
        "content": "1. Тут мы задаем прием дженерик типов которые затем принимаеются в аргуементы\nТо есть как я понял мы говорим TS что здесь мы будем работатьс некими\nтипами T и R, так же мы говорим что эти типы наследуються от\nобъектов, тоесть являються типом объекта\nНачинаю подозревать что так и рекомендуется работать с задаванием типовфункци\n\nИ еще как я понял дженерики объявляються перед функциями\n\n```ts\nconst mergeObjects = <T extends object, R extends object>(a: T, b: R): T & R => {\n    return Object.assign({}, a, b)\n}\n\nconst merged = mergeObjects({name: 'Vladilen'}, {age: 26})\n```\n\n2. Тут идет демонстрация того что дженерик типы могут наследоваться от\n не только заготовленных типов но пользовательских интерфейсов\nввиду чего полностью преобретать их типизацию (помимо своей уже заданной)\n\n``` ts\ninterface ILength {\n    length: number\n}\n\nconst withCount = <T extends ILength>(value: T): {value: T, count: string} => {\n    return {\n        value,\n        count: `In this field ${value.length} symbols`\n    }\n}\n```\n\n3. Тут демонстрируется пример работы с объектами, где мы можем указывать\nчто мы работаем с ключами того или иного объекта\n\n```ts\nconst getObjectValue = <T extends object, R extends keyof T>(obj: T, key: R) => {\n    return obj[key]\n}\n\nconst person = {\n    name: 'Vladilen',\n    age: 26,\n    job: 'JavaScript'\n}\n```\n\n4. Тут показан пример множественного наследования дженериком\n\n``` ts\nclass Collection <T extends number | string | boolean>{\n    // private _items: T[] = []\n\n    constructor(private _items: T[] = []) {\n    }\n\n    add(item: T) {\n        this._items.push(item)\n    }\n\n    remove(item: T) {\n        this._items = this._items.filter(i => i !== item)\n    }\n\n    get items (): T[] {\n        return this._items\n    }\n}\n```\n\n5. Тут мы используем 2 свойства дженериков\n    \n   a. Partial помогает нам объяснить TS что этот объект наследутся\nот определенного интерфейса но в нем может пока не хватать свойсв\n\n    \n  b. Readonly объясняет что массив или объект только для чтения\n  \n``` ts\ninterface Car {\n    model: string\n    year: number\n}\n\nconst createAndValidateCar = (model: string, year: number): Car => {\n    const car: Partial<Car> = {}\n\n    if (model.length > 3){\n        car.model = model\n    }\n    if (year > 2000){\n        car.year = year\n    }\n\n    return car as Car\n}\n\n///\n\nconst cars: Readonly<Array<string>> = ['Ford', 'Audi']\n// cars.shift()\n// cars[1]\n\nconst ford: Readonly<Car> = {\n    model: 'Ford',\n    year: 2000\n}\n```",
        "message": "",
        "created": "2021-09-19T08:25:19.525Z",
        "creators": [
          {
            "id": "b0568c88-bb34-4420-969e-41238089a0d4",
            "uniqueName": "google#113467622262670857280",
            "displayName": "Alexander Matviienko",
            "createdAt": "2021-05-10T19:50:11.968Z",
            "updatedAt": "2021-05-10T19:50:31.732Z"
          }
        ]
      }
    },
    {
      "id": "3e07613f-f3fd-401e-98f0-ad3adbea6a4f",
      "emoji": null,
      "title": "tsconfig.json",
      "content": "",
      "headId": 1196899,
      "archivedAt": null,
      "folderPathname": "/React/TS/Продвинутый TS",
      "parentFolderId": "0b8e61e2-bc62-4657-94e4-73ce0212bbbb",
      "teamId": "nhFMY3a5g",
      "generated": false,
      "createdAt": "2021-09-19T06:46:18.482Z",
      "updatedAt": "2021-09-19T08:16:25.507Z",
      "version": 4,
      "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
      "workspaceId": "4ae225f9-123d-4918-a49f-e0c91bd0b18a",
      "head": {
        "id": 1196899,
        "docId": "3e07613f-f3fd-401e-98f0-ad3adbea6a4f",
        "content": "# Основные параметры\n``` json\n  /* Указываем корневую папку файлов с которыми мы работаем */\n\"rootDir\": \"./src\",\n\n  /* Позволяеет генерировать map фалйы необходимы для отображения ts в браузере. */\n\"sourceMap\": true, \n\n/* Указываем куда компилировать ts файлы. */\n\"outDir\": \"./dist\"\n\n/* Удаляет коментарии в финальном билде. */\n \"removeComments\": true, \n\n//  Cюда указываются пути которые следует исключить из компиляции ts\n//  \"exclude\": [\"./module.ts\"]\n//  Cюда указываются пути которые следует добавить компиляции ts\n//  \"include\": [\"./src/**/*\"]\n//   Cюда указываются файлы следует добавить компиляции ts\n//   \"files\": [\"./module.ts\"]\n```",
        "message": "",
        "created": "2021-09-19T06:50:16.361Z",
        "creators": [
          {
            "id": "b0568c88-bb34-4420-969e-41238089a0d4",
            "uniqueName": "google#113467622262670857280",
            "displayName": "Alexander Matviienko",
            "createdAt": "2021-05-10T19:50:11.968Z",
            "updatedAt": "2021-05-10T19:50:31.732Z"
          }
        ]
      }
    },
    {
      "id": "41deb9a7-e963-4775-b89c-0db019afbd22",
      "emoji": null,
      "title": "Разбивание компонента формы",
      "content": "",
      "headId": 1194806,
      "archivedAt": null,
      "folderPathname": "/React/Formik + Apollo",
      "parentFolderId": "0f82db6f-9cac-4d03-aa81-e65c7778908d",
      "teamId": "nhFMY3a5g",
      "generated": false,
      "createdAt": "2021-09-18T12:38:59.697Z",
      "updatedAt": "2021-09-18T12:45:37.887Z",
      "version": 2,
      "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
      "workspaceId": "4ae225f9-123d-4918-a49f-e0c91bd0b18a",
      "head": {
        "id": 1194806,
        "docId": "41deb9a7-e963-4775-b89c-0db019afbd22",
        "content": "Необязательно создавать один большой компонент формы, formik довольно спокойно позволяет распределять свой функционал между компоннетами ниже.\n\nК прмимеру вот мы инициализировали formik в родительском компоненте\n\n``` js\n  const formik = useFormik({\n    initialValues,\n    validationSchema: editUserSchema,\n    onSubmit: (values) => {updateUser({variables: values})},\n  })\n```\n\nМы можем спокойно передать формик в дочерние компоненты\n\n``` js\n<EditUserForm formik={formik} loading={loading} resetNotifications={resetNotifications}/>\n```\n\nИ так же как и вседа использвать его в этом дочернем компоненте и даже передавать его дальше\n\n```js\n\n    <form noValidate onSubmit={formik.handleSubmit}>\n      <EditUserMain formik={formik}/>\n      <EditUserPlan formik={formik}/>\n      <EditUserChangePassword formik={formik} loading={loading} resetNotifications={resetNotifications}/>\n    </form>\n```\n\n``` js\n   <input\n              type='text'\n              {...formik.getFieldProps('name')}\n              className={clsx(\n                'dev-input',\n                {\n                  'border border-danger': formik.touched.name && formik.errors.name,\n                },\n                {\n                  'border border-success': formik.touched.name && !formik.errors.name,\n                }\n              )}\n              placeholder='Name'\n            />\n            {formik.touched.name && formik.errors.name && (\n              <div className='fv-plugins-message-container text-danger'>\n                <div className='fv-help-block'>\n                  <span role='alert'>{formik.errors.name}</span>\n                </div>\n              </div>\n            )}\n```",
        "message": "",
        "created": "2021-09-18T12:45:37.878Z",
        "creators": [
          {
            "id": "b0568c88-bb34-4420-969e-41238089a0d4",
            "uniqueName": "google#113467622262670857280",
            "displayName": "Alexander Matviienko",
            "createdAt": "2021-05-10T19:50:11.968Z",
            "updatedAt": "2021-05-10T19:50:31.732Z"
          }
        ]
      }
    },
    {
      "id": "bec76bfb-95a0-45d9-bac2-4219aedfef17",
      "emoji": null,
      "title": "Получение и установка данных в значения полей",
      "content": "",
      "headId": 1194793,
      "archivedAt": null,
      "folderPathname": "/React/Formik + Apollo",
      "parentFolderId": "0f82db6f-9cac-4d03-aa81-e65c7778908d",
      "teamId": "nhFMY3a5g",
      "generated": false,
      "createdAt": "2021-09-18T12:34:16.664Z",
      "updatedAt": "2021-09-18T12:37:05.176Z",
      "version": 2,
      "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
      "workspaceId": "4ae225f9-123d-4918-a49f-e0c91bd0b18a",
      "head": {
        "id": 1194793,
        "docId": "bec76bfb-95a0-45d9-bac2-4219aedfef17",
        "content": "Если нам надо что бы допустим в полях изменения пользователя выводились его изначальные данные (которые допустим мы не можем получить сходу). То можно установить их способом показанным в примере ниже\n\n``` js\nuseEffect(() => {\n    if(data){\n      formik.setValues({\n        password: '',\n        plan_trial_done: data.getUserById.plan_trial_done,\n        plan_id: data.getUserById.plan.id,\n        is_admin: data.getUserById.is_admin ? '1' : '0',\n        active: data.getUserById.active,\n        email: data.getUserById.email,\n        name: data.getUserById.name,\n        changepassword: '',\n        plan_expiration_date: data.getUserById.plan_expiration_date\n      });\n    }\n  }, [data])\n```\n\nИ в итоге эти данные будут отображаться в инпутах ",
        "message": "",
        "created": "2021-09-18T12:37:05.167Z",
        "creators": [
          {
            "id": "b0568c88-bb34-4420-969e-41238089a0d4",
            "uniqueName": "google#113467622262670857280",
            "displayName": "Alexander Matviienko",
            "createdAt": "2021-05-10T19:50:11.968Z",
            "updatedAt": "2021-05-10T19:50:31.732Z"
          }
        ]
      }
    },
    {
      "id": "87eb057e-799f-46f7-be51-ba68f2e29c1e",
      "emoji": null,
      "title": "Обработка данных перед отправкой",
      "content": "",
      "headId": 1194785,
      "archivedAt": null,
      "folderPathname": "/React/Formik + Apollo",
      "parentFolderId": "0f82db6f-9cac-4d03-aa81-e65c7778908d",
      "teamId": "nhFMY3a5g",
      "generated": false,
      "createdAt": "2021-09-18T12:30:13.435Z",
      "updatedAt": "2021-09-18T12:34:06.328Z",
      "version": 2,
      "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
      "workspaceId": "4ae225f9-123d-4918-a49f-e0c91bd0b18a",
      "head": {
        "id": 1194785,
        "docId": "87eb057e-799f-46f7-be51-ba68f2e29c1e",
        "content": "В промежутке между нажатием кнопки отправить и срабатыванием мутации данные можно обработать. В примере ниже видно как перед отправкой идет получение даты из кеша для ее совмещения с другими данными для отправки. Так же интересно как добавляются другие данные в мутацию перед отправкой \n\n``` js\nonSubmit: (values) => {\n\n      const date = client.readQuery({\n        query: READ_DATE,\n      });\n\n      updateUser({variables: {\n        ...values,\n          id: id,\n          is_admin: !!+values.is_admin,\n          active: +values.active,\n          plan_id: +values.plan_id,\n          plan_trial_done: +values.plan_trial_done,\n          plan_expiration_date: date.date.date\n      }})\n    },\n  })\n```",
        "message": "",
        "created": "2021-09-18T12:34:06.320Z",
        "creators": [
          {
            "id": "b0568c88-bb34-4420-969e-41238089a0d4",
            "uniqueName": "google#113467622262670857280",
            "displayName": "Alexander Matviienko",
            "createdAt": "2021-05-10T19:50:11.968Z",
            "updatedAt": "2021-05-10T19:50:31.732Z"
          }
        ]
      }
    },
    {
      "id": "dfd6b686-4436-4c2e-b375-45f6d90cf7fe",
      "emoji": null,
      "title": "Базовый пример на регистрации",
      "content": "",
      "headId": 1194730,
      "archivedAt": null,
      "folderPathname": "/React/Formik + Apollo",
      "parentFolderId": "0f82db6f-9cac-4d03-aa81-e65c7778908d",
      "teamId": "nhFMY3a5g",
      "generated": false,
      "createdAt": "2021-09-18T12:03:53.004Z",
      "updatedAt": "2021-09-18T12:19:01.763Z",
      "version": 4,
      "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
      "workspaceId": "4ae225f9-123d-4918-a49f-e0c91bd0b18a",
      "head": {
        "id": 1194730,
        "docId": "dfd6b686-4436-4c2e-b375-45f6d90cf7fe",
        "content": "## initialValues \nЭто начальные значения для формы которые необходимо указать. И жедательно над компонентом \n\n``` js\nconst initialValues = {\n  firstname: '',\n  email: '',\n  password: '',\n  changepassword: '',\n}\n```\n\n## validationScheam \nЭто схема валидации, в них указывается обязательные параметры валидности значения\n\n```js\nconst registrationSchema = Yup.object().shape({\n  firstname: Yup.string()\n    .min(3, 'Minimum 3 symbols')\n    .max(50, 'Maximum 50 symbols')\n    .required('First name is required'),\n  email: Yup.string()\n    .email('Wrong email format')\n    .min(3, 'Minimum 3 symbols')\n    .max(50, 'Maximum 50 symbols')\n    .required('Email is required'),\n  password: Yup.string()\n    .min(3, 'Minimum 3 symbols')\n    .max(50, 'Maximum 50 symbols')\n    .required('Password is required'),\n  changepassword: Yup.string()\n    .required('Password confirmation is required')\n    .when('password', {\n      is: (val: string) => (!!(val && val.length > 0)),\n      then: Yup.string().oneOf([Yup.ref('password')], \"Password and Confirm Password didn't match\"),\n    }),\n})\n```\n\n## Инициализируем мутацию\n``` js\n  const [createUser, { loading }] = useCreateUser();\n```\n\n## Инициализируем формик\n\n``` js\n const formik = useFormik({\n   // Указываем начальное знгачение\n    initialValues,\n   // Указываем схему валидации\n    validationSchema: registrationSchema,\n   // Указываем что происходит при отправки формы\n   // values = значения собранные с формы\n    onSubmit: (values) => {\n      // ОТправляем мутацию передав в нее значения формы\n      createUser({variables: values})\n      // Ну а тут посредством промисов указываеми дальнейшие действия\n        .then((data) => history.push('/dashboard'))\n        .catch((err) => console.log(err))\n    },\n  })\n```\n\n## Теперь разберем саму структуру формы\n\n```js\n<form\n  className='form'\n  // Отключаем стандартную валидацию\n  noValidate\n  // Указываем что при отправке должен сработать обработчик отправки формика\n  onSubmit={formik.handleSubmit}\n    >\n          <input\n            placeholder='Name'\n            type='text'\n            // Обязательно для формика следут указать имя поля \n            {...formik.getFieldProps('name')}\n            className={clsx(\n              'form-control form-control-lg form-control-solid',\n               // Обработчик ошибок \n              {\n                'is-invalid': formik.touched.name && formik.errors.name,\n              },\n              {\n                'is-valid': formik.touched.name && !formik.errors.name,\n              }\n            )}\n          />\n          // БЛок с выводом предупреждений о неккоректном вводе\n          {formik.touched.name && formik.errors.name && (\n            <div className='fv-plugins-message-container'>\n              <div className='fv-help-block'>\n                <span role='alert'>{formik.errors.name}</span>\n              </div>\n            </div>\n          )}\n\n\n <button\n    type='submit'\n    id='kt_sign_up_submit'\n    className='btn btn-lg btn-primary w-100 mb-5'\n    // Разрешаем кнопке срабатывать только когда все поля валидные\n    disabled={!formik.isValid }\n  >\n  </button>\n</form>\n```",
        "message": "",
        "created": "2021-09-18T12:19:01.714Z",
        "creators": [
          {
            "id": "b0568c88-bb34-4420-969e-41238089a0d4",
            "uniqueName": "google#113467622262670857280",
            "displayName": "Alexander Matviienko",
            "createdAt": "2021-05-10T19:50:11.968Z",
            "updatedAt": "2021-05-10T19:50:31.732Z"
          }
        ]
      }
    },
    {
      "id": "416f5783-525b-45db-b204-8602fc2f574d",
      "emoji": null,
      "title": "Главный компонент",
      "content": "",
      "headId": 1194676,
      "archivedAt": null,
      "folderPathname": "/Tracking/Компоненты/Работа с формиком на примере формы измения данных пользователя",
      "parentFolderId": "57f77c6f-d390-4104-a6a4-7fed8ccaf3a7",
      "teamId": "nhFMY3a5g",
      "generated": false,
      "createdAt": "2021-09-18T11:59:33.595Z",
      "updatedAt": "2021-09-18T12:00:17.622Z",
      "version": 2,
      "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
      "workspaceId": "309011fd-0b61-4b75-a6fe-a3a711e8a079",
      "head": {
        "id": 1194676,
        "docId": "416f5783-525b-45db-b204-8602fc2f574d",
        "content": "``` js\nconst EditUserContent = () => {\n  const [success, setSuccess] = useState(false)\n  const [fail, setFail] = useState(false)\n  const [msg, setMessage] = useState('')\n  const client = useApolloClient()\n  const id = useGetIdFromUrl()\n\n  const [getUser, {data}] = useLazyQuery(GET_USER, {\n    variables: {\n      id:  id\n    }\n  })\n\n  const [updateUser, { loading, error}] = useUpdateUser()\n\n  const formik = useFormik({\n    initialValues,\n    validationSchema: editUserSchema,\n    onSubmit: (values) => {\n\n      const date = client.readQuery({\n        query: READ_DATE,\n      });\n\n      updateUser({variables: {\n        ...values,\n          id: id,\n          is_admin: !!+values.is_admin,\n          active: +values.active,\n          plan_id: +values.plan_id,\n          plan_trial_done: +values.plan_trial_done,\n          plan_expiration_date: date.date.date\n      }})\n        .then(() => {\n          window.scrollTo(0, 0)\n          getUser()\n          setSuccess(true)\n        })\n        .catch(err => setFail(true))\n    },\n  })\n\n  useEffect(() => {getUser()}, [])\n\n  useEffect(() => {\n    if(data){\n      if(!!localStorage.getItem('new-user')){\n        localStorage.removeItem('new-user')\n        setSuccess(true)\n        setMessage('User created successfully')\n      }\n\n      formik.setValues({\n        password: '',\n        plan_trial_done: data.getUserById.plan_trial_done,\n        plan_id: data.getUserById.plan.id,\n        is_admin: data.getUserById.is_admin ? '1' : '0',\n        active: data.getUserById.active,\n        email: data.getUserById.email,\n        name: data.getUserById.name,\n        changepassword: '',\n        plan_expiration_date: data.getUserById.plan_expiration_date\n      });\n    }\n  }, [data])\n\n  const resetNotifications = () => {\n    setSuccess(false)\n    setFail(false)\n  }\n\n\n  return (\n    <div>\n     <EditUserNotifications setSuccess={setSuccess}  setFail={setFail}  success={success} fail={fail} error={error && error.message} msg={msg} setMessage={setMessage}/>\n      <div className=\"w-100 p-5 rounded-1 dev-view-user-main\">\n        <EditUserForm formik={formik} loading={loading} resetNotifications={resetNotifications}/>\n      </div>\n    </div>\n  );\n};\n\nexport default EditUserContent;\n```",
        "message": "",
        "created": "2021-09-18T12:00:17.613Z",
        "creators": [
          {
            "id": "b0568c88-bb34-4420-969e-41238089a0d4",
            "uniqueName": "google#113467622262670857280",
            "displayName": "Alexander Matviienko",
            "createdAt": "2021-05-10T19:50:11.968Z",
            "updatedAt": "2021-05-10T19:50:31.732Z"
          }
        ]
      }
    },
    {
      "id": "8e2f8195-91a2-45db-8c8c-fad78fd84d8e",
      "emoji": null,
      "title": "Составление мутаций",
      "content": "",
      "headId": 1194592,
      "archivedAt": null,
      "folderPathname": "/React/Apollo",
      "parentFolderId": "917eb315-1d9e-4a59-8923-1813b06e6ef5",
      "teamId": "nhFMY3a5g",
      "generated": false,
      "createdAt": "2021-09-18T11:27:58.105Z",
      "updatedAt": "2021-09-18T11:35:56.795Z",
      "version": 4,
      "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
      "workspaceId": "4ae225f9-123d-4918-a49f-e0c91bd0b18a",
      "head": {
        "id": 1194592,
        "docId": "8e2f8195-91a2-45db-8c8c-fad78fd84d8e",
        "content": "Составлять запросы к мутации достаточно просто\n\n``` js\nexport const DEACTIVATE_MANY_USERS = gql`\n    mutation DeactivateManyUsers(\n    // Указываем типы данных аргументов которые принимает мутация\n        $users_id: [Float!]!\n    ){\n    // Тут мы указываем эти самы аргументы\n        deactivateManyUsers(\n         users_id: $users_id\n        )\n        // А тут мы записываем данные которые хотим принять обратно (если конечно надо)\n        {\n            id\n            email\n            name\n        }\n    }\n`\n```\n\nИ после пихаем это дело в хук\n\n``` js\nexport const useDeactivateManyUsers = () => useMutation(DEACTIVATE_MANY_USERS)\n```\n\nИ применяем его в компоненте таким вот образом\n\n``` js\n// Первое имя это название функции которая будет выполнять мутацию\nconst [doDeactivate, (data, loading, error)] = useDeactivateManyUsers()\n```\n\nДалее стоит запустить метод выполенния мутации \n\n``` js\ndoDeactivate({\n        variables: {users_id: arrId}\n      })\n```",
        "message": "",
        "created": "2021-09-18T11:35:56.771Z",
        "creators": [
          {
            "id": "b0568c88-bb34-4420-969e-41238089a0d4",
            "uniqueName": "google#113467622262670857280",
            "displayName": "Alexander Matviienko",
            "createdAt": "2021-05-10T19:50:11.968Z",
            "updatedAt": "2021-05-10T19:50:31.732Z"
          }
        ]
      }
    },
    {
      "id": "0d130439-6f15-4c69-80eb-13a19588e7de",
      "emoji": null,
      "title": "Вложенная деструктуризация объектов",
      "content": "",
      "headId": 1194565,
      "archivedAt": null,
      "folderPathname": "/JS",
      "parentFolderId": "18764da7-5e98-4f6f-adf6-14055a45e2c9",
      "teamId": "nhFMY3a5g",
      "generated": false,
      "createdAt": "2021-09-18T11:25:52.560Z",
      "updatedAt": "2021-09-18T11:27:20.098Z",
      "version": 2,
      "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
      "workspaceId": "4ae225f9-123d-4918-a49f-e0c91bd0b18a",
      "head": {
        "id": 1194565,
        "docId": "0d130439-6f15-4c69-80eb-13a19588e7de",
        "content": "``` js\nlet options = {\n  size: {\n    width: 100,\n    height: 200\n  },\n  items: [\"Cake\", \"Donut\"],\n  extra: true\n};\n\n// деструктуризация разбита на несколько строк для ясности\nlet {\n  size: { // положим size сюда\n    width,\n    height\n  },\n  items: [item1, item2], // добавим элементы к items\n  title = \"Menu\" // отсутствует в объекте (используется значение по умолчанию)\n} = options;\n\nalert(title);  // Menu\nalert(width);  // 100\nalert(height); // 200\nalert(item1);  // Cake\nalert(item2);  // Donut\n```\n\nПо сути мы просто повторяем структуру объекта и в итоге можем использовать его свойства как имена обычных переменных",
        "message": "",
        "created": "2021-09-18T11:27:20.077Z",
        "creators": [
          {
            "id": "b0568c88-bb34-4420-969e-41238089a0d4",
            "uniqueName": "google#113467622262670857280",
            "displayName": "Alexander Matviienko",
            "createdAt": "2021-05-10T19:50:11.968Z",
            "updatedAt": "2021-05-10T19:50:31.732Z"
          }
        ]
      }
    },
    {
      "id": "f1f27022-41af-4d2b-88ed-563c0428f7ff",
      "emoji": null,
      "title": "Создание модальных окон",
      "content": "",
      "headId": 1194389,
      "archivedAt": null,
      "folderPathname": "/Заметки",
      "parentFolderId": "f3ab0b81-040b-4fed-ad71-761253447dad",
      "teamId": "nhFMY3a5g",
      "generated": false,
      "createdAt": "2021-09-18T10:08:09.540Z",
      "updatedAt": "2021-09-18T10:17:03.333Z",
      "version": 3,
      "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
      "workspaceId": "309011fd-0b61-4b75-a6fe-a3a711e8a079",
      "head": {
        "id": 1194389,
        "docId": "f1f27022-41af-4d2b-88ed-563c0428f7ff",
        "content": "## Для того что бы создать модальное окно следует: \n1. Добавить кнопек вызова следующие атрибуты:\n\n``` js\n// Тут мы обозначем что эта кнопка будет вызывать модальное окно\n  data-bs-toggle=\"modal\"\n// А тут мы указываем id модалки которую мы вызываем этой кнопкой\n  data-bs-target=\"#kt_modal_2\"\n```\n2. Создаем компонента модалки:\n\n``` js\nconst ExampleModal = () => {\n\n  return (\n// Тут мы указываем id по которому будем вызывать модальное окно (для \n// последующих модалок желательно менять только цифру)\n    <div className=\"modal fade\" tabIndex={-1} id=\"kt_modal_2\">\n      <div className=\"modal-dialog\">\n        <div className=\"modal-content\">\n          <div className=\"modal-header border-0\">\n            <h5 className=\"modal-title d-flex align-items-center fs-2\">\n// Тут у нас заголовок\n            </h5>\n            <div\n              className=\"btn-sm ms-2\"\n              data-bs-dismiss=\"modal\"\n              aria-label=\"Close\"\n            >\n// Иконка крестика закрытия...\n            </div>\n          </div>\n// Контент...\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default ExampleModal;\n```\n\n3. Выносим модалку в MasterLayout\n\n``` js\nconst MasterLayout: React.FC = ({children}) => {\n  return (\n    <PageDataProvider>\n      <div className='page d-flex flex-row flex-column-fluid'>\n        <AsideDefault />\n        <div className='wrapper d-flex flex-column flex-row-fluid' id='kt_wrapper'>\n            <HeaderWrapper />\n\n            <div id='kt_content' className='content d-flex flex-column flex-column-fluid '>\n              {/*<Toolbar />*/}\n                <div className='post d-flex flex-column-fluid ' id='kt_post'>\n                    <Content>{children}</Content>\n                </div>\n            </div>\n            <Footer />\n        </div>\n    </div>\n\n      {/* begin:: Drawers */}\n      <ActivityDrawer />\n      {/*<ExploreMain />*/}\n      <DrawerMessenger />\n      {/* end:: Drawers */}\n\n      {/* begin:: Modals */}\n      <Main />\n      <InviteUsers />\n// Вот сюдой\n      <ExampleModal/>\n      {/* end:: Modals */}\n\n      <MasterInit />\n      <ScrollTop />\n    </PageDataProvider>\n  )\n}\n```",
        "message": "",
        "created": "2021-09-18T10:17:03.323Z",
        "creators": [
          {
            "id": "b0568c88-bb34-4420-969e-41238089a0d4",
            "uniqueName": "google#113467622262670857280",
            "displayName": "Alexander Matviienko",
            "createdAt": "2021-05-10T19:50:11.968Z",
            "updatedAt": "2021-05-10T19:50:31.732Z"
          }
        ]
      }
    },
    {
      "id": "43fc6f1c-656c-4360-8de0-9a9c7d82d131",
      "emoji": null,
      "title": "Работа с массивами и пример записи и перезаписи",
      "content": "",
      "headId": 1194556,
      "archivedAt": null,
      "folderPathname": "/React/Apollo/ApolloCache",
      "parentFolderId": "869a9191-ec26-460b-b074-c591d9a6cc8e",
      "teamId": "nhFMY3a5g",
      "generated": false,
      "createdAt": "2021-09-16T14:32:45.968Z",
      "updatedAt": "2021-09-18T11:23:05.306Z",
      "version": 7,
      "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
      "workspaceId": "4ae225f9-123d-4918-a49f-e0c91bd0b18a",
      "head": {
        "id": 1194556,
        "docId": "43fc6f1c-656c-4360-8de0-9a9c7d82d131",
        "content": "\n### Создаем массив (тут это будет к примеру массив задач)\n\n``` js\n  client.writeQuery({\n    query: gql`\n    query WriteTodo{\n      todos {\n        id\n        text\n        completed\n      }\n    }`,\n    data: { // Contains the data to write\n      todos: [{\n        __typename: 'Todo',\n        id: 5,\n        text: 'Buy grapes 🍇',\n        completed: false\n        }\n      ],\n    },\n  });\n```\n\n### Далее допустим на надо добавить еще одну задачу для этого\n1. Создаем запрос на получение предыдущих записей\n\n``` js\nconst query = gql`\n  query MyTodoAppQuery {\n    todos {\n      id\n      text\n      completed\n    }\n  }\n`;\n```\n2. Получаем предыдущие записи\n\n``` js\n  const data = client.readQuery({ query });\n```\n\n3. Создаем объект со следующей записей\n\n``` js\n  const myNewTodo = {\n    id: '6',\n    text: 'Start using Apollo Client.',\n    completed: false,\n    __typename: 'Todo',\n  };\n```\n\n4. И после перезаписываем массив с задачами добавляя новую задачу\n\n``` js\nif(data){\n    // Напишите обратно в список дел, добавив новый элемент\n    client.writeQuery({\n      query,\n      data: {\n        todos: [...data.todos, myNewTodo],\n      },\n    });\n  }\n```\n\n### И теперь посомтри наши все записи\n1. Составляем запрос\n  ``` js\n  const READ_TODO = gql`\n    query ReadTodo{\n      todos{\n        id\n        text\n        completed\n      }\n    }\n  `;\n  ```\n  \n2. Делаем запрос\n\n  ```js\n    const todo = client.readQuery({\n    query: READ_TODO,\n    variables: { // Provide any required variables here\n      id: 5,\n    },\n  });\n  ```\n  \n  ### Если мы хотим очистить наш массив\n  Просто перезаписываем то место на пустой массив\n  ``` js\n     client.writeQuery({\n        query,\n        data: {\n          todos: [],\n        },\n      });\n  ```",
        "message": "",
        "created": "2021-09-18T11:23:05.286Z",
        "creators": [
          {
            "id": "b0568c88-bb34-4420-969e-41238089a0d4",
            "uniqueName": "google#113467622262670857280",
            "displayName": "Alexander Matviienko",
            "createdAt": "2021-05-10T19:50:11.968Z",
            "updatedAt": "2021-05-10T19:50:31.732Z"
          }
        ]
      }
    },
    {
      "id": "350f7340-23a1-4009-a5e9-8ed811a50271",
      "emoji": null,
      "title": "writeFragment&readFragment",
      "content": "",
      "headId": 1185090,
      "archivedAt": null,
      "folderPathname": "/React/Apollo/ApolloCache",
      "parentFolderId": "869a9191-ec26-460b-b074-c591d9a6cc8e",
      "teamId": "nhFMY3a5g",
      "generated": false,
      "createdAt": "2021-09-16T14:26:07.441Z",
      "updatedAt": "2021-09-16T14:42:53.417Z",
      "version": 4,
      "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
      "workspaceId": "4ae225f9-123d-4918-a49f-e0c91bd0b18a",
      "head": {
        "id": 1185090,
        "docId": "350f7340-23a1-4009-a5e9-8ed811a50271",
        "content": "## Пример записи данных\n\nОдин ньюанс, эти инструменты пригодны только в том случае если в кеше уже есть запись запись занесенная туда с помощью writeQuery.\n\n``` js\n// Запрос к кешу\nclient.writeFragment({\n  // индефикаторы состоящие из типа и ид (которые мы само собой создали с \n  // writeQuery)\n  id: 'Todo:5',\n  // сам запрос\n  fragment: gql`\n    fragment MyTodo on Todo {\n      completed\n      text\n    }\n  `,\n  // Данные которые записываем\n  data: {\n    text: 'Text'\n    completed: true,\n  },\n});\n```\n\n## Присер чтения данных\n``` js\nconst todo = client.readFragment({\n  // Индентификаторы по которым ищем запись (которые мы само собой создали с \n  // writeQuery)\n  id: 'Todo:5', // The value of the to-do item's cache ID\n  // Запрос с данными которые хотим достать\n  fragment: gql`\n    fragment MyTodo on Todo {\n      id\n      text\n      completed\n    }\n  `,\n});\n```\n\n",
        "message": "",
        "created": "2021-09-16T14:42:53.408Z",
        "creators": [
          {
            "id": "b0568c88-bb34-4420-969e-41238089a0d4",
            "uniqueName": "google#113467622262670857280",
            "displayName": "Alexander Matviienko",
            "createdAt": "2021-05-10T19:50:11.968Z",
            "updatedAt": "2021-05-10T19:50:31.732Z"
          }
        ]
      }
    },
    {
      "id": "2f04205e-c6b7-4ae0-a44d-93d1a0e8e93d",
      "emoji": null,
      "title": "writeQuery&readQuery",
      "content": "",
      "headId": 1184910,
      "archivedAt": null,
      "folderPathname": "/React/Apollo/ApolloCache",
      "parentFolderId": "869a9191-ec26-460b-b074-c591d9a6cc8e",
      "teamId": "nhFMY3a5g",
      "generated": false,
      "createdAt": "2021-09-16T13:54:29.294Z",
      "updatedAt": "2021-09-16T14:25:41.216Z",
      "version": 6,
      "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
      "workspaceId": "4ae225f9-123d-4918-a49f-e0c91bd0b18a",
      "head": {
        "id": 1184910,
        "docId": "2f04205e-c6b7-4ae0-a44d-93d1a0e8e93d",
        "content": "\n\nПример записи данных\n``` js\n  client.writeQuery({\n    query: gql`\n    // Если планируеться записывать несколько значений и затем искать их \n    // по уникальным значениям то указываем в запрос прием параметров\n    query WriteTodo($id: Int!) {\n    // Название объекта под которым будет храниться сущность так же тут \n    // указываем переменную по которой будем искать это дело в случае запроса \n    //к кешу\n      todo(id: $id) {\n        id\n        text\n        completed\n      }\n    }`,\n    data: { // Contains the data to write\n      // Название сущности\n      todo: {\n        // Тип сущности\n        __typename: 'Todo',\n        // индефикатор по которому в этом запросе у нас и будет происходить \n        // поиск\n        id: 5,\n        // и остальная контентная часть\n        text: 'Buy grapes 🍇',\n        completed: false\n      },\n    },\n    // если при чтении этих данных с кеша подразумевается поиск по каким либо \n    // параметрам то указываем эти параметры тут (если нет то не указываем)\n    variables: {\n      id: 5\n    }\n  });\n```\n\nПример чтения данных \n``` js\n// Как и с обычными запросами сначала конструируем их\nconst READ_TODO = gql`\n// Не забываем за параметры\n  query ReadTodo($id: ID!) {\n  // а так же указываем название сущности\n    todo(id: $id) {\n      id\n      text\n      completed\n    }\n  }\n`;\n\n// Fetch the cached to-do item with ID 5\n// Тут инициируем запрос \nconst { todo } = client.readQuery({\n  // Передаем его\n  query: READ_TODO,\n  // и указываем переменную для поиска\n  variables: { // Provide any required variables here\n    id: 5,\n  },\n});\n```\n\n### Редактирование существующих данных\n\nВ приведенном выше примере, если ваш кеш уже содержит Todoобъект с идентификатором 5, writeQuery перезаписывает поля, которые включены в data(другие поля сохраняются). Кароче делаем тайкой же запрос только с другими данными и Apollo будет перезаписывать все это дело.",
        "message": "",
        "created": "2021-09-16T14:07:24.930Z",
        "creators": [
          {
            "id": "b0568c88-bb34-4420-969e-41238089a0d4",
            "uniqueName": "google#113467622262670857280",
            "displayName": "Alexander Matviienko",
            "createdAt": "2021-05-10T19:50:11.968Z",
            "updatedAt": "2021-05-10T19:50:31.732Z"
          }
        ]
      }
    },
    {
      "id": "8f48cad3-0d1d-45b5-9ef2-5f0d77c55c77",
      "emoji": null,
      "title": "Promise",
      "content": "",
      "headId": 1119278,
      "archivedAt": null,
      "folderPathname": "/JS",
      "parentFolderId": "18764da7-5e98-4f6f-adf6-14055a45e2c9",
      "teamId": "nhFMY3a5g",
      "generated": false,
      "createdAt": "2021-09-04T12:02:26.990Z",
      "updatedAt": "2021-09-04T12:59:55.631Z",
      "version": 8,
      "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
      "workspaceId": "4ae225f9-123d-4918-a49f-e0c91bd0b18a",
      "head": {
        "id": 1119278,
        "docId": "8f48cad3-0d1d-45b5-9ef2-5f0d77c55c77",
        "content": "С помощью промисов я могу строить сценарии выполнения кода. То есть если говорить на человекопонятном языке я могу выстроить такую цепочку: \"После того как выполнится вот это необходимо вополнить вот то и да если вылетит ошибка сделай то то. Как всегда понятнее выйдет объяснить на коде.\n\n# Пример создания промисов\n\n``` js\n// Вот таким макаром можно создаеться промис.\n// То есть идет иникиализация класса.\n// Который принимает в себя callback \n// который в качестве аргументов принимает в себя две callback функции\n\n// 1. resolve - эта функция срабатывает в случае успеха \n// и аргументов в себя принимает то что надо вернуть\n// в случае этого самого успеха.\n\n// 2. reject - эта функция срабатывает в случае,\n// если в коде что то пойдет не так\n// и принимает она в себя то что надо вернуть в случае ошибки\nconst p = new Promise((resolve, reject) => {\n// Код который выполняется для примера\n  setTimeout(() => {\n    console.log('Preparing data...')\n    const backendData = {\n      server: 'aws',\n      port: 2000,\n      status: 'working'\n    }\n    // Вконце выполнения кода вызываю resolve и предпю ему то что надо \n    // вернуть в случае успеха\n    resolve(backendData)\n    // В случае ошибки вызываем reject() \n    reject(// тут передаем данные которые необходимо вернуть в случае ошибки)\n  }, 2000)\n})\n// Привычный then который принимает в себя  функцию,\n// которая принимает аргумент данные которые возвращает промис\n// в этой функции можно обрабатывать эти данные как угодно и\n// передавать и по цепочке then дальше\n\n// Так же здесь продемонстрирован того что функции могут и возвращать промис \n// и от их вызовов дальше можно выстраивать цепочки сценариев\np.then(data => {\n  return new Promise((resolve, reject) => {\n    setTimeout(() => {\n      data.modifed = true\n      resolve(data)\n    }, 2000)\n  })\n})\n.then(clientData => {\n  clientData.fromPromise = true\n  return clientData\n})\n// catch принимает в себя функцию которая принимает в себя \n// данные передаваемые в resolve и здесь пишется код\n// которые отрабатывается в случае ошибки\n.catch(err => console.error('Error: ', err))\n// finally принимает в себя функцию в которой выполняется код \n// необходимый для выполнения в любом случе (хоть в случае ошибки хоть успеха)\n.finally(() => console.log('Finally'))\n```\n\n# Пример создания функций которые возарщают промис\n```js \n// Здесь показан пример создания функции которая возвращает промис \n// То есть  благодаря этому после выполнения \n// этой функции мы можем выстраивать цепочку \n// событий которые произойдут после ее выполнения\nconst sleep = ms => {\n  return new Promise(resolve => {\n    setTimeout(() => resolve(), ms)\n  })\n}\n\nsleep(2000).then(() => console.log('After 2 sec'))\nsleep(3000).then(() => console.log('After 3 sec'))\n```\n\n# Глобальные обработчик промисов \nЯ назвал их глобальными потому что они могут обслучживать несолько промисов.\nИх объединяет то что они оба принимают в себя массив из функций котрые возвращают промисы. только __Promise.all__ начинает выполнять цепочку событий только после того как выполнятся все промисы а __Promise.race__ начинает после первого завершившегося.\n``` js\nPromise.all([sleep(2000), sleep(3000)]).then(() => {\n  console.log('All promises')\n})\n\nPromise.race([sleep(2000), sleep(3000)]).then(() => {\n  console.log('Race promises')\n})\n```",
        "message": "",
        "created": "2021-09-04T12:59:55.569Z",
        "creators": [
          {
            "id": "b0568c88-bb34-4420-969e-41238089a0d4",
            "uniqueName": "google#113467622262670857280",
            "displayName": "Alexander Matviienko",
            "createdAt": "2021-05-10T19:50:11.968Z",
            "updatedAt": "2021-05-10T19:50:31.732Z"
          }
        ]
      }
    },
    {
      "id": "2f63e4b0-bd48-4386-adc8-dbf50badb3d5",
      "emoji": null,
      "title": "Переименование нескольких фалов одновременно",
      "content": "",
      "headId": 1114075,
      "archivedAt": null,
      "folderPathname": "/Общее решения",
      "parentFolderId": "1b0abfc2-935b-4ae6-a795-8ab1af7ab6d8",
      "teamId": "nhFMY3a5g",
      "generated": false,
      "createdAt": "2021-09-03T05:46:42.541Z",
      "updatedAt": "2021-09-03T05:49:07.529Z",
      "version": 2,
      "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
      "workspaceId": "4ae225f9-123d-4918-a49f-e0c91bd0b18a",
      "head": {
        "id": 1114075,
        "docId": "2f63e4b0-bd48-4386-adc8-dbf50badb3d5",
        "content": "Утилита rename переименовывает данные файлы, заменяя первое выражение в их имени заменой.\n\nКоманда rename устанавливается в большинстве Unix-подобных операционных систем.\n\nЕсли он по умолчанию недоступен, выполните следующую команду, чтобы установить его в системах на базе Debian:\n```\n$ sudo apt install rename\n```\nНапример, у меня есть следующие файлы в текущем каталоге.\n```\n$ ls\n```\nabcd1.txt abcd2.txt abcd3.txt\nЗаменим первое  abc на xyz, где бы оно ни находилось. Для этого запустите:\n\n```\n$ rename 's/abc/xyz/' *\n```\n\nТеперь проверьте, были ли сделаны изменения с помощью команды ls.\n\n```\n$ ls xyzd1.txt xyzd2.txt xyzd3.txt\n```\n\nИногда вы можете просто вывести выходные данные вместо переименования файлов.\n\nЕсли это так, используйте флаг -n для отображения тех переименований, которые будут выполняться без их выполнения:\n\n```\n$ rename -n 's/abc/xyz/' *\nrename(abcd1.txt, xyzd1.txt)\nrename(abcd2.txt, xyzd2.txt)\nrename(abcd3.txt, xyzd3.txt)\n```\n\nКак вы можете видеть, приведенная выше команда не вносила никаких изменений, а просто отображает имена переименованных файлов.\n\nВы можете принудительно переименовать задачу, даже если операция будет перезаписывать существующие файлы с использованием флага -f, как показано ниже.\n\n```\n$ rename -f 's/abc/xyz/' *\n```\n\nЕсли вы не хотите перезаписывать файлы, вы можете просто преобразовать их в заглавные или строчные буквы (и наоборот), чтобы предотвратить «уже существующие» ошибки.\n\nЧтобы преобразовать все имена файлов в нижний регистр:\n```\n$ rename 'y/a-z/A-Z/' *\n```\nДавайте проверим, были ли внесены изменения.\n```\n$ ls ABCD1.TXT ABCD2.TXT ABCD3.TXT\n```\nДа, буквы в именах файлов были изменены с нижнего регистра на верхний регистр.\n\nАналогично, чтобы преобразовать имена файлов в нижний регистр, выполните:\n```\n$ rename 'y/A-Z/a-z/' *\n```\nМы также можем удалить все пустые ячейки в имени файла.\n\nНапример, у меня есть следующий файл.\n```\n$ ls Clouds of Sunset.mp3\n```\nЧтобы удалить все пробелы в указанном выше имени файла, запустите:\n```\n$ rename \"s/ *//g\" *\n```\nТеперь имя файла не имеет пробелов.\n```\n$ ls CloudsofSunset.mp3\n```\nЗаменить пробелы символами подчеркивания:\n```\n$ rename 's/\\s+/_/g' *\n```\nВозможно, вы захотите изменить расширение файла, но не переименовать имена файлов.\n\nЭто также возможно.\n\nСледующая команда переименовала бы все * .txt-файлы в * .doc.\n```\n$ rename 's/\\.txt$/.doc/' *.txt\n```\nПроверьте изменения с помощью команды ls:\n```\n$ ls abcd1.doc abcd2.doc abcd3.doc\n```\nЧтобы удалить расширение во всех файлах, соответствующих .txt, запустите:\n```\n$ rename 's/\\.txt$//' *.txt\n```\nДля получения дополнительной информации см. Справочные страницы.\n```\n$ man rename\n```",
        "message": "",
        "created": "2021-09-03T05:49:07.518Z",
        "creators": [
          {
            "id": "b0568c88-bb34-4420-969e-41238089a0d4",
            "uniqueName": "google#113467622262670857280",
            "displayName": "Alexander Matviienko",
            "createdAt": "2021-05-10T19:50:11.968Z",
            "updatedAt": "2021-05-10T19:50:31.732Z"
          }
        ]
      }
    },
    {
      "id": "12f3094b-9eb4-4c78-bf9c-4e8ae8ecb70e",
      "emoji": null,
      "title": "Супер асинхронные опирации с запросами (и мутациями)",
      "content": "",
      "headId": 1110514,
      "archivedAt": null,
      "folderPathname": "/React/Apollo",
      "parentFolderId": "917eb315-1d9e-4a59-8923-1813b06e6ef5",
      "teamId": "nhFMY3a5g",
      "generated": false,
      "createdAt": "2021-09-02T12:43:15.416Z",
      "updatedAt": "2021-09-02T12:47:41.639Z",
      "version": 2,
      "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
      "workspaceId": "4ae225f9-123d-4918-a49f-e0c91bd0b18a",
      "head": {
        "id": 1110514,
        "docId": "12f3094b-9eb4-4c78-bf9c-4e8ae8ecb70e",
        "content": "Здесь оисан пример как можно взаимодействовать с apollo клиентом и в асинхронном ключе выполнять различные операции. Тут в приимере ест и условия и промис в промисе что дает огромное пространство в проработке сценариев развитея после запроса. Тут даже можно после запроса сделать еще один запрос и проработать его сценарии что есть очень круто.\n\n``` js\nconst ShopifyHmac:FC = () => {\n  const client = useApolloClient();\n  const [req, setReq] = useState('');\n  const query = useQuery();\n  const history = useHistory();\n\nconst sendQuery = async (req: string) => {\n    const result = await client.query({\n      query: SEND_QUERY,\n      variables: { req: req },\n    })\n      .then(result => result.data)\n      .then(data => {\n        if(data.shopifyHmac.url){\n          window.location.href = data.shopifyHmac.url\n        } else {\n          localStorage.setItem('access_token', data.shopifyHmac.authTokens.accessToken)\n          client.query({\n            query: GET_USER\n          }).then(\n            () => history.push('/dashboard')\n          )\n        }\n      })\n      .catch(e => console.log(e));\n    // console.log('ShopifyHmac', data)\n  }\n",
        "message": "",
        "created": "2021-09-02T12:47:41.617Z",
        "creators": [
          {
            "id": "b0568c88-bb34-4420-969e-41238089a0d4",
            "uniqueName": "google#113467622262670857280",
            "displayName": "Alexander Matviienko",
            "createdAt": "2021-05-10T19:50:11.968Z",
            "updatedAt": "2021-05-10T19:50:31.732Z"
          }
        ]
      }
    },
    {
      "id": "0f65e069-a0b8-4093-95cc-adbb8852297c",
      "emoji": null,
      "title": "Ааторизации на apollo",
      "content": "",
      "headId": 1110012,
      "archivedAt": null,
      "folderPathname": "/React/Apollo",
      "parentFolderId": "917eb315-1d9e-4a59-8923-1813b06e6ef5",
      "teamId": "nhFMY3a5g",
      "generated": false,
      "createdAt": "2021-09-02T10:01:15.552Z",
      "updatedAt": "2021-09-02T10:06:28.682Z",
      "version": 2,
      "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
      "workspaceId": "4ae225f9-123d-4918-a49f-e0c91bd0b18a",
      "head": {
        "id": 1110012,
        "docId": "0f65e069-a0b8-4093-95cc-adbb8852297c",
        "content": "Пример авторрзации на аполло\n\n# Подстановка токена в заголовок каждого запроса\n``` js\nconst authLink = setContext((_, { headers }) => {\n  // get the authentication token from local storage if it exists\n  const token = localStorage.getItem('access_token');\n\n  // return the headers to the context so httpLink can read them\n  return {\n    headers: {\n      ...headers,\n      authorization: token ? `Bearer ${token}` : \"\",\n    }\n  }\n});\n```\n\n# Отправка мутации авторизации\n``` js\nconst [signIn, {data, loading, error}] = useSignIn();\n\nsignIn({variables: values}).then(({data}) => {\n          if(data.login) {\n            history.push('/dashboard')\n          }\n        }).catch((error) => {\n          console.error(error)\n        })\n```\n\n# Занесение токенов в localStorage и совершение запроса на получение пользователя\nЧто и есть критерием определения коректности полученого токена\n``` js\nexport const useSignIn = () => useMutation(SIGN_IN, {\n  update(cache, { data }) {\n    localStorage.setItem('access_token', data.login.accessToken)\n    localStorage.setItem('refresh_token', data.login.refreshToken)\n  },\n  refetchQueries: [\n      'currentUser'\n  ]\n})\n```",
        "message": "",
        "created": "2021-09-02T10:06:28.675Z",
        "creators": [
          {
            "id": "b0568c88-bb34-4420-969e-41238089a0d4",
            "uniqueName": "google#113467622262670857280",
            "displayName": "Alexander Matviienko",
            "createdAt": "2021-05-10T19:50:11.968Z",
            "updatedAt": "2021-05-10T19:50:31.732Z"
          }
        ]
      }
    },
    {
      "id": "0db79c52-d966-4a0d-abc2-8e87aee1f171",
      "emoji": null,
      "title": "Запрос при мутации",
      "content": "",
      "headId": 1109995,
      "archivedAt": null,
      "folderPathname": "/React/Apollo",
      "parentFolderId": "917eb315-1d9e-4a59-8923-1813b06e6ef5",
      "teamId": "nhFMY3a5g",
      "generated": false,
      "createdAt": "2021-09-02T09:25:37.481Z",
      "updatedAt": "2021-09-02T10:01:17.044Z",
      "version": 3,
      "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
      "workspaceId": "4ae225f9-123d-4918-a49f-e0c91bd0b18a",
      "head": {
        "id": 1109995,
        "docId": "0db79c52-d966-4a0d-abc2-8e87aee1f171",
        "content": "После того как смовершилась мутация можно отправить запрос на обновления данных\nЗДесь в примере после мутации на вход выполняется запрос на получение пользователя.\n\n``` js\nexport const useSignIn = () => useMutation(SIGN_IN, {\n  update(cache, { data }) {\n    localStorage.setItem('access_token', data.login.accessToken)\n    localStorage.setItem('refresh_token', data.login.refreshToken)\n  },\n  // Тут выполняется запрос на получение пользователя (нас интересует что тут выполняется доп. запрос после мутации)\n  refetchQueries: [\n      'currentUser'\n  ]\n})\n```",
        "message": "",
        "created": "2021-09-02T10:01:17.031Z",
        "creators": [
          {
            "id": "b0568c88-bb34-4420-969e-41238089a0d4",
            "uniqueName": "google#113467622262670857280",
            "displayName": "Alexander Matviienko",
            "createdAt": "2021-05-10T19:50:11.968Z",
            "updatedAt": "2021-05-10T19:50:31.732Z"
          }
        ]
      }
    },
    {
      "id": "e28f1891-88cb-43f4-b681-099fa9390ee9",
      "emoji": null,
      "title": "Возвращающиеся промисы с функций запросов",
      "content": "",
      "headId": 1108714,
      "archivedAt": null,
      "folderPathname": "/React/Apollo",
      "parentFolderId": "917eb315-1d9e-4a59-8923-1813b06e6ef5",
      "teamId": "nhFMY3a5g",
      "generated": false,
      "createdAt": "2021-09-02T06:53:59.765Z",
      "updatedAt": "2021-09-02T06:59:26.841Z",
      "version": 3,
      "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
      "workspaceId": "4ae225f9-123d-4918-a49f-e0c91bd0b18a",
      "head": {
        "id": 1108714,
        "docId": "e28f1891-88cb-43f4-b681-099fa9390ee9",
        "content": "Функции посылающие запросы useLazyQuery и useMutation возвращают промисы что позволяет удобно обрабатывать сценарии поведения после выполнения запроса.\n\nДавайте разберем на примере аторизации\n\n``` js\nconst [auth, setAuth] = useState(false);\n  const [signIn, {data, loading, error}] = useSignIn();\n  const history = useHistory();\n  const formik = useFormik({\n    initialValues,\n    validationSchema: loginSchema,\n    onSubmit: (values) => {\n    // Та самая функция которая посылает данные формы и обрабатывает сценарий успех и ошибки\n        signIn({variables: values}).then(({data}) => {\n          if(data.login) {\n            localStorage.setItem('access_token', data.login.accessToken)\n            localStorage.setItem('refresh_token', data.login.refreshToken)\n            history.push('/dashboard')\n          }\n        }).catch((error) => {\n          console.error(error)\n        })\n    },\n  })\n```",
        "message": "",
        "created": "2021-09-02T06:59:26.830Z",
        "creators": [
          {
            "id": "b0568c88-bb34-4420-969e-41238089a0d4",
            "uniqueName": "google#113467622262670857280",
            "displayName": "Alexander Matviienko",
            "createdAt": "2021-05-10T19:50:11.968Z",
            "updatedAt": "2021-05-10T19:50:31.732Z"
          }
        ]
      }
    },
    {
      "id": "2f5b35ce-41cc-4a37-b43f-8c88890fa547",
      "emoji": null,
      "title": "Dropdown",
      "content": "",
      "headId": 1104670,
      "archivedAt": null,
      "folderPathname": "/Tracking/Компоненты",
      "parentFolderId": "a6e43c3f-df47-454d-a3aa-04e184d314bf",
      "teamId": "nhFMY3a5g",
      "generated": false,
      "createdAt": "2021-09-01T15:29:29.190Z",
      "updatedAt": "2021-09-01T15:30:39.141Z",
      "version": 2,
      "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
      "workspaceId": "309011fd-0b61-4b75-a6fe-a3a711e8a079",
      "head": {
        "id": 1104670,
        "docId": "2f5b35ce-41cc-4a37-b43f-8c88890fa547",
        "content": "``` js\n<div className='dropdown'>\n          <button\n            type=\"button\"\n            className=\"dev-btn-hover btn-outline btn btn-outline-secondary dropdown-toggle-simple\"\n            data-kt-menu-trigger='click'\n            data-kt-menu-placement='bottom-end'\n            data-kt-menu-flip='top-end'\n            title=\"Export\"\n            aria-expanded=\"false\"\n          >\n            <svg className=\"svg-inline--fa fa-download fa-w-16 fa-fw fa-sm h-20px\" aria-hidden=\"true\" focusable=\"false\"\n                 data-prefix=\"fa\" data-icon=\"download\" role=\"img\" xmlns=\"http://www.w3.org/2000/svg\"\n                 viewBox=\"0 0 512 512\" data-fa-i2svg=\"\">\n              <path fill=\"currentColor\"\n                    d=\"M216 0h80c13.3 0 24 10.7 24 24v168h87.7c17.8 0 26.7 21.5 14.1 34.1L269.7 378.3c-7.5 7.5-19.8 7.5-27.3 0L90.1 226.1c-12.6-12.6-3.7-34.1 14.1-34.1H192V24c0-13.3 10.7-24 24-24zm296 376v112c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V376c0-13.3 10.7-24 24-24h146.7l49 49c20.1 20.1 52.5 20.1 72.6 0l49-49H488c13.3 0 24 10.7 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z\">\n\n              </path>\n            </svg>\n          </button>\n          <div className=\"dropdown-menu dropdown-menu-right menu menu-sub menu-sub-dropdown w-250px w-md-300px\" data-kt-menu='true' >\n            <a href=\"https://rettertest.upify.io/admin/users?&amp;export=csv\" target=\"_blank\" className=\"dropdown-item\">\n              <svg className=\"svg-inline--fa fa-file-csv fa-w-12 fa-fw fa-sm mr-1 w-15px\" aria-hidden=\"true\" focusable=\"false\"\n                   data-prefix=\"fa\" data-icon=\"file-csv\" role=\"img\" xmlns=\"http://www.w3.org/2000/svg\"\n                   viewBox=\"0 0 384 512\" data-fa-i2svg=\"\">\n                <path fill=\"currentColor\"\n                      d=\"M224 136V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zm-96 144c0 4.42-3.58 8-8 8h-8c-8.84 0-16 7.16-16 16v32c0 8.84 7.16 16 16 16h8c4.42 0 8 3.58 8 8v16c0 4.42-3.58 8-8 8h-8c-26.51 0-48-21.49-48-48v-32c0-26.51 21.49-48 48-48h8c4.42 0 8 3.58 8 8v16zm44.27 104H160c-4.42 0-8-3.58-8-8v-16c0-4.42 3.58-8 8-8h12.27c5.95 0 10.41-3.5 10.41-6.62 0-1.3-.75-2.66-2.12-3.84l-21.89-18.77c-8.47-7.22-13.33-17.48-13.33-28.14 0-21.3 19.02-38.62 42.41-38.62H200c4.42 0 8 3.58 8 8v16c0 4.42-3.58 8-8 8h-12.27c-5.95 0-10.41 3.5-10.41 6.62 0 1.3.75 2.66 2.12 3.84l21.89 18.77c8.47 7.22 13.33 17.48 13.33 28.14.01 21.29-19 38.62-42.39 38.62zM256 264v20.8c0 20.27 5.7 40.17 16 56.88 10.3-16.7 16-36.61 16-56.88V264c0-4.42 3.58-8 8-8h16c4.42 0 8 3.58 8 8v20.8c0 35.48-12.88 68.89-36.28 94.09-3.02 3.25-7.27 5.11-11.72 5.11s-8.7-1.86-11.72-5.11c-23.4-25.2-36.28-58.61-36.28-94.09V264c0-4.42 3.58-8 8-8h16c4.42 0 8 3.58 8 8zm121-159L279.1 7c-4.5-4.5-10.6-7-17-7H256v128h128v-6.1c0-6.3-2.5-12.4-7-16.9z\"></path>\n              </svg>\n                  Export to CSV </a>\n            <a href=\"https://rettertest.upify.io/admin/users?&amp;export=json\" target=\"_blank\"\n               className=\"dropdown-item\">\n              <svg className=\"svg-inline--fa fa-file-code fa-w-12 fa-fw fa-sm mr-1 w-15px\"  aria-hidden=\"true\" focusable=\"false\"\n                   data-prefix=\"fa\" data-icon=\"file-code\" role=\"img\" xmlns=\"http://www.w3.org/2000/svg\"\n                   viewBox=\"0 0 384 512\" data-fa-i2svg=\"\">\n                <path fill=\"currentColor\"\n                      d=\"M384 121.941V128H256V0h6.059c6.365 0 12.47 2.529 16.971 7.029l97.941 97.941A24.005 24.005 0 0 1 384 121.941zM248 160c-13.2 0-24-10.8-24-24V0H24C10.745 0 0 10.745 0 24v464c0 13.255 10.745 24 24 24h336c13.255 0 24-10.745 24-24V160H248zM123.206 400.505a5.4 5.4 0 0 1-7.633.246l-64.866-60.812a5.4 5.4 0 0 1 0-7.879l64.866-60.812a5.4 5.4 0 0 1 7.633.246l19.579 20.885a5.4 5.4 0 0 1-.372 7.747L101.65 336l40.763 35.874a5.4 5.4 0 0 1 .372 7.747l-19.579 20.884zm51.295 50.479l-27.453-7.97a5.402 5.402 0 0 1-3.681-6.692l61.44-211.626a5.402 5.402 0 0 1 6.692-3.681l27.452 7.97a5.4 5.4 0 0 1 3.68 6.692l-61.44 211.626a5.397 5.397 0 0 1-6.69 3.681zm160.792-111.045l-64.866 60.812a5.4 5.4 0 0 1-7.633-.246l-19.58-20.885a5.4 5.4 0 0 1 .372-7.747L284.35 336l-40.763-35.874a5.4 5.4 0 0 1-.372-7.747l19.58-20.885a5.4 5.4 0 0 1 7.633-.246l64.866 60.812a5.4 5.4 0 0 1-.001 7.879z\"></path>\n              </svg>\n                Export to JSON </a>\n          </div>\n        </div>\n``` ",
        "message": "",
        "created": "2021-09-01T15:30:39.132Z",
        "creators": [
          {
            "id": "b0568c88-bb34-4420-969e-41238089a0d4",
            "uniqueName": "google#113467622262670857280",
            "displayName": "Alexander Matviienko",
            "createdAt": "2021-05-10T19:50:11.968Z",
            "updatedAt": "2021-05-10T19:50:31.732Z"
          }
        ]
      }
    },
    {
      "id": "88299bf8-41c5-40b5-9e7b-da5415839bd3",
      "emoji": null,
      "title": "Установка логики",
      "content": "",
      "headId": 1104601,
      "archivedAt": null,
      "folderPathname": "/Заметки",
      "parentFolderId": "f3ab0b81-040b-4fed-ad71-761253447dad",
      "teamId": "nhFMY3a5g",
      "generated": false,
      "createdAt": "2021-09-01T15:07:06.213Z",
      "updatedAt": "2021-09-01T15:18:42.549Z",
      "version": 4,
      "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
      "workspaceId": "309011fd-0b61-4b75-a6fe-a3a711e8a079",
      "head": {
        "id": 1104601,
        "docId": "88299bf8-41c5-40b5-9e7b-da5415839bd3",
        "content": "Работа логики анимации в теме Metronic завязано на взаимодействии обработчиков событий и атрибутов. Подробнее разглянем на примере dropdawn компонента.\n\n``` js\n        <div className='dropdown'>\n          <button\n            type=\"button\"\n            className=\"dev-btn-hover\"\n            data-kt-menu-trigger='click'\n            data-kt-menu-placement='bottom-end'\n            data-kt-menu-flip='top-end'\n            title=\"Export\"\n            aria-expanded=\"false\"\n          >\n            Кнопка\n          </button>\n          <div className=\"dropdown-menu dropdown-menu-right\" data-kt-menu='true' aria-labelledby=\"dropdownMenuButton1\">\n            <a href=\"#\" target=\"_blank\" className=\"dropdown-item\">\n             Export to CSV \n               </a>\n            <a href=\"#\" target=\"_blank\"\n               className=\"dropdown-item\">\n              Export to JSON </a>\n          </div>\n```\n\nСамое интересное здесь в атрибутах \n``` js\n//  Кнопка\n            data-kt-menu-trigger='click'\n            data-kt-menu-placement='bottom-end'\n            data-kt-menu-flip='top-end'\n// Выпадающие меню\n            data-kt-menu='true'\n```\n\nВ других компонентах они могут называться иначе но в общем их можно вычеслить по общему строению. Обрабочики событий вешают на них слушатели и за счет них работает компонент.",
        "message": "",
        "created": "2021-09-01T15:18:42.535Z",
        "creators": [
          {
            "id": "b0568c88-bb34-4420-969e-41238089a0d4",
            "uniqueName": "google#113467622262670857280",
            "displayName": "Alexander Matviienko",
            "createdAt": "2021-05-10T19:50:11.968Z",
            "updatedAt": "2021-05-10T19:50:31.732Z"
          }
        ]
      }
    },
    {
      "id": "c0999241-925f-4f1a-b402-15645407398e",
      "emoji": null,
      "title": "Обработка ошибок в форме",
      "content": "",
      "headId": 1096697,
      "archivedAt": null,
      "folderPathname": "/Заметки",
      "parentFolderId": "f3ab0b81-040b-4fed-ad71-761253447dad",
      "teamId": "nhFMY3a5g",
      "generated": false,
      "createdAt": "2021-08-31T06:34:48.955Z",
      "updatedAt": "2021-08-31T06:37:41.584Z",
      "version": 3,
      "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
      "workspaceId": "309011fd-0b61-4b75-a6fe-a3a711e8a079",
      "head": {
        "id": 1096697,
        "docId": "c0999241-925f-4f1a-b402-15645407398e",
        "content": "В формах есть вывод ошибок от серверв которые по всей видимости устанавливаются в в состояниях. Подробнее будет видно на примере.\n\n``` js\nexport function ForgotPassword() {\n  const [loading, setLoading] = useState(false)\n  // Состояния ошибок\n  const [hasErrors, setHasErrors] = useState<boolean | undefined>(undefined)\n  const formik = useFormik({\n    initialValues,\n    validationSchema: forgotPasswordSchema,\n    onSubmit: (values, {setStatus, setSubmitting}) => {\n      setLoading(true)\n      // \n      setHasErrors(undefined)\n      setTimeout(() => {\n       // Логика для отправки данных с формы\n      }, 1000)\n    },\n  })\n```",
        "message": "",
        "created": "2021-08-31T06:37:41.574Z",
        "creators": [
          {
            "id": "b0568c88-bb34-4420-969e-41238089a0d4",
            "uniqueName": "google#113467622262670857280",
            "displayName": "Alexander Matviienko",
            "createdAt": "2021-05-10T19:50:11.968Z",
            "updatedAt": "2021-05-10T19:50:31.732Z"
          }
        ]
      }
    },
    {
      "id": "dd7d55c1-9f5e-4df9-8acb-34b079f6ba56",
      "emoji": null,
      "title": "Черновик",
      "content": "",
      "headId": 1087178,
      "archivedAt": null,
      "folderPathname": "/",
      "parentFolderId": null,
      "teamId": "nhFMY3a5g",
      "generated": false,
      "createdAt": "2021-08-29T08:26:23.360Z",
      "updatedAt": "2021-08-29T08:36:04.399Z",
      "version": 4,
      "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
      "workspaceId": "4ae225f9-123d-4918-a49f-e0c91bd0b18a",
      "head": {
        "id": 1087178,
        "docId": "dd7d55c1-9f5e-4df9-8acb-34b079f6ba56",
        "content": "``` js\nimport { PageDataProvider, LayoutProvider} from \"../../../metronic/_metronic/layout/core\";\nimport {AsideDefault} from \"../../../metronic/_metronic/layout/components/aside/AsideDefault\";\nimport {HeaderWrapper} from \"../../../metronic/_metronic/layout/components/header/HeaderWrapper\";\nimport {Content} from \"../../../metronic/_metronic/layout/components/Content\";\nimport {ActivityDrawer, DrawerMessenger, InviteUsers, Main, UpgradePlan} from \"../../../metronic/_metronic/partials\";\nimport {ScrollTop} from \"../../../metronic/_metronic/layout/components/ScrollTop\";\nimport {FC, useEffect} from \"react\";\nimport {MasterInit} from \"../../../metronic/_metronic/layout/MasterInit\";\nimport {useGetUser, useRefreshToken} from 'apollo/actions'\nimport {useRouter} from \"next/router\";\n\n\nconst CabinetLayout: FC = ({children}) => {\n  const [sendRefresh, {data, loading, error}] = useRefreshToken()\n  // const {data: user, loading, error} = useGetUser()\n\n  const router = useRouter()\n\n  // if(error && typeof window !== \"undefined\"){\n  useEffect(() => {\n    sendRefresh({variables: {refreshToken: localStorage.getItem('refresh_token')}})\n  }, [])\n\n\n  useEffect(() => {\n    if (data){\n      console.log(data)\n    }\n    if (error){\n      console.log()\n    }\n  }, [data, error])\n  // }\n  // if(tokenError && typeof window !== \"undefined\"){\n  //   router.push('/login')\n  // }\nif(data){\n  console.log('token', data, error)\n}\n\n  // console.log('data', user)\n  useEffect(() => {\n    typeof document !== 'undefined' ? require('bootstrap') : null\n  }, [])\n    return (\n      <LayoutProvider>\n        <PageDataProvider>\n          <div className='page d-flex flex-row flex-column-fluid'>\n            <AsideDefault />\n            <div className='wrapper d-flex flex-column flex-row-fluid' id='kt_wrapper'>\n              <HeaderWrapper />\n\n              <div id='kt_content' className='content d-flex flex-column flex-column-fluid'>\n                {/*<Toolbar />*/}\n                <div className='post d-flex flex-column-fluid' id='kt_post'>\n                  <Content>{children}</Content>\n                </div>\n              </div>\n              {/*<Footer />*/}\n            </div>\n          </div>\n\n          {/* begin:: Drawers */}\n          <ActivityDrawer />\n          {/*<ExploreMain />*/}\n          <DrawerMessenger />\n          {/* end:: Drawers */}\n\n          {/* begin:: Modals */}\n          <Main />\n          <InviteUsers />\n          <UpgradePlan />\n          {/* end:: Modals */}\n\n          <MasterInit />\n          <ScrollTop />\n        </PageDataProvider>\n      </LayoutProvider>\n    )\n}\n\nexport default CabinetLayout\n\n```\n\n``` js\nimport { useRefreshToken} from 'apollo/actions'\nimport {useRouter} from \"next/router\";\nimport {useEffect, useState} from \"react\";\nimport {ApolloError} from \"apollo-client\";\n\nconst useReAuth = (errorRequest: ApolloError | undefined): void => {\n  const [status, setStatus] = useState(false)\n  // Достаем роутер для редиректа на logout\n  const router = useRouter()\n  // Импортируем хук запроса токенов\n  const [sendRefresh, {data, loading, error}] = useRefreshToken()\n  console.log('Token ', data)\n  // Если c запросса данных приходит ошибка, тогда шлем запрос на новые токены\n  if(errorRequest){\n    // Достаем refresh токен из localstorage и отправляем на api\n    sendRefresh({variables: {refreshToken: localStorage.getItem('refresh_token')}})\n  }\n\n  if(data){\n    localStorage.setItem('refresh_token', data.refreshToken.refreshToken)\n    localStorage.setItem('access_token', data.refreshToken.accessToken)\n    console.log('Token ', data)\n    // Меняем статус в состоянии чем вызываем перерисовку компонента и повторный запрос\n    setStatus(true)\n  }\n\n  useEffect(() => {\n    console.log('Token ', data)\n    // Если приходят токены то записываем их в localStorage\n    if(data){\n      localStorage.setItem('refresh_token', data.refreshToken.refreshToken)\n      localStorage.setItem('access_token', data.refreshToken.accessToken)\n      console.log(data)\n      // Меняем статус в состоянии чем вызываем перерисовку компонента и повторный запрос\n      setStatus(true)\n    }\n    // Если приходит ошибка, тогда посылаем пользователя на реавторизацию\n    // if(error){\n    //   router.push('/logout')\n    // }\n  }, [])\n}\n\nexport default useReAuth\n```\n``` js\nimport { useRefreshToken} from 'apollo/actions'\nimport {useRouter} from \"next/router\";\nimport {useEffect, useState} from \"react\";\nimport {ApolloError} from \"apollo-client\";\n\nconst useReAuth = (errorRequest: ApolloError | undefined): void => {\n  const [sendRefresh, {data, loading, error}] = useRefreshToken()\n\n  useEffect(() => {\n    sendRefresh({variables: {refreshToken: localStorage.getItem('refresh_token')}})\n  }, [])\n\n  // useReAuth(true)\n  console.log('Token 2', data)\n}\n\nexport default useReAuth\n```",
        "message": "",
        "created": "2021-08-29T08:36:04.387Z",
        "creators": [
          {
            "id": "b0568c88-bb34-4420-969e-41238089a0d4",
            "uniqueName": "google#113467622262670857280",
            "displayName": "Alexander Matviienko",
            "createdAt": "2021-05-10T19:50:11.968Z",
            "updatedAt": "2021-05-10T19:50:31.732Z"
          }
        ]
      }
    },
    {
      "id": "a64d0c67-2b49-462c-af08-73940fc7c5f7",
      "emoji": null,
      "title": "ApolloQuery in ServerSideProps",
      "content": "",
      "headId": 1084824,
      "archivedAt": null,
      "folderPathname": "/NextJS/Apollo GraphQL",
      "parentFolderId": "8f3d841e-4700-4d3e-bd03-7ddd7d12764f",
      "teamId": "nhFMY3a5g",
      "generated": false,
      "createdAt": "2021-08-28T10:51:40.896Z",
      "updatedAt": "2021-09-28T16:29:03.114Z",
      "version": 3,
      "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
      "workspaceId": "a26b69f4-c521-4719-9766-2da1c713b767",
      "head": {
        "id": 1084824,
        "docId": "a64d0c67-2b49-462c-af08-73940fc7c5f7",
        "content": "``` js\nimport BasePage from \"../src/modules/layout/components/BasePage\";\nimport Dashboard from \"../src/modules/dashboard/components/Dashboard\";\nimport NextHead from \"./_head\";\nimport React from \"react\";\nimport { useTranslation } from \"../src/config/i18n\";\nimport { IS_LOGGED_IN } from \"../src/modules/profile/hooks/useIsLoggedIn\";\nimport { apolloClient } from \"../src/config/withApollo\";\n\nconst Index = () => {\n  const { t } = useTranslation();\n  return (\n    <>\n      <NextHead title={t(\"dashboard.pageTitle\")} />\n      <BasePage title={t(\"dashboard.pageTitle\")}>\n        <Dashboard />\n      </BasePage>\n    </>\n  );\n};\n\nexport default Index;\n\nexport async function getServerSideProps({ req }) {\n  console.log(\"req.cookies\", req.headers.cookie);\n  const data = await apolloClient.query({\n    query: IS_LOGGED_IN,\n    context: {\n      headers: {\n        cookie: req.headers.cookie\n      }\n    }\n  });\n  console.log(data);\n  return {\n    props: {}\n  };\n}\n\n/*\nIndex.getInitialProps = ctx => {\n  const apolloClient = ctx.apolloClient;\n\n  console.log(apolloClient);\n\n  return {\n    props: {}\n  };\n};\n*/\n\n\n\n\n\n\n```",
        "message": "",
        "created": "2021-08-28T10:52:11.048Z",
        "creators": [
          {
            "id": "b0568c88-bb34-4420-969e-41238089a0d4",
            "uniqueName": "google#113467622262670857280",
            "displayName": "Alexander Matviienko",
            "createdAt": "2021-05-10T19:50:11.968Z",
            "updatedAt": "2021-05-10T19:50:31.732Z"
          }
        ]
      }
    },
    {
      "id": "3efc3803-d4bb-4197-a86e-66c0116fcf20",
      "emoji": null,
      "title": "Настройка fetch",
      "content": "",
      "headId": 1084825,
      "archivedAt": null,
      "folderPathname": "/NextJS/Apollo GraphQL/ApolloLink",
      "parentFolderId": "e9485fc8-0925-4b58-9d9d-fa53e795aa0e",
      "teamId": "nhFMY3a5g",
      "generated": false,
      "createdAt": "2021-08-28T08:25:55.668Z",
      "updatedAt": "2021-09-28T16:29:03.114Z",
      "version": 4,
      "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
      "workspaceId": "a26b69f4-c521-4719-9766-2da1c713b767",
      "head": {
        "id": 1084825,
        "docId": "3efc3803-d4bb-4197-a86e-66c0116fcf20",
        "content": "Вы можете предоставить fetch параметр в HttpLink конструктор для того, чтобы многих потребностей пользовательских сетей. Например, вы можете изменить запрос на основе вычисленных заголовков или вычислить URI конечной точки на основе сведений об операции.\n\n# Пример\n## Пользовательская авторизация\n\nВ этом примере Authorization к каждому запросу перед вызовом добавляется настраиваемый заголовок fetch:\n\n``` js\nconst customFetch = (uri, options) => {\n  const { header } = Hawk.client.header(\n    \"http://example.com:8000/resource/1?b=1&a=2\",\n    \"POST\",\n    { credentials: credentials, ext: \"some-app-data\" }\n  );\n  options.headers.Authorization = header;\n  return fetch(uri, options);\n};\n\nconst link = new HttpLink({ fetch: customFetch });\n```\n## Динамический URI\nВ этом примере перед вызовом настраиваются параметры запроса URL-адреса конечной точки fetch:\n``` js\nconst customFetch = (uri, options) => {\n  const { operationName } = JSON.parse(options.body);\n  return fetch(`${uri}/graph/graphql?opname=${operationName}`, options);\n};\n\nconst link = new HttpLink({ fetch: customFetch });\n```",
        "message": "",
        "created": "2021-08-28T10:52:41.591Z",
        "creators": [
          {
            "id": "b0568c88-bb34-4420-969e-41238089a0d4",
            "uniqueName": "google#113467622262670857280",
            "displayName": "Alexander Matviienko",
            "createdAt": "2021-05-10T19:50:11.968Z",
            "updatedAt": "2021-05-10T19:50:31.732Z"
          }
        ]
      }
    },
    {
      "id": "764ea66a-f081-4653-8161-f6a4515ee86f",
      "emoji": null,
      "title": "Обработка ошибок",
      "content": "",
      "headId": 1084529,
      "archivedAt": null,
      "folderPathname": "/NextJS/Apollo GraphQL/ApolloLink",
      "parentFolderId": "e9485fc8-0925-4b58-9d9d-fa53e795aa0e",
      "teamId": "nhFMY3a5g",
      "generated": false,
      "createdAt": "2021-08-28T08:23:38.430Z",
      "updatedAt": "2021-09-28T16:29:03.114Z",
      "version": 3,
      "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
      "workspaceId": "a26b69f4-c521-4719-9766-2da1c713b767",
      "head": {
        "id": 1084529,
        "docId": "764ea66a-f081-4653-8161-f6a4515ee86f",
        "content": "HttpLink различает ошибки клиента, ошибки сервера и ошибки GraphQL. Вы можете добавить onError ссылку в свою цепочку ссылок для обработки этих ошибок с помощью обратного вызова .\n\nМогут возникать следующие типы ошибок:\n\n\n<table ><thead><tr><th><font style=\"vertical-align: inherit;\"><font style=\"vertical-align: inherit;\">Ошибка</font></font></th><th><font style=\"vertical-align: inherit;\"><font style=\"vertical-align: inherit;\">Описание</font></font></th><th style=\"text-align: center;\"><font style=\"vertical-align: inherit;\"><font style=\"vertical-align: inherit;\">Перезвоните</font></font></th><th><font style=\"vertical-align: inherit;\"><font style=\"vertical-align: inherit;\">Тип ошибки</font></font></th></tr></thead><tbody><tr><td><font style=\"vertical-align: inherit;\"><font style=\"vertical-align: inherit;\">Клиентский синтаксический анализ</font></font></td><td><font style=\"vertical-align: inherit;\"><font style=\"vertical-align: inherit;\">Тело запроса не сериализуемо, например, из-за циклической ссылки.</font></font></td><td style=\"text-align: center;\"><code class=\"language-text\">error</code></td><td><code class=\"language-text\">ClientParseError</code></td></tr><tr><td><font style=\"vertical-align: inherit;\"><font style=\"vertical-align: inherit;\">Серверный синтаксический анализ</font></font></td><td><font style=\"vertical-align: inherit;\"><font style=\"vertical-align: inherit;\">Ответ сервера не может быть проанализирован ( </font></font><a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Body/json\" target=\"_blank\" rel=\"noopener noreferrer\"><font style=\"vertical-align: inherit;\"><font style=\"vertical-align: inherit;\">response.json ()</font></font></a><font style=\"vertical-align: inherit;\"><font style=\"vertical-align: inherit;\"> )</font></font></td><td style=\"text-align: center;\"><code class=\"language-text\">error</code></td><td><code class=\"language-text\">ServerParseError</code></td></tr><tr><td><font style=\"vertical-align: inherit;\"><font style=\"vertical-align: inherit;\">Серверная сеть</font></font></td><td><font style=\"vertical-align: inherit;\"><font style=\"vertical-align: inherit;\">Сервер ответил HTTP-кодом, отличным от 2xx.</font></font></td><td style=\"text-align: center;\"><code class=\"language-text\">error</code></td><td><code class=\"language-text\">ServerError</code></td></tr><tr><td><font style=\"vertical-align: inherit;\"><font style=\"vertical-align: inherit;\">Данные сервера</font></font></td><td><font style=\"vertical-align: inherit;\"><font style=\"vertical-align: inherit;\">Ответ сервера не содержал </font></font><code class=\"language-text\">data</code><font style=\"vertical-align: inherit;\"><font style=\"vertical-align: inherit;\">или </font></font><code class=\"language-text\">errors</code><font style=\"vertical-align: inherit;\"><font style=\"vertical-align: inherit;\">.</font></font></td><td style=\"text-align: center;\"><code class=\"language-text\">error</code></td><td><code class=\"language-text\">ServerError</code></td></tr><tr><td><font style=\"vertical-align: inherit;\"><font style=\"vertical-align: inherit;\">Ошибка GraphQL</font></font></td><td><font style=\"vertical-align: inherit;\"><font style=\"vertical-align: inherit;\">Разрешение операции GraphQL привело по крайней мере к одной ошибке, которая присутствует в </font></font><code class=\"language-text\">errors</code><font style=\"vertical-align: inherit;\"><font style=\"vertical-align: inherit;\">поле.</font></font></td><td style=\"text-align: center;\"><code class=\"language-text\">next</code></td><td><code class=\"language-text\">Object</code></td></tr></tbody></table>\n\nПоскольку многие реализации сервера могут возвращать допустимый результат GraphQL при сетевой ошибке сервера, брошенный Errorобъект содержит проанализированный результат сервера. Ошибка данных сервера также получает проанализированный результат.\n\nВсе типы ошибок наследуют name, messageи NULLABLE stackсвойства от общего яваскрипта ошибки :",
        "message": "",
        "created": "2021-08-28T08:25:47.703Z",
        "creators": [
          {
            "id": "b0568c88-bb34-4420-969e-41238089a0d4",
            "uniqueName": "google#113467622262670857280",
            "displayName": "Alexander Matviienko",
            "createdAt": "2021-05-10T19:50:11.968Z",
            "updatedAt": "2021-05-10T19:50:31.732Z"
          }
        ]
      }
    },
    {
      "id": "83e3d14d-1386-4bd6-88a5-8c3777834660",
      "emoji": null,
      "title": "Результат операции",
      "content": "",
      "headId": 1084520,
      "archivedAt": null,
      "folderPathname": "/NextJS/Apollo GraphQL/ApolloLink",
      "parentFolderId": "e9485fc8-0925-4b58-9d9d-fa53e795aa0e",
      "teamId": "nhFMY3a5g",
      "generated": false,
      "createdAt": "2021-08-28T08:22:52.232Z",
      "updatedAt": "2021-09-28T16:29:03.114Z",
      "version": 3,
      "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
      "workspaceId": "a26b69f4-c521-4719-9766-2da1c713b767",
      "head": {
        "id": 1084520,
        "docId": "83e3d14d-1386-4bd6-88a5-8c3777834660",
        "content": "После того, как конечная точка GraphQL (успешно) ответит результатом отправленной операции, HttpLinkу станавливает его как response поле операции context. Это позволяет каждой предыдущей ссылке в вашей цепочке ссылок взаимодействовать с ответом до его возврата.",
        "message": "",
        "created": "2021-08-28T08:23:40.120Z",
        "creators": [
          {
            "id": "b0568c88-bb34-4420-969e-41238089a0d4",
            "uniqueName": "google#113467622262670857280",
            "displayName": "Alexander Matviienko",
            "createdAt": "2021-05-10T19:50:11.968Z",
            "updatedAt": "2021-05-10T19:50:31.732Z"
          }
        ]
      }
    },
    {
      "id": "d0db1337-6f90-4763-b199-86541a3bb82e",
      "emoji": null,
      "title": "Параметры контекста",
      "content": "",
      "headId": 1084517,
      "archivedAt": null,
      "folderPathname": "/NextJS/Apollo GraphQL/ApolloLink",
      "parentFolderId": "e9485fc8-0925-4b58-9d9d-fa53e795aa0e",
      "teamId": "nhFMY3a5g",
      "generated": false,
      "createdAt": "2021-08-28T08:18:31.671Z",
      "updatedAt": "2021-09-28T16:29:03.114Z",
      "version": 4,
      "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
      "workspaceId": "a26b69f4-c521-4719-9766-2da1c713b767",
      "head": {
        "id": 1084517,
        "docId": "d0db1337-6f90-4763-b199-86541a3bb82e",
        "content": "# Параметры контекста\nHttpLinkпроверяет текущую операцию наcontext наличие определенных значений перед отправкой запроса в конечную точку GraphQL. Предыдущие ссылки в цепочке ссылок могут устанавливать эти значения, чтобы настроить поведение HttpLinkдля каждой операции.\n\n> Некоторые из этих значений также могут быть предоставлены в качестве опции к в HttpLinkконструкторе . Если значение предоставлено обоим, значение contextимеет приоритет.\n\n 1. uri - URL-адрес конечной точки GraphQL для отправки запросов. Также может быть функцией, которая принимает Operationобъект и возвращает строковый URL-адрес для использования в этой операции.\n\n2. headers - Объект, представляющий заголовки для включения в HTTP-запрос, например {Authentication: 'Bearer abc123'}.\n3. credentials - Политика учетных данных, используемая для этого fetchвызова. Может быть omit, includeили same-origin.\n4. fetchOptions - Объект, содержащий параметры, используемые для этого вызова fetch. Если конкретная опция не включена в этот объект, используется значение этой опции по умолчанию.\n5. http - Объект, который настраивает расширенные HttpLinkфункции, например поддержку постоянных запросов. Опции перечислены в http полях опций .\n\n\n## http поля опций\n1. includeExtensions - Если true, включает extensionsполе в операции, отправленные в конечную точку GraphQL. Значение по умолчанию - false.\n2. includeQuery - Если falseстрока запроса GraphQL не включена в запрос. Установите этот параметр, если вы отправляете запрос, в котором используется постоянный запрос. Значение по умолчанию - true.",
        "message": "",
        "created": "2021-08-28T08:22:53.724Z",
        "creators": [
          {
            "id": "b0568c88-bb34-4420-969e-41238089a0d4",
            "uniqueName": "google#113467622262670857280",
            "displayName": "Alexander Matviienko",
            "createdAt": "2021-05-10T19:50:11.968Z",
            "updatedAt": "2021-05-10T19:50:31.732Z"
          }
        ]
      }
    },
    {
      "id": "2dbd8fcf-8b81-4ad8-b0b8-b3defd03ea00",
      "emoji": null,
      "title": "Управление контекстом",
      "content": "",
      "headId": 1084493,
      "archivedAt": null,
      "folderPathname": "/NextJS/Apollo GraphQL/ApolloLink",
      "parentFolderId": "e9485fc8-0925-4b58-9d9d-fa53e795aa0e",
      "teamId": "nhFMY3a5g",
      "generated": false,
      "createdAt": "2021-08-28T08:15:05.558Z",
      "updatedAt": "2021-09-28T16:29:03.114Z",
      "version": 4,
      "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
      "workspaceId": "a26b69f4-c521-4719-9766-2da1c713b767",
      "head": {
        "id": 1084493,
        "docId": "2dbd8fcf-8b81-4ad8-b0b8-b3defd03ea00",
        "content": "По мере того, как операция перемещается по вашей цепочке ссылок, она поддерживает то, contextчто каждая ссылка может читать и изменять. Это позволяет ссылкам передавать по цепочке метаданные, которые другие ссылки используют в своей логике выполнения.\n\n- Получите текущий объект контекста, вызвав ```operation.getContext()```.\n- Измените объект контекста, а затем запишите его с помощью ```operation.setContext(newContext)или operation.setContext((prevContext) => newContext)```.\n\nОбратите внимание, что этот контекст не включен в запрос конечной ссылки на сервер GraphQL или другое место назначения.\n\n``` js\nimport { ApolloLink, from } from '@apollo/client';\n\nconst timeStartLink = new ApolloLink((operation, forward) => {\n  operation.setContext({ start: new Date() });\n  return forward(operation);\n});\n\nconst logTimeLink = new ApolloLink((operation, forward) => {\n  return forward(operation).map((data) => {\n    // data from a previous link\n    const time = new Date() - operation.getContext().start;\n    console.log(`operation ${operation.operationName} took ${time} to complete`);\n    return data;\n  })\n});\n\nconst additiveLink = from([\n  timeStartLink,\n  logTimeLink\n]);\n```\n\nВ этом примере определяются две ссылки timeStartLinkи logTimeLink. timeStartLink Присваивает текущее время данного контекста start поля. Когда операция завершается, logTimeLink затем вычитается значение start из текущего времени, чтобы определить общую продолжительность операции.\n\nВы можете установить начальное значение объекта контекста для конкретной операции, указав context параметр для useQuery ловушки (или useMutation, useSubscriptionи т. Д.).",
        "message": "",
        "created": "2021-08-28T08:17:48.071Z",
        "creators": [
          {
            "id": "b0568c88-bb34-4420-969e-41238089a0d4",
            "uniqueName": "google#113467622262670857280",
            "displayName": "Alexander Matviienko",
            "createdAt": "2021-05-10T19:50:11.968Z",
            "updatedAt": "2021-05-10T19:50:31.732Z"
          }
        ]
      }
    },
    {
      "id": "38ffea81-3011-4441-8da2-ff7f6b4bfec0",
      "emoji": null,
      "title": "HTTP Link",
      "content": "",
      "headId": 1084498,
      "archivedAt": null,
      "folderPathname": "/NextJS/Apollo GraphQL/ApolloLink",
      "parentFolderId": "e9485fc8-0925-4b58-9d9d-fa53e795aa0e",
      "teamId": "nhFMY3a5g",
      "generated": false,
      "createdAt": "2021-08-28T08:05:40.172Z",
      "updatedAt": "2021-09-28T16:29:03.114Z",
      "version": 4,
      "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
      "workspaceId": "a26b69f4-c521-4719-9766-2da1c713b767",
      "head": {
        "id": 1084498,
        "docId": "38ffea81-3011-4441-8da2-ff7f6b4bfec0",
        "content": "HttpLink- это завершающая ссылка, которая отправляет операцию GraphQL удаленной конечной точке через HTTP. Клиент Apollo использует HttpLink по умолчанию, когда вы предоставляете uri параметр ApolloClient конструктору.\n\nHttpLink поддерживает запросы POST и GET, и вы можете настраивать параметры HTTP для каждой операции. Вы можете использовать эти параметры для аутентификации, постоянных запросов, динамических URI и других подробных обновлений.\n\n# Использование\nИмпортируйте HttpLink класс и инициализируйте ссылку следующим образом:\n``` js\nimport { HttpLink } from '@apollo/client';\n\nconst link = new HttpLink({\n  uri: \"http://localhost:4000/graphql\"\n  // Additional options\n});\n```\n\n# HttpLink параметры конструктора\n\nHttpLink Конструктор принимает объект параметров, который может включать в себя поля ниже. Обратите внимание, что вы также можете переопределить некоторые из этих параметров для каждой операции, используя контекст операции.\n\n1. uri - Тут указываем адресс куда будем слать graphql запросы\n\n2. includeExtensions - Если true, включает extensions поле в операции, отправленные в конечную точку GraphQL. Значение по умолчанию - false. (я так понимаю эта штука отвечает за возможность передач куков)\n\n3. fetch - По сути класический fetch.\n4. fetchOptions - Объект, содержащий параметры для использования при каждом вызове fetch. Если конкретная опция не включена в этот объект, используется значение этой опции по умолчанию. Обратите внимание , что если вы установите fetchOptions.method на GET, HttpLink следует стандартный GraphQL HTTP GET кодирование.\n5. useGETForQueries - Если true, ссылка использует HTTP-запрос GET при отправке операций запроса в конечную точку GraphQL. Операции мутации продолжают использовать POSTзапросы. Если вы хотите, чтобы все операции использовали GETзапросы, установите fetchOptions.method вместо этого.\nЗначение по умолчанию - false.\n\n",
        "message": "",
        "created": "2021-08-28T08:18:34.204Z",
        "creators": [
          {
            "id": "b0568c88-bb34-4420-969e-41238089a0d4",
            "uniqueName": "google#113467622262670857280",
            "displayName": "Alexander Matviienko",
            "createdAt": "2021-05-10T19:50:11.968Z",
            "updatedAt": "2021-05-10T19:50:31.732Z"
          }
        ]
      }
    },
    {
      "id": "fe8bf672-2a79-48c0-8b29-4bf3ab82cfcc",
      "emoji": null,
      "title": "Составление звеньев цепи",
      "content": "",
      "headId": 1084418,
      "archivedAt": null,
      "folderPathname": "/NextJS/Apollo GraphQL/ApolloLink",
      "parentFolderId": "e9485fc8-0925-4b58-9d9d-fa53e795aa0e",
      "teamId": "nhFMY3a5g",
      "generated": false,
      "createdAt": "2021-08-28T07:35:53.807Z",
      "updatedAt": "2021-09-28T16:29:03.114Z",
      "version": 8,
      "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
      "workspaceId": "a26b69f4-c521-4719-9766-2da1c713b767",
      "head": {
        "id": 1084418,
        "docId": "fe8bf672-2a79-48c0-8b29-4bf3ab82cfcc",
        "content": "Каждая ссылка представляет собой либо автономную модификацию операции GraphQL, либо побочный эффект (например, ведение журнала). Составив эти ссылки в цепочку, вы можете создать произвольно сложную модель для потока данных вашего клиента.\n\nСуществует две формы компоновки звеньев: аддитивная и направленная.\n\n- Аддаптивная композиция предполагает объединение набора звеньев в последовательно выполняемую цепочку:\n![2021-08-28_10-36.png](https://boostnote.io/api/teams/nhFMY3a5g/files/e10acb263f94def57a89a7aaef3a205a7224bbe9354202e900b8ec56c8c1b871-2021-08-28_10-36.png)\n\n- Направленная композиция предполагает переход к одной из двух ссылок, в зависимости от деталей операции:\n![2021-08-28_10-37.png](https://boostnote.io/api/teams/nhFMY3a5g/files/989c4c6bf7e1f398ee157d03582e389bcf90d03d8d878c4297cb036d156dea4f-2021-08-28_10-37.png)\n\nОбратите внимание, что независимо от того, как ваша цепочка разветвляется, каждая ветвь всегда заканчивается завершающим звеном.\n\n# Аддитивный состав\n\nЕсли у вас есть набор из двух или более ссылок, которые всегда должны выполняться в последовательном порядке, используйте ApolloLink.from вспомогательный метод, чтобы объединить эти ссылки в одну ссылку, например:\n\n``` js\nimport { from, HttpLink } from '@apollo/client';\nimport { RetryLink } from '@apollo/client/link/retry';\nimport MyAuthLink from '../auth';\n// Кароче вот так мы создаем сценарий из ссылок\nconst additiveLink = from([\n  new RetryLink(),\n  new MyAuthLink(),\n  new HttpLink({ uri: 'http://localhost:4000/graphql' })\n]);\n```\n\n# Направленная композиция\nВозможно, вы захотите, чтобы выполнение вашей цепочки ссылок было ветвлением, в зависимости от деталей выполняемой операции. Вы можете определить эту логику с помощью split метода ApolloLink экземпляра (для не русских у ссылок есть метод split котрый помогает орпеделить сценарий в зависимости от контекста к примеру). Этот метод принимает три параметра:\n1. test - Функция, которая принимает текущий Operation и возвращает либо, true либо в false зависимости от его деталей.\n2. left - Ссылка для следующего выполнения, если test функция вернется true.\n3. rigth - Опциональный ссылку , чтобы выполнить следующий если test функция возвращает false. Если это не предусмотрено, используется forward параметр обработчика запроса .\n\nВ следующем примере a RetryLink передает выполнение одному из двух разных HttpLinks в зависимости от связанного контекста version:\n\n``` js\nimport { ApolloLink, HttpLink } from '@apollo/client';\nimport { RetryLink } from '@apollo/client/link/retry';\n\nconst directionalLink = new RetryLink().split(\n  (operation) => operation.getContext().version === 1,\n  new HttpLink({ uri: \"http://localhost:4000/v1/graphql\" }),\n  new HttpLink({ uri: \"http://localhost:4000/v2/graphql\" })\n);\n```\n\n# Предоставление клиенту Apollo\n\nПосле того, как вы закончите составлять всю цепочку ссылок, вы передаете полученную ссылку конструктору ApolloClient, например:\n\n``` js\nimport { ApolloClient, HttpLink, InMemoryCache } from '@apollo/client';\nimport { RetryLink } from '@apollo/client/link/retry';\n\nconst directionalLink = new RetryLink().split(\n  (operation) => operation.getContext().version === 1,\n  new HttpLink({ uri: \"http://localhost:4000/v1/graphql\" }),\n  new HttpLink({ uri: \"http://localhost:4000/v2/graphql\" })\n);\n\nconst client = new ApolloClient({\n  cache: new InMemoryCache(),\n  link: directionalLink\n});\n```\n",
        "message": "",
        "created": "2021-08-28T07:50:41.149Z",
        "creators": [
          {
            "id": "b0568c88-bb34-4420-969e-41238089a0d4",
            "uniqueName": "google#113467622262670857280",
            "displayName": "Alexander Matviienko",
            "createdAt": "2021-05-10T19:50:11.968Z",
            "updatedAt": "2021-05-10T19:50:31.732Z"
          }
        ]
      }
    },
    {
      "id": "05bf3b69-7b48-4624-ac5f-94b92c9b6620",
      "emoji": null,
      "title": "Обработка ответа",
      "content": "",
      "headId": 1084347,
      "archivedAt": null,
      "folderPathname": "/NextJS/Apollo GraphQL/ApolloLink",
      "parentFolderId": "e9485fc8-0925-4b58-9d9d-fa53e795aa0e",
      "teamId": "nhFMY3a5g",
      "generated": false,
      "createdAt": "2021-08-28T07:28:48.451Z",
      "updatedAt": "2021-09-28T16:29:03.114Z",
      "version": 5,
      "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
      "workspaceId": "a26b69f4-c521-4719-9766-2da1c713b767",
      "head": {
        "id": 1084347,
        "docId": "05bf3b69-7b48-4624-ac5f-94b92c9b6620",
        "content": "Когда ваш сервер GraphQL отвечает результатом операции, этот результат передается обратно через каждую ссылку в вашей цепочке ссылок, прежде чем он будет кэширован.\n\nКаждая ссылка может выполнять логику, пока результат передается обратно, изменяя оператор своего обработчика запросов return, например:\n\n``` js\n// ДО (БЕЗ ВЗАИМОДЕЙСТВИЯ)\nreturn forward(operation);\n\n// ПОСЛЕ\nreturn forward(operation).map((data) => {\n  // ... измените результат по желанию здесь ...\n  return data;\n});\n```\n\nНезависимо от того, что функция mapвозвращает, передается следующему звену в цепочке.\n\nВы также можете выполнить здесь логику, которая не имеет ничего общего с результатом. Этот обработчик запроса использует контекст запроса для оценки времени приема-передачи для каждой операции:\n\n``` js\nimport { ApolloLink } from '@apollo/client';\n// Объявляем ссылку\nconst roundTripLink = new ApolloLink((operation, forward) => {\n  // Вызывается перед отправкой операции на сервер, и устанавливаем время начала\n  operation.setContext({ start: new Date() });\n\n  return forward(operation).map((data) => {\n    // Вызывается после ответа сервера получается контекст и тут работает\n    const time = new Date() - operation.getContext().start;\n    console.log(`Operation ${operation.operationName} took ${time} to complete`);\n    return data;\n  });\n});\n```",
        "message": "",
        "created": "2021-08-28T07:35:46.228Z",
        "creators": [
          {
            "id": "b0568c88-bb34-4420-969e-41238089a0d4",
            "uniqueName": "google#113467622262670857280",
            "displayName": "Alexander Matviienko",
            "createdAt": "2021-05-10T19:50:11.968Z",
            "updatedAt": "2021-05-10T19:50:31.732Z"
          }
        ]
      }
    },
    {
      "id": "c30ecdde-6aa5-415c-94e4-3e1511ff49ec",
      "emoji": null,
      "title": "forward функция",
      "content": "",
      "headId": 1084306,
      "archivedAt": null,
      "folderPathname": "/NextJS/Apollo GraphQL/ApolloLink",
      "parentFolderId": "e9485fc8-0925-4b58-9d9d-fa53e795aa0e",
      "teamId": "nhFMY3a5g",
      "generated": false,
      "createdAt": "2021-08-28T07:25:19.996Z",
      "updatedAt": "2021-09-28T16:29:03.114Z",
      "version": 3,
      "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
      "workspaceId": "a26b69f4-c521-4719-9766-2da1c713b767",
      "head": {
        "id": 1084306,
        "docId": "c30ecdde-6aa5-415c-94e4-3e1511ff49ec",
        "content": "Когда обработчик запроса вашей настраиваемой ссылки завершит выполнение своей логики, он должен вернуть вызов forward функции, которая ему передана (если только это не завершающая ссылка цепочки ). Вызов return forward(operation)передает выполнение следующему звену в цепочке.\n\nЕсли обработчик запроса настраиваемой ссылки не return forward(operation) завершается, цепочка ссылок завершается и связанная операция GraphQL не выполняется.\n\nТип forward возвращаемого значения функции Observable предоставляется zen-observable библиотекой. \n\n",
        "message": "",
        "created": "2021-08-28T07:26:22.868Z",
        "creators": [
          {
            "id": "b0568c88-bb34-4420-969e-41238089a0d4",
            "uniqueName": "google#113467622262670857280",
            "displayName": "Alexander Matviienko",
            "createdAt": "2021-05-10T19:50:11.968Z",
            "updatedAt": "2021-05-10T19:50:31.732Z"
          }
        ]
      }
    },
    {
      "id": "68a68331-933b-4b82-b036-936b793ace38",
      "emoji": null,
      "title": "Operation объект",
      "content": "",
      "headId": 1084302,
      "archivedAt": null,
      "folderPathname": "/NextJS/Apollo GraphQL/ApolloLink",
      "parentFolderId": "e9485fc8-0925-4b58-9d9d-fa53e795aa0e",
      "teamId": "nhFMY3a5g",
      "generated": false,
      "createdAt": "2021-08-28T07:19:48.813Z",
      "updatedAt": "2021-09-28T16:29:03.114Z",
      "version": 3,
      "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
      "workspaceId": "a26b69f4-c521-4719-9766-2da1c713b767",
      "head": {
        "id": 1084302,
        "docId": "68a68331-933b-4b82-b036-936b793ace38",
        "content": "Operation Объект включает в себя следующие поля:\n\n1. query - \tDocumentNode(Разобраны операция GraphQL), которая описывает операции происходит. Кароче запрос GraphQL\n2. variables - \tКарта переменных GraphQL, отправляемых с операцией. (переменные которые пихаем в запрос)\n3. operationName - Строковое имя запроса, если он назван, в противном случае null. (я так подозреваю что тут можно задать имя запроса)\n4. extensions - Карта для хранения данных расширений, которые будут отправлены на сервер.\n5. getContext - Функция, возвращающая контекст запроса. Этот контекст может использоваться ссылками для определения действий, которые нужно выполнить.\n(Получаем то что запихавли в контекст в предыдущей ссылке)\n7. setContext - Функция, которая принимает новый объект контекста или функцию, которая принимает предыдущий контекст и возвращает новый. (Пихаем сюда то что следует использовать в следующих ссылках)",
        "message": "",
        "created": "2021-08-28T07:24:49.436Z",
        "creators": [
          {
            "id": "b0568c88-bb34-4420-969e-41238089a0d4",
            "uniqueName": "google#113467622262670857280",
            "displayName": "Alexander Matviienko",
            "createdAt": "2021-05-10T19:50:11.968Z",
            "updatedAt": "2021-05-10T19:50:31.732Z"
          }
        ]
      }
    },
    {
      "id": "744b9630-713d-4bbf-8f79-d43412018de2",
      "emoji": null,
      "title": "Кеширование запросов",
      "content": "",
      "headId": 1084271,
      "archivedAt": null,
      "folderPathname": "/NextJS/Apollo GraphQL/ApolloLink",
      "parentFolderId": "e9485fc8-0925-4b58-9d9d-fa53e795aa0e",
      "teamId": "nhFMY3a5g",
      "generated": false,
      "createdAt": "2021-08-28T07:10:16.399Z",
      "updatedAt": "2021-09-28T16:29:03.114Z",
      "version": 5,
      "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
      "workspaceId": "a26b69f4-c521-4719-9766-2da1c713b767",
      "head": {
        "id": 1084271,
        "docId": "744b9630-713d-4bbf-8f79-d43412018de2",
        "content": "\nОбычно асинхронные действия могут быть дорогостоящими, и их не нужно вызывать для каждого запроса, особенно когда одновременно выполняется много запросов. Вы можете настроить собственное кеширование и аннулирование вне ссылки, чтобы сделать его быстрее, но при этом гибким.\n\nВозьмем, к примеру, обнаружение, кэширование и удаление токена авторизации пользователя в ответе 401:\n``` js\nimport { setContext } from \"@apollo/client/link/context\";\nimport { onError } from \"@apollo/client/link/error\";\n\n// кешированное хранилище для токена пользователя\nlet token;\nconst withToken = setContext(() => {\n  // если у вас есть кешированное значение, немедленно верните его\n  if (token) return { token };\n  // Иначе получаем этот токен с поморщью асинхронного запроса\n  return AsyncTokenLookup().then(userToken => {\n    token = userToken;\n    return { token };\n  });\n});\n\n// Обработчик ошибки ответа\nconst resetToken = onError(({ networkError }) => {\n  // Если ответ 401\n  if (\n    networkError &&\n    networkError.name ==='ServerError' &&\n    networkError.statusCode === 401\n  ) {\n    // удали токен из кеша\n    token = null;\n  }\n});\n// Создаем ссылку конкатенируя два метода\nconst authFlowLink = withToken.concat(resetToken);\n```",
        "message": "",
        "created": "2021-08-28T07:15:11.524Z",
        "creators": [
          {
            "id": "b0568c88-bb34-4420-969e-41238089a0d4",
            "uniqueName": "google#113467622262670857280",
            "displayName": "Alexander Matviienko",
            "createdAt": "2021-05-10T19:50:11.968Z",
            "updatedAt": "2021-05-10T19:50:31.732Z"
          }
        ]
      }
    },
    {
      "id": "2374b780-10d3-4dff-bd0c-595d6d951b6b",
      "emoji": null,
      "title": "Контекст ссылки",
      "content": "",
      "headId": 1084251,
      "archivedAt": null,
      "folderPathname": "/NextJS/Apollo GraphQL/ApolloLink",
      "parentFolderId": "e9485fc8-0925-4b58-9d9d-fa53e795aa0e",
      "teamId": "nhFMY3a5g",
      "generated": false,
      "createdAt": "2021-08-28T07:00:55.360Z",
      "updatedAt": "2021-09-28T16:29:03.114Z",
      "version": 7,
      "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
      "workspaceId": "a26b69f4-c521-4719-9766-2da1c713b767",
      "head": {
        "id": 1084251,
        "docId": "2374b780-10d3-4dff-bd0c-595d6d951b6b",
        "content": "Установка контекста ссылки позволяет использовать данные из контекста следующими звеньями по цепочке ссылок.\n\n# Обзор\n\n__setContext__ Функция принимает функцию, которая возвращает либо объект, либо обещание, которое затем возвращает объект, чтобы установить новый контекст запроса. Он получает два аргумента: выполняемый запрос GraphQL и предыдущий контекст. Эта ссылка позволяет легко выполнять асинхронный поиск таких вещей, как токены аутентификации и многое другое.\n\n``` js\nimport { setContext } from \"@apollo/client/link/context\";\n\n// Установка контекста который возвращает объект\n// То есть мы просто вызываем callBack который возвращает объект \nconst setAuthorizationLink = setContext((request, previousContext) => ({\n  headers: {authorization: \"1234\"}\n}));\n\n// Установка контекста который возвращает промис\nconst asyncAuthLink = setContext(\n  request =>\n    new Promise((success, fail) => {\n      // выполните здесь асинхронный поиск\n      setTimeout(() => {\n        success({ token: \"async found token\" });\n      }, 10);\n    })\n);\n```",
        "message": "",
        "created": "2021-08-28T07:10:29.522Z",
        "creators": [
          {
            "id": "b0568c88-bb34-4420-969e-41238089a0d4",
            "uniqueName": "google#113467622262670857280",
            "displayName": "Alexander Matviienko",
            "createdAt": "2021-05-10T19:50:11.968Z",
            "updatedAt": "2021-05-10T19:50:31.732Z"
          }
        ]
      }
    },
    {
      "id": "091e02ab-2d7a-4578-a7a4-504f25f3d62d",
      "emoji": null,
      "title": "Создание кастомных ссылок",
      "content": "",
      "headId": 1084313,
      "archivedAt": null,
      "folderPathname": "/NextJS/Apollo GraphQL/ApolloLink",
      "parentFolderId": "e9485fc8-0925-4b58-9d9d-fa53e795aa0e",
      "teamId": "nhFMY3a5g",
      "generated": false,
      "createdAt": "2021-08-28T06:53:44.717Z",
      "updatedAt": "2021-09-28T16:29:03.114Z",
      "version": 7,
      "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
      "workspaceId": "a26b69f4-c521-4719-9766-2da1c713b767",
      "head": {
        "id": 1084313,
        "docId": "091e02ab-2d7a-4578-a7a4-504f25f3d62d",
        "content": "Объект Link - это экземпляр ApolloLink класса (или его подкласс). Каждая ссылка должна определять именованный метод __request__, который известен как обработчик запроса ссылки. Вы можете предоставить ApolloLink конструктору определение этого метода.\n\n### Пример\n\nСледующая настраиваемая ссылка определяет обработчик запроса, который добавляет приблизительное время начала операции GraphQL в контекст операции:\n\n``` js\nimport { ApolloLink } from '@apollo/client';\n\nconst timeStartLink = new ApolloLink((operation, forward) => {\n  // Добавляем в контекст объект с нынешней даты (она же дата начала)\n  operation.setContext({ start: new Date() });\n  // Передаем это дело следующей ссылке\n  return forward(operation);\n});\n```\n\nЗатем этот обработчик запроса вызывает ```return forward(operation)```, что является синтаксисом для вызова следующей ссылки в цепочке.\n\n## Обработчик запроса\n\nКаждая ссылка должна определять request метод, также известный как обработчик запросов. Этому методу передаются следующие аргументы:\n\n- operation: Операция GraphQL, передаваемая по ссылке. \n- forward: Функция для выполнения следующего звена в цепочке (если это не завершающее звено).\n\nКаждый раз, когда Apollo Client готовится к выполнению операции GraphQL, он вызывает обработчик запроса первого звена в цепочке. Каждая ссылка отвечает за выполнение своей логики и затем передает выполнение следующей ссылке, вызывая forward функцию и возвращая ее результат.",
        "message": "",
        "created": "2021-08-28T07:28:38.725Z",
        "creators": [
          {
            "id": "b0568c88-bb34-4420-969e-41238089a0d4",
            "uniqueName": "google#113467622262670857280",
            "displayName": "Alexander Matviienko",
            "createdAt": "2021-05-10T19:50:11.968Z",
            "updatedAt": "2021-05-10T19:50:31.732Z"
          }
        ]
      }
    },
    {
      "id": "e013ee0a-cc46-4d16-853f-31a1449346cd",
      "emoji": null,
      "title": "Apollo Link overview",
      "content": "",
      "headId": 1084215,
      "archivedAt": null,
      "folderPathname": "/NextJS/Apollo GraphQL/ApolloLink",
      "parentFolderId": "e9485fc8-0925-4b58-9d9d-fa53e795aa0e",
      "teamId": "nhFMY3a5g",
      "generated": false,
      "createdAt": "2021-08-28T06:40:48.305Z",
      "updatedAt": "2021-09-28T16:29:03.114Z",
      "version": 8,
      "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
      "workspaceId": "a26b69f4-c521-4719-9766-2da1c713b767",
      "head": {
        "id": 1084215,
        "docId": "e013ee0a-cc46-4d16-853f-31a1449346cd",
        "content": "# Настроить поток данных клиента Apollo\n\nБиблиотека Apollo Link помогает вам настроить поток данных между Apollo Client и вашим сервером GraphQL. Вы можете определить сетевое поведение вашего клиента как цепочку объектов __Link__, которые выполняются в последовательности:\n![2021-08-28_09-42.png](https://boostnote.io/api/teams/nhFMY3a5g/files/ec682f38932bba512e42b6157d827fcdf7bc58017752443ee47d47dbcca2da9b-2021-08-28_09-42.png)\n\nКаждая ссылка должна представлять собой либо автономную модификацию операции GraphQL, либо побочный эффект (например, ведение журнала).\n\nНа диаграмме выше:\n\n1. Первая ссылка может регистрировать детали операции для целей отладки.\n2. Вторая ссылка может добавлять заголовок HTTP к исходящему запросу операции для проверки подлинности.\n3. Последняя (завершающая) ссылка отправляет операцию по назначению (обычно на сервер GraphQL через HTTP).\n4. Ответ сервера передается по каждой ссылке в обратном порядке, что позволяет ссылкам изменять ответ или предпринимать другие действия до кэширования данных.\n(По идее в этот момент я могу отловить момент когда мне приходит ответ с невалидным токеном и отправить запрос на его обновление)\n\nПо умолчанию Apollo Client использует Apollo Link HttpLinkдля отправки операций GraphQL на удаленный сервер через HTTP. Apollo Client позаботится о создании этой ссылки по умолчанию, и она охватывает многие варианты использования, не требуя дополнительной настройки.\n\nЧтобы расширить или заменить это сетевое поведение по умолчанию, вы можете определить пользовательские ссылки и указать порядок их выполнения в ApolloClientконструкторе.\n\n## Ваша первая цепочка ссылок\n\nВ приведенном ниже примере демонстрируется базовая цепочка ссылок с двумя ссылками, предоставленными Apollo:\n - onError Ссылка , которая проверяет наличие ошибок в ответ сервера. Он регистрирует подробную информацию о найденных ошибках.\n - Объект, HttpLinkкоторый отправляет каждую операцию GraphQL на ваш сервер.\n   - Это конечное звено цепи.\n\n> Конечное звено цепи, это Link который отвечает за отправку непосредственно на graphql сервер. \nHttpLinkи BatchHttpLink оба являются примерами завершающих ссылок.\n\n``` js\nimport { ApolloClient, InMemoryCache, HttpLink, from } from \"@apollo/client\";\nimport { onError } from \"@apollo/client/link/error\";\n\n\nconst httpLink = new HttpLink({\n  uri: \"http://localhost:4000/graphql\"\n});\n\nconst errorLink = onError(({ graphQLErrors, networkError }) => {\n  if (graphQLErrors)\n    graphQLErrors.forEach(({ message, locations, path }) =>\n      console.log(\n        `[GraphQL error]: Message: ${message}, Location: ${locations}, Path: ${path}`,\n      ),\n    );\n\n  if (networkError) console.log(`[Network error]: ${networkError}`);\n});\n\n// Если вы предоставите ApolloClient цепочку ссылок, вы\n// не предоставляйте опцию `uri` при объявлении клиента.\nconst client = new ApolloClient({\n  // Функция `from` объединяет массив отдельных ссылок\n  // в звено цепи\n  link: from([errorLink, httpLink]),\n  cache: new InMemoryCache()\n});\n```",
        "message": "",
        "created": "2021-08-28T06:53:17.692Z",
        "creators": [
          {
            "id": "b0568c88-bb34-4420-969e-41238089a0d4",
            "uniqueName": "google#113467622262670857280",
            "displayName": "Alexander Matviienko",
            "createdAt": "2021-05-10T19:50:11.968Z",
            "updatedAt": "2021-05-10T19:50:31.732Z"
          }
        ]
      }
    },
    {
      "id": "6cf6da4e-dbed-4697-8bdf-40a1e1da1ae2",
      "emoji": null,
      "title": "DefaultLayoutConfig",
      "content": "",
      "headId": 1076593,
      "archivedAt": null,
      "folderPathname": "/Заметки",
      "parentFolderId": "f3ab0b81-040b-4fed-ad71-761253447dad",
      "teamId": "nhFMY3a5g",
      "generated": false,
      "createdAt": "2021-08-26T12:49:04.456Z",
      "updatedAt": "2021-09-18T11:58:25.792Z",
      "version": 3,
      "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
      "workspaceId": "309011fd-0b61-4b75-a6fe-a3a711e8a079",
      "head": {
        "id": 1076593,
        "docId": "6cf6da4e-dbed-4697-8bdf-40a1e1da1ae2",
        "content": "Metronic предоставляет объект с базовыми конфигурациями шаблона котрый необходимо разобрать.\n``` js\nexport const DefaultLayoutConfig: ILayout = {\n  main: {\n    type: 'default',\n    primaryColor: '#009EF7',\n    darkSkinEnabled: true,\n  },\n  loader: {\n    display: true,\n    type: 'default', // Set default|spinner-message|spinner-logo to hide or show page loader\n  },\n  scrolltop: {\n    display: true,\n  },\n  header: {\n    display: true, // Set true|false to show or hide Header\n    width: 'fluid', // Set fixed|fluid to change width type\n    left: 'menu',\n    fixed: {\n      desktop: true, // Set true|false to set fixed Header for desktop mode\n      tabletAndMobile: true, // Set true|false to set fixed Header for tablet and mobile modes\n    },\n    menuIcon: 'svg',\n  },\n  megaMenu: {\n    display: true, // Set true|false to show or hide Mega Menu\n  },\n  aside: {\n    display: true,\n    theme: 'dark',\n    menu: 'main',\n    fixed: true,\n    minimized: true,\n    minimize: true,\n    hoverable: false,\n    menuIcon: 'svg',\n  },\n  content: {\n    width: 'fixed', // Set fixed|fluid to change width\n    layout: 'default',\n  },\n  toolbar: {\n    display: true, // Display toolbar\n    width: 'fluid', // Set fixed|fluid to change width type,\n    fixed: {\n      desktop: true,\n      tabletAndMobileMode: true,\n    },\n    layout: 'toolbar1',\n    layouts: {\n      toolbar1: {\n        height: '55px',\n        heightAndTabletMobileMode: '55px',\n      },\n      toolbar2: {\n        height: '75px',\n        heightAndTabletMobileMode: '65px',\n      },\n      toolbar3: {\n        height: '55px',\n        heightAndTabletMobileMode: '55px',\n      },\n      toolbar4: {\n        height: '65px',\n        heightAndTabletMobileMode: '65px',\n      },\n      toolbar5: {\n        height: '75px',\n        heightAndTabletMobileMode: '65px',\n      },\n    },\n  },\n  footer: {\n    width: 'fluid', // Set fixed|fluid to change width type\n  },\n  pageTitle: {\n    display: true,\n    breadCrumbs: true,\n    description: false,\n    layout: 'default',\n    direction: 'row',\n    responsive: true,\n    responsiveBreakpoint: 'lg',\n    responsiveTarget: '#kt_toolbar_container',\n  },\n}\n\n```",
        "message": "",
        "created": "2021-08-26T12:50:55.787Z",
        "creators": [
          {
            "id": "b0568c88-bb34-4420-969e-41238089a0d4",
            "uniqueName": "google#113467622262670857280",
            "displayName": "Alexander Matviienko",
            "createdAt": "2021-05-10T19:50:11.968Z",
            "updatedAt": "2021-05-10T19:50:31.732Z"
          }
        ]
      }
    },
    {
      "id": "4852e8b4-b6be-4933-8e97-a5b53a17967e",
      "emoji": null,
      "title": "cards-styles",
      "content": "",
      "headId": 1067198,
      "archivedAt": null,
      "folderPathname": "/Заметки",
      "parentFolderId": "f3ab0b81-040b-4fed-ad71-761253447dad",
      "teamId": "nhFMY3a5g",
      "generated": false,
      "createdAt": "2021-08-25T05:20:35.129Z",
      "updatedAt": "2021-09-18T11:58:27.978Z",
      "version": 5,
      "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
      "workspaceId": "309011fd-0b61-4b75-a6fe-a3a711e8a079",
      "head": {
        "id": 1067198,
        "docId": "4852e8b4-b6be-4933-8e97-a5b53a17967e",
        "content": "1. Color icons in aside\n\n\n \n\n``` scss\n//$title-color, $icon-color, $bullet-color, $arrow-color, $bg-color\n            @include menu-link-default-state( #ffffff, #ffffff, #ffffff, #ffffff, null);\n            @include menu-link-hover-state( $white, $primary, $primary, $white, #ffb900);\n            @include menu-link-show-state( $white, $primary, $primary, $white, #ffb900);\n            @include menu-link-active-state( $white, $primary, $primary, $white, #ffb900);\n```\n\n            \n2. Color icon toggle in aside\n\n``` scss\n// Aside toggle \n\t\t.aside-toggle {\n\t\t\t@include svg-icon-color(#ffffff);\n\t\t}\n```\n",
        "message": "",
        "created": "2021-08-25T05:25:54.990Z",
        "creators": [
          {
            "id": "b0568c88-bb34-4420-969e-41238089a0d4",
            "uniqueName": "google#113467622262670857280",
            "displayName": "Alexander Matviienko",
            "createdAt": "2021-05-10T19:50:11.968Z",
            "updatedAt": "2021-05-10T19:50:31.732Z"
          }
        ]
      }
    },
    {
      "id": "33e3f2ec-e0d8-41f9-9d43-50d2337e1a88",
      "emoji": null,
      "title": "Apoll&ssg",
      "content": "",
      "headId": 1066980,
      "archivedAt": null,
      "folderPathname": "/NextJS/Apollo GraphQL",
      "parentFolderId": "8f3d841e-4700-4d3e-bd03-7ddd7d12764f",
      "teamId": "nhFMY3a5g",
      "generated": false,
      "createdAt": "2021-08-25T03:45:09.633Z",
      "updatedAt": "2021-09-28T16:29:03.114Z",
      "version": 6,
      "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
      "workspaceId": "a26b69f4-c521-4719-9766-2da1c713b767",
      "head": {
        "id": 1066980,
        "docId": "33e3f2ec-e0d8-41f9-9d43-50d2337e1a88",
        "content": "Настройка клиента Apollo\nТеперь, когда приложение создано, пришло время добавить Apollo Client и подключить его к API. В этом примере мы будем использовать API стран от Trevor Blades для отображения кодов стран и флагов для каждой страны.\n\nПолный код можно найти здесь .\n```\nnpm install @apollo/client graphql\n```\nТеперь, когда наши зависимости установлены, пришло время настроить клиента в нашем приложении. Создайте новый файл в корне вызванного проекта apollo-client.jsи добавьте в него следующее содержимое:\n``` js\n// ./apollo-client.js\n\nimport { ApolloClient, InMemoryCache } from \"@apollo/client\";\n\nconst client = new ApolloClient({\n    uri: \"https://countries.trevorblades.com\",\n    cache: new InMemoryCache(),\n});\n\nexport default client;\n```\nТеперь у нас есть клиент GraphQL, который мы можем использовать в приложении, и мы готовы запросить некоторые данные.\n\n## Получение данных страницы для страниц, отображаемых на стороне сервера\n\n```js\n//  Достаем ранее созданный клиент и консруктор запросов\nimport { gql } from \"@apollo/client\";\nimport client from \"../apollo-client\";\n// Теперь мы можем обратится к apollo-clien из getServerSideProps\nexport async function getServerSideProps() {\n  const { data } = await client.query({\n    query: gql`\n      query Countries {\n        countries {\n          code\n          name\n          emoji\n        }\n      }\n    `,\n  });\n\n  return {\n    props: {\n      countries: data.countries.slice(0, 4),\n    },\n  };\n}\n```",
        "message": "",
        "created": "2021-08-25T03:54:28.469Z",
        "creators": [
          {
            "id": "b0568c88-bb34-4420-969e-41238089a0d4",
            "uniqueName": "google#113467622262670857280",
            "displayName": "Alexander Matviienko",
            "createdAt": "2021-05-10T19:50:11.968Z",
            "updatedAt": "2021-05-10T19:50:31.732Z"
          }
        ]
      }
    },
    {
      "id": "7a4e67f0-6640-4bb7-a4db-6369e21ac086",
      "emoji": null,
      "title": "Подключение",
      "content": "",
      "headId": 1061986,
      "archivedAt": null,
      "folderPathname": "/Tracking/Shopify",
      "parentFolderId": "39cd3749-9a9d-4ffa-9b2c-336962e617f5",
      "teamId": "nhFMY3a5g",
      "generated": false,
      "createdAt": "2021-08-24T06:40:00.273Z",
      "updatedAt": "2021-08-24T07:17:27.711Z",
      "version": 4,
      "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
      "workspaceId": "309011fd-0b61-4b75-a6fe-a3a711e8a079",
      "head": {
        "id": 1061986,
        "docId": "7a4e67f0-6640-4bb7-a4db-6369e21ac086",
        "content": "# Как работает процесс установки\nПосле того, как продавец щелкает ссылку для установки вашего приложения, ваше приложение получает GET запрос, который вы указали на панели инструментов партнера. __Где его указывать?__\n\nЗапросы к этому URL от коммерсанта, который регистрируемые в Shopify App Store включают shop, timestampи hmacпараметры запроса.\n\n\n\n\nЕсли ваша ссылка для установки исходит не из Shopify App Store (а наша по идее исходит как раз из магазина приложений так как оно публичное), вам необходимо указать shop параметр самостоятельно или использовать другой метод, чтобы получить доступ к магазину продавца.\n\nВам необходимо проверить подлинность этих запросов с помощью предоставленного HMAC. Для получения дополнительной информации см. Проверка .",
        "message": "",
        "created": "2021-08-24T07:17:27.703Z",
        "creators": [
          {
            "id": "b0568c88-bb34-4420-969e-41238089a0d4",
            "uniqueName": "google#113467622262670857280",
            "displayName": "Alexander Matviienko",
            "createdAt": "2021-05-10T19:50:11.968Z",
            "updatedAt": "2021-05-10T19:50:31.732Z"
          }
        ]
      }
    },
    {
      "id": "a55573b9-072d-4bb7-b6cf-121d514f24d0",
      "emoji": null,
      "title": "SSH",
      "content": "",
      "headId": 1118895,
      "archivedAt": null,
      "folderPathname": "/SSH",
      "parentFolderId": "0033d178-c55a-457e-bb3f-bade91d8ea4b",
      "teamId": "nhFMY3a5g",
      "generated": false,
      "createdAt": "2021-08-23T11:23:55.732Z",
      "updatedAt": "2021-09-04T09:07:02.989Z",
      "version": 11,
      "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
      "workspaceId": "4ae225f9-123d-4918-a49f-e0c91bd0b18a",
      "head": {
        "id": 1118895,
        "docId": "a55573b9-072d-4bb7-b6cf-121d514f24d0",
        "content": "r# Вступление\n\n- ssh -N -R # Проброс данных на сервер через текущий хост, на сервере открывается серверное соединение\n- ssh -N -L # Проброс данных из вне через сервер на текущий хост, на текущем хосте открывается серверное соединение\n- ssh -w 0:0 # Создается нормальный VPN, на клиенте и сервере появляется tun0 (для этого на сервере нужно включить доп. опции)\n\n------\nПрокидывание тунеля к докеру\nssh taras.prokofiev@ssh.devit-team.com -p 26322 -L 20022:172.30.0.26:22\n\nПеребрасыване ключа ssh\ncat ~/.ssh/id_rsa.pub | ssh -p 20022 root@localhost \"mkdir ~/.ssh; cat >> ~/.ssh/authorized_keys\"\n\nЗаходим в докер\nssh root@localhost -p 20022\n\n\nОпция -R\n\nВ ssh есть режим, в котором он открывает порт на сервере и, через туннель от сервера до клиента, перенаправляет соединения в указанный адрес в сети клиента.\n\nТо есть нам нужно поднять sshd, попросить человека выполнить\nssh sshd_server -N -R server_port:target:target_port \nssh root@localhost -p 8000 -N -R 30004:192.168.0.132:3000\nssh root@localhost -p 8000 -N -R 30001:192.168.0.132:3001\n\nmy ip - 192.168.0.132\n\n\nssh -N alexander.matvienko@ssh.devit-team.com -p 26322 -L 8000:172.30.0.26:22\n\nc4j3T5x3iE9DbHp",
        "message": "",
        "created": "2021-09-04T09:07:02.876Z",
        "creators": [
          {
            "id": "b0568c88-bb34-4420-969e-41238089a0d4",
            "uniqueName": "google#113467622262670857280",
            "displayName": "Alexander Matviienko",
            "createdAt": "2021-05-10T19:50:11.968Z",
            "updatedAt": "2021-05-10T19:50:31.732Z"
          }
        ]
      }
    },
    {
      "id": "be53d15a-3b6c-4c37-b25a-b1d77a1fe099",
      "emoji": null,
      "title": "запрос через axios",
      "content": "",
      "headId": 1049802,
      "archivedAt": null,
      "folderPathname": "/NextJS/Курс",
      "parentFolderId": "65ce1184-1e63-498f-a8c0-885a01c55ad5",
      "teamId": "nhFMY3a5g",
      "generated": false,
      "createdAt": "2021-08-21T12:47:36.266Z",
      "updatedAt": "2021-09-28T16:29:03.114Z",
      "version": 3,
      "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
      "workspaceId": "a26b69f4-c521-4719-9766-2da1c713b767",
      "head": {
        "id": 1049802,
        "docId": "be53d15a-3b6c-4c37-b25a-b1d77a1fe099",
        "content": "```js\nconst fetchPortfolios = () => {\n  const query = `query Portfolios {portfolios {\n    _id, \n    title, \n    company, \n    companyWebsite, \n    location,\n    jobTitle,\n    description,\n    startDate,\n    endDate\n    }}`\n\n  return axios.post('http://localhost:3010/graphql', {query})\n    .then(({data: graph}) => graph.data.portfolios)\n}\n\n```\n\nЕго применение в компоненте \n```js\nconst Portfolios = ({portfolios}) => {\n\n  return (\n    <>\n      <section className=\"section-title\">\n        <div className=\"px-2\">\n          <div className=\"pt-5 pb-4\">\n            <h1>Portfolios</h1>\n          </div>\n        </div>\n      </section>\n      <section className=\"pb-5\">\n        <div className=\"row\">\n          {\n            portfolios.map((portfolio, i) =>\n              <div key={i} className=\"col-md-4\">\n                <PortfolioCard portfolio={portfolio}/>\n              </div>\n            )\n\n          }\n\n        </div>\n      </section>\n    </>\n  );\n};\n\nPortfolios.getInitialProps = async () => {\n  const portfolios = await fetchPortfolios()\n  return {portfolios}\n}\n\nexport default Portfolios;\n```",
        "message": "",
        "created": "2021-08-21T12:48:53.919Z",
        "creators": [
          {
            "id": "b0568c88-bb34-4420-969e-41238089a0d4",
            "uniqueName": "google#113467622262670857280",
            "displayName": "Alexander Matviienko",
            "createdAt": "2021-05-10T19:50:11.968Z",
            "updatedAt": "2021-05-10T19:50:31.732Z"
          }
        ]
      }
    },
    {
      "id": "d01c1f33-1e4e-4ff1-b31a-816b2f1bb972",
      "emoji": null,
      "title": "Инициализация Apollo client в React",
      "content": "",
      "headId": 1049762,
      "archivedAt": null,
      "folderPathname": "/NextJS/Apollo GraphQL/Перевод документации apollo/front-end",
      "parentFolderId": "1ac5e1ae-92d5-4ae4-8ad6-385c9fb0248a",
      "teamId": "nhFMY3a5g",
      "generated": false,
      "createdAt": "2021-08-21T12:07:27.804Z",
      "updatedAt": "2021-09-28T16:29:03.114Z",
      "version": 12,
      "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
      "workspaceId": "a26b69f4-c521-4719-9766-2da1c713b767",
      "head": {
        "id": 1049762,
        "docId": "d01c1f33-1e4e-4ff1-b31a-816b2f1bb972",
        "content": "Чтобы подключить Apollo Client к React, мы оборачиваем наше приложение в компонент ApolloProvider. Мы передаем наш клиентский экземпляр компоненту ApolloProvider через клиентскую опору.\n\n``` js\nimport {\n  ApolloClient,\n  NormalizedCacheObject,\n  ApolloProvider\n} from '@apollo/client';\nimport { cache } from './cache';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport Pages from './pages';\nimport injectStyles from './styles';\n\n// Initialize ApolloClient\nconst client: ApolloClient<NormalizedCacheObject> = new ApolloClient({\n  cache,\n  uri: 'http://localhost:4000/graphql',\n});\n\ninjectStyles();\n\n// Pass the ApolloClient instance to the ApolloProvider component\nReactDOM.render(\n  <ApolloProvider client={client}>\n    <Pages />\n  </ApolloProvider>,\n  document.getElementById('root')\n);\n```\nКомпонент ApolloProvider похож на поставщика контекста React: он обертывает ваше приложение React и помещает клиента в контекст, что позволяет вам получить к нему доступ из любого места в дереве компонентов.\n\n## Показать список launches\nДавайте создадим страницу в нашем приложении, которая показывает список доступных запусков SpaceX. Откройте src/pages/launches.tsx. \n``` js\nimport React, { Fragment, useState }  from 'react';\nimport { RouteComponentProps } from '@reach/router';\nimport { gql } from '@apollo/client'\n\nexport const LAUNCH_TILE_DATA = gql`\n  fragment LaunchTile on Launch {\n    __typename\n    id\n    isBooked\n    rocket {\n      id\n      name\n    }\n    mission {\n      name\n      missionPatch\n    }\n  }\n`;\n\ninterface LaunchesProps extends RouteComponentProps {}\n\nconst Launches: React.FC<LaunchesProps> = () => {\n  return <div />;\n}\n\nexport default Launches;\n```\n\n## Определите запрос\nСначала мы определим форму запроса, который мы будем использовать для получения разбитого на страницы списка запусков. Вставьте следующее под объявлением LAUNCH_TILE_DATA:\n```js\nexport const GET_LAUNCHES = gql`\n  query GetLaunchList($after: String) {\n    launches(after: $after) {\n      cursor\n      hasMore\n      launches {\n        ...LaunchTile\n      }\n    }\n  }\n  ${LAUNCH_TILE_DATA}\n`;\n```\n\nОбратите внимание, что наше определение запроса извлекает определение LAUNCH_TILE_DATA над ним. LAUNCH_TILE_DATA определяет фрагмент GraphQL, который называется LaunchTile. Фрагмент полезен для определения набора полей, которые можно включать в несколько запросов, не переписывая их.\n\nДетали пагинации\n\nОбратите внимание, что помимо получения списка запусков, наш запрос извлекает поля hasMore и cursor. Это потому, что запрос запуска возвращает результаты с разбивкой на страницы:\n- Поле hasMore указывает, есть ли дополнительные запуски помимо списка, возвращаемого сервером.\n- Поле курсора указывает текущую позицию клиента в списке запусков. Мы можем выполнить запрос еще раз и предоставить самый последний курсор в качестве значения переменной $after для получения следующего набора запусков в списке.\n\n## Примените хук useQuery\nМы будем использовать перехватчик useQuery React Hook Apollo Client для выполнения нашего нового запроса в компоненте Launches. Объект результата ловушки предоставляет свойства, которые помогают нам заполнять и отображать наш компонент на протяжении всего выполнения запроса.\n\n```js\nconst Launches: React.FC<LaunchesProps> = () => {\n  const {\n    data,\n    loading,\n    error\n  } = useQuery<\n    GetLaunchListTypes.GetLaunchList,\n    GetLaunchListTypes.GetLaunchListVariables\n  >(GET_LAUNCHES);\n\n  if (loading) return <Loading />;\n  if (error) return <p>ERROR</p>;\n  if (!data) return <p>Not found</p>;\n\n  return (\n    <Fragment>\n      <Header />\n      {data.launches &&\n        data.launches.launches &&\n        data.launches.launches.map((launch: any) => (\n          <LaunchTile key={launch.id} launch={launch} />\n        ))}\n    </Fragment>\n  );\n}\n```\n\nЭтот компонент передает наш запрос GET_LAUNCHES в useQuery и получает из результата свойства данных, загрузки и ошибки. В зависимости от состояния этих свойств мы отображаем список запусков, индикатор загрузки или сообщение об ошибке.\n\n## Добавить поддержку пагинации\nКлиент Apollo предоставляет вспомогательную функцию fetchMore для помощи в запросах с разбивкой на страницы. Он позволяет выполнять один и тот же запрос с разными значениями переменных (например, текущего курсора).\n\nДобавьте fetchMore в список объектов, которые мы деструктурируем из объекта результата useQuery, а также определите переменную состояния isLoadingMore:\n\n```js\nconst Launches: React.FC<LaunchesProps> = () => {\n  const {\n    data,\n    loading,\n    error,\n    fetchMore\n  } = useQuery<\n    GetLaunchListTypes.GetLaunchList,\n    GetLaunchListTypes.GetLaunchListVariables\n  >(GET_LAUNCHES);\n  const [isLoadingMore, setIsLoadingMore] = useState(false);\n  // ...\n}\n```\n\nТеперь мы можем подключить fetchMore к кнопке в компоненте Launches, которая выполняет дополнительные запуски при нажатии.\n\nВставьте этот код непосредственно над закрывающим тегом </Fragment> в компоненте Launches:\n\n``` js\n{data.launches && data.launches.hasMore && (\n  isLoadingMore\n    ? <Loading />\n    : <Button\n        onClick={async () => {\n          setIsLoadingMore(true);\n          await fetchMore({\n            variables: {\n              after: data.launches.cursor,\n            },\n          });\n          setIsLoadingMore(false);\n        }}\n      >\n        Load More\n      </Button>\n)}\n//</Fragment>\n```\n\nКогда нажимается наша новая кнопка, она вызывает fetchMore (передавая текущий курсор в качестве значения переменной after) и отображает уведомление о загрузке до тех пор, пока запрос не вернет результаты.\n\nОбъединяем кешированные результаты\n\nКлиент Apollo сохраняет результаты вашего запроса в кэше в памяти. Кэш обрабатывает большинство операций разумно и эффективно, но он автоматически не знает, что мы хотим объединить наши два отдельных списка запусков. Чтобы исправить это, мы определим функцию слияния для поля с разбивкой на страницы в нашей схеме.\n\nОткройте src / cache.ts, где инициализируется наш InMemoryCache по умолчанию:\n\n```js\nimport { InMemoryCache, Reference } from '@apollo/client';\n\nexport const cache: InMemoryCache = new InMemoryCache({});\n```\n\nПоле схемы, которое наш сервер разбивает на страницы, представляет собой список запусков. Измените инициализацию кеша, чтобы добавить функцию слияния для поля запусков, например:\n``` js\nexport const cache: InMemoryCache = new InMemoryCache({\n  typePolicies: {\n    Query: {\n      fields: {\n        launches: {\n          keyArgs: false,\n          merge(existing, incoming) {\n            let launches: Reference[] = [];\n            if (existing && existing.launches) {\n              launches = launches.concat(existing.launches);\n            }\n            if (incoming && incoming.launches) {\n              launches = launches.concat(incoming.launches);\n            }\n            return {\n              ...incoming,\n              launches,\n            };\n          }\n        }\n      }\n    }\n  }\n});\n```\n\nЭта функция слияния берет наши существующие кэшированные запуски и входящие запуски и объединяет их в один список, который затем возвращает. Кэш хранит этот объединенный список и возвращает его всем запросам, использующим поле запусков.\n\nВ этом примере демонстрируется использование политик полей, которые представляют собой параметры конфигурации кеша, специфичные для отдельных полей в вашей схеме.",
        "message": "",
        "created": "2021-08-21T12:27:09.611Z",
        "creators": [
          {
            "id": "b0568c88-bb34-4420-969e-41238089a0d4",
            "uniqueName": "google#113467622262670857280",
            "displayName": "Alexander Matviienko",
            "createdAt": "2021-05-10T19:50:11.968Z",
            "updatedAt": "2021-05-10T19:50:31.732Z"
          }
        ]
      }
    },
    {
      "id": "a79ac2a1-c0fe-4420-bc58-0e93a22dddef",
      "emoji": null,
      "title": "resolvers mutation",
      "content": "",
      "headId": 1049701,
      "archivedAt": null,
      "folderPathname": "/NextJS/Apollo GraphQL/Перевод документации apollo/back-end",
      "parentFolderId": "d033c9a2-0fc3-4e31-ba17-46e4039504b0",
      "teamId": "nhFMY3a5g",
      "generated": false,
      "createdAt": "2021-08-21T11:57:26.978Z",
      "updatedAt": "2021-09-28T16:29:03.114Z",
      "version": 5,
      "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
      "workspaceId": "a26b69f4-c521-4719-9766-2da1c713b767",
      "head": {
        "id": 1049701,
        "docId": "a79ac2a1-c0fe-4420-bc58-0e93a22dddef",
        "content": "## login\nВо-первых, давайте напишем преобразователь для Mutation.login, который позволяет пользователю войти в наше приложение. Добавьте следующее на карту resolvers под полем запроса:\n\n``` js\n  // Query: {\n  //   ...\n  // },\nMutation: {\n  login: async (_, { email }, { dataSources }) => {\n    const user = await dataSources.userAPI.findOrCreateUser({ email });\n    if (user) {\n      user.token = Buffer.from(email).toString('base64');\n      return user;\n    }\n  },\n},\n```\n\nЭтот преобразователь принимает email и возвращает соответствующие данные пользователя из нашего userAPI. Мы добавляем к объекту поле токена, чтобы представить активный сеанс пользователя. В следующей главе мы узнаем, как сохранить эти возвращенные пользовательские данные в нашем клиенте приложения.",
        "message": "",
        "created": "2021-08-21T12:01:05.378Z",
        "creators": [
          {
            "id": "b0568c88-bb34-4420-969e-41238089a0d4",
            "uniqueName": "google#113467622262670857280",
            "displayName": "Alexander Matviienko",
            "createdAt": "2021-05-10T19:50:11.968Z",
            "updatedAt": "2021-05-10T19:50:31.732Z"
          }
        ]
      }
    },
    {
      "id": "a67ba446-3520-465e-8411-872a4b61ec21",
      "emoji": null,
      "title": "Пагинация результаатов",
      "content": "",
      "headId": 1049526,
      "archivedAt": null,
      "folderPathname": "/NextJS/Apollo GraphQL/Перевод документации apollo/back-end",
      "parentFolderId": "d033c9a2-0fc3-4e31-ba17-46e4039504b0",
      "teamId": "nhFMY3a5g",
      "generated": false,
      "createdAt": "2021-08-21T10:58:57.344Z",
      "updatedAt": "2021-09-28T16:29:03.114Z",
      "version": 11,
      "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
      "workspaceId": "a26b69f4-c521-4719-9766-2da1c713b767",
      "head": {
        "id": 1049526,
        "docId": "a67ba446-3520-465e-8411-872a4b61ec21",
        "content": "В настоящее время Query.launches возвращает длинный список объектов Launch. Часто это больше информации, чем нужно клиенту сразу, и получение такого количества данных может быть медленным. Мы можем улучшить производительность этого поля, реализовав разбиение на страницы.\n\nНастроим разбиение на страницы по курсору. В src / schema.js обновите Query.launches, чтобы он соответствовал следующему, а также добавьте новый тип с именем LaunchConnection, например:\n\n``` js\ntype Query {\n  launches( # заменить текущий запрос запусков на этот.\n    \"\"\"\n    Количество результатов, которые нужно показать. Must be >= 1. Default = 20\n    \"\"\"\n    pageSize: Int\n    \"\"\"\n    Если вы добавите сюда курсор, он будет возвращать результаты только _после_ этого курсора\n    \"\"\"\n    after: String\n  ): LaunchConnection!\n  launch(id: ID!): Launch\n  me: User\n}\n\n\"\"\"\nПростая оболочка вокруг нашего списка запусков, содержащая курсор на последний пункт в списке. Передайте этот курсор в запрос запуска, чтобы получить результаты после этого.\n\"\"\"\ntype LaunchConnection { # добавьте это под типом запроса как дополнительный тип.\n  cursor: String!\n  hasMore: Boolean!\n  launches: [Launch]!\n}\n```\n\nТеперь Query.launches принимает два параметра (pageSize и после) и возвращает объект LaunchConnection. LaunchConnection включает:\n\n- Список запусков (фактические данные, запрошенные запросом) \n- cursor, указывающий на текущую позицию в наборе данных \n- Логическое значение hasMore, указывающее, содержит ли набор данных какие-либо элементы, помимо тех, которые включены в запуски.\n\nТеперь давайте обновим необходимые функции распознавателя, чтобы обеспечить разбиение на страницы. Импортируйте paginateResults и замените функцию распознавания запусков в src / resolvers.js приведенным ниже кодом:\n\n```js\nconst { paginateResults } = require('./utils');\n\nmodule.exports = {\n  Query: {\n    launches: async (_, { pageSize = 20, after }, { dataSources }) => {\n      const allLaunches = await dataSources.launchAPI.getAllLaunches();\n      // we want these in reverse chronological order\n      allLaunches.reverse();\n      const launches = paginateResults({\n        after,\n        pageSize,\n        results: allLaunches\n      });\n      return {\n        launches,\n        cursor: launches.length ? launches[launches.length - 1].cursor : null,\n        // if the cursor at the end of the paginated results is the same as the\n        // last item in _all_ results, then there are no more results after this\n        hasMore: launches.length\n          ? launches[launches.length - 1].cursor !==\n            allLaunches[allLaunches.length - 1].cursor\n          : false\n      };\n    },\n\n    // ...other Query fields...\n  }\n};\n```",
        "message": "",
        "created": "2021-08-21T11:06:20.727Z",
        "creators": [
          {
            "id": "b0568c88-bb34-4420-969e-41238089a0d4",
            "uniqueName": "google#113467622262670857280",
            "displayName": "Alexander Matviienko",
            "createdAt": "2021-05-10T19:50:11.968Z",
            "updatedAt": "2021-05-10T19:50:31.732Z"
          }
        ]
      }
    },
    {
      "id": "1df435a6-6941-4b09-b182-d8fe471af2a0",
      "emoji": null,
      "title": "Написание преобразователей для полей в виде функций",
      "content": "",
      "headId": 1049518,
      "archivedAt": null,
      "folderPathname": "/NextJS/Apollo GraphQL/Перевод документации apollo/back-end",
      "parentFolderId": "d033c9a2-0fc3-4e31-ba17-46e4039504b0",
      "teamId": "nhFMY3a5g",
      "generated": false,
      "createdAt": "2021-08-21T10:53:16.815Z",
      "updatedAt": "2021-09-28T16:29:03.114Z",
      "version": 7,
      "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
      "workspaceId": "a26b69f4-c521-4719-9766-2da1c713b767",
      "head": {
        "id": 1049518,
        "docId": "1df435a6-6941-4b09-b182-d8fe471af2a0",
        "content": "Это поле имеет следующее определение:\n``` \ntype Mission {\n  # Other field definitions...\n  missionPatch(size: PatchSize): String\n}\n```\n\nСопоставитель для Mission.missionPatch должен возвращать другое значение в зависимости от того, указывает ли запрос LARGE или SMALL в качестве аргумента размера.\n\nДобавьте следующее на карту resolvers под свойством Query\n```js\n// Query: {\n//   ...\n// },\nMission: {\n  // The default size is 'LARGE' if not provided\n  missionPatch: (mission, { size } = { size: 'LARGE' }) => {\n    return size === 'SMALL'\n      ? mission.missionPatchSmall\n      : mission.missionPatchLarge;\n  },\n},\n```\n\nЭтот преобразователь получает большой или маленький патч из mission, который является объектом, возвращаемым преобразователем по умолчанию для родительского поля в нашей схеме, Launch.mission.\n\nТеперь, когда мы знаем, как добавлять преобразователи для типов помимо Query, давайте добавим несколько преобразователей для полей типов Launch и User. Добавьте следующее на карту решателя под Миссией:\n\n``` js\n// Mission: {\n//   ...\n// },\nLaunch: {\n  isBooked: async (launch, _, { dataSources }) =>\n    dataSources.userAPI.isBookedOnLaunch({ launchId: launch.id }),\n},\nUser: {\n  trips: async (_, __, { dataSources }) => {\n    // get ids of launches by user\n    const launchIds = await dataSources.userAPI.getLaunchIdsByUser();\n    if (!launchIds.length) return [];\n    // look up those launches by their ids\n    return (\n      dataSources.launchAPI.getLaunchesByIds({\n        launchIds,\n      }) || []\n    );\n  },\n},\n```\n\nВам может быть интересно, как наш сервер узнает личность текущего пользователя при вызове таких функций, как getLaunchIdsByUser. Еще нет! Мы исправим это в следующей главе.\n\n",
        "message": "",
        "created": "2021-08-21T10:58:59.605Z",
        "creators": [
          {
            "id": "b0568c88-bb34-4420-969e-41238089a0d4",
            "uniqueName": "google#113467622262670857280",
            "displayName": "Alexander Matviienko",
            "createdAt": "2021-05-10T19:50:11.968Z",
            "updatedAt": "2021-05-10T19:50:31.732Z"
          }
        ]
      }
    },
    {
      "id": "3d5d3586-5925-4155-8b9d-590bbb1d9a01",
      "emoji": null,
      "title": "resolvers query",
      "content": "",
      "headId": 1049505,
      "archivedAt": null,
      "folderPathname": "/NextJS/Apollo GraphQL/Перевод документации apollo/back-end",
      "parentFolderId": "d033c9a2-0fc3-4e31-ba17-46e4039504b0",
      "teamId": "nhFMY3a5g",
      "generated": false,
      "createdAt": "2021-08-21T10:33:26.206Z",
      "updatedAt": "2021-09-28T16:29:03.114Z",
      "version": 12,
      "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
      "workspaceId": "a26b69f4-c521-4719-9766-2da1c713b767",
      "head": {
        "id": 1049505,
        "docId": "3d5d3586-5925-4155-8b9d-590bbb1d9a01",
        "content": "Мы разработали нашу схему и настроили наши источники данных, но наш сервер не знает, как использовать свои источники данных для заполнения полей схемы. Чтобы решить эту проблему, мы определим набор преобразователей (resolvers).\n\nФункция распознавателя возвращает одно из следующего:\n- Данные типа, требуемого соответствующим полем схемы преобразователя (string, integer, object и т. Д.)\n- Promise, которое выполняется с данными требуемого типа\n\n### The resolver function signature\nПрежде чем мы начнем писать резолверы, давайте рассмотрим, как выглядит сигнатура функции резолвера. Функции резолвера могут дополнительно принимать четыре позиционных аргумента:\n```js\nfieldName: (parent, args, context, info) => data;\n```\n\n- parent - Это возвращаемое значение преобразователя для родительского поля (преобразователь для родительского поля всегда выполняется перед преобразователями для дочерних элементов этого поля). \n- args - Это объект содержит все аргументы GraphQL, предоставленные для этого поля. (Карочче аргументы которые передаются при запросе)\n- context - Это объект используется всеми резолверами, выполняющими определенную операцию. Используйте это для совместного использования состояния каждой операции, например информации для аутентификации и доступа к источникам данных.\n-  info - Содержит информацию о состоянии выполнения операции (используется только в сложных случаях).\n\nИз этих четырех аргументов определяемые нами преобразователи будут в основном использовать контекст. Это позволяет нашим преобразователям совместно использовать экземпляры наших источников данных LaunchAPI и UserAPI. Чтобы увидеть, как это работает, давайте приступим к созданию резолверов.\n\n### Определяем резолверы верхнего уровня\nКак упоминалось выше, преобразователь для родительского поля всегда выполняется перед преобразователями для дочерних элементов этого поля. Поэтому давайте начнем с определения преобразователей для некоторых полей верхнего уровня: полей типа Query.\n\nКак показывает наша схема, тип запроса нашей схемы определяет три поля: launches, launch и me. Чтобы определить преобразователи для этих полей, в файле для резолверов вставьте код ниже:\n``` js \nmodule.exports = {\n  Query: {\n    launches: (_, __, { dataSources }) =>\n      dataSources.launchAPI.getAllLaunches(),\n    launch: (_, { id }, { dataSources }) =>\n      dataSources.launchAPI.getLaunchById({ launchId: id }),\n    me: (_, __, { dataSources }) => dataSources.userAPI.findOrCreateUser()\n  }\n};\n```\n\nЧто касается аргументов функции выше:\n- Все три функции преобразователя присваивают свой первый позиционный аргумент (parent) переменной _ в качестве соглашения, чтобы указать, что они не используют его значение.\n\n- Функции launch и me присваивают свой второй позиционный аргумент (args) __ по той же причине.\n  - (Однако функция запуска использует аргумент args, потому что поле запуска нашей схемы принимает аргумент id.)\n- Все три функции преобразователя действительно используют третий позиционный аргумент (context). В частности, они деструктурируют его, чтобы получить доступ к определенным нами dataSources\n- Ни одна из функций распознавателя не включает четвертый позиционный аргумент (info), потому что они не используют его, и нет никакой другой необходимости включать его.\n\n### Добавить преобразователи в Apollo Server\n``` js\nconst { ApolloServer } = require('apollo-server');\nconst typeDefs = require('./schema');\nconst { createStore } = require('./utils');\nconst resolvers = require('./resolvers');\n\nconst LaunchAPI = require('./datasources/launch');\nconst UserAPI = require('./datasources/user');\n\nconst store = createStore();\n\nconst server = new ApolloServer({\n  typeDefs,\n  resolvers,\n  dataSources: () => ({\n    launchAPI: new LaunchAPI(),\n    userAPI: new UserAPI({ store })\n  })\n});\n\nserver.listen().then(() => {\n  console.log(`\n    Server is running!\n    Listening on port 4000\n    Explore at https://studio.apollographql.com/sandbox\n  `);\n});\n```\n\nПредоставляя вашу карту преобразователя (модуль в котором мы определяли resolvers) серверу Apollo таким образом, он знает, как вызывать функции преобразователя по мере необходимости для выполнения входящих запросов.",
        "message": "",
        "created": "2021-08-21T10:48:42.770Z",
        "creators": [
          {
            "id": "b0568c88-bb34-4420-969e-41238089a0d4",
            "uniqueName": "google#113467622262670857280",
            "displayName": "Alexander Matviienko",
            "createdAt": "2021-05-10T19:50:11.968Z",
            "updatedAt": "2021-05-10T19:50:31.732Z"
          }
        ]
      }
    },
    {
      "id": "a759f3d3-cc01-4bc9-ac14-4e0ece06990e",
      "emoji": null,
      "title": "Запросы к БД",
      "content": "",
      "headId": 1049488,
      "archivedAt": null,
      "folderPathname": "/NextJS/Apollo GraphQL/Перевод документации apollo/back-end/Подключения к источникам правды",
      "parentFolderId": "463f458b-d9a3-4f55-aff1-6147806fc9a1",
      "teamId": "nhFMY3a5g",
      "generated": false,
      "createdAt": "2021-08-21T10:17:52.657Z",
      "updatedAt": "2021-09-28T16:29:03.114Z",
      "version": 13,
      "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
      "workspaceId": "a26b69f4-c521-4719-9766-2da1c713b767",
      "head": {
        "id": 1049488,
        "docId": "a759f3d3-cc01-4bc9-ac14-4e0ece06990e",
        "content": "Мы подключимся к базе данных SQLite и будем использовать Sequelize. \n\nВ настоящее время Apollo не предоставляет канонический подкласс DataSource для баз данных SQL (хотя мы будем рады помочь вам, если вы заинтересованы в участии). Итак, мы создали настраиваемый источник данных для нашей базы данных SQLite, расширив общий класс DataSource.\n\nПоскольку этот раздел содержит специфичный для SQL код, который не является необходимым для понимания источников данных Apollo, источник данных UserAPI включен в https://github.com/apollographql/fullstack-tutorial/blob/master/start/server/src/datasources/user.js. Перейдите к этому файлу, чтобы мы могли охватить концепции высокого уровня.\n\n```js\nconst { DataSource } = require('apollo-datasource');\nconst isEmail = require('isemail');\n\nclass UserAPI extends DataSource {\n  constructor({ store }) {\n    super();\n    this.store = store;\n  }\n\n  /**\n   * Это функция, которая вызывается ApolloServer при настройке. \n   * которая вызывается с конфигурацией источника данных, включая вещи \n   * как кеши и контекст. Мы присвоим this.context контексту запроса \n   * здесь, чтобы мы могли узнать о пользователях, отправляющих запросы\n   */\n  initialize(config) {\n    this.context = config.context;\n  }\n\n  /**\n   * Пользователь может быть вызван с аргументом, который включает электронную почту, но это не так. \n   * должен быть. Если пользователь уже находится в контексте, он будет использовать этого пользователя \n   * вместо\n   */\n  async findOrCreateUser({ email: emailArg } = {}) {\n    const email =\n      this.context && this.context.user ? this.context.user.email : emailArg;\n    if (!email || !isEmail.validate(email)) return null;\n\n    const users = await this.store.users.findOrCreate({ where: { email } });\n    return users && users[0] ? users[0] : null;\n  }\n\n  async bookTrips({ launchIds }) {\n    const userId = this.context.user.id;\n    if (!userId) return;\n\n    let results = [];\n\n    // для каждого идентификатора запуска попробуйте забронировать поездку и добавить ее в массив результатов \n    // в случае успеха\n    for (const launchId of launchIds) {\n      const res = await this.bookTrip({ launchId });\n      if (res) results.push(res);\n    }\n\n    return results;\n  }\n\n  async bookTrip({ launchId }) {\n    const userId = this.context.user.id;\n    const res = await this.store.trips.findOrCreate({\n      where: { userId, launchId },\n    });\n    return res && res.length ? res[0].get() : false;\n  }\n\n  async cancelTrip({ launchId }) {\n    const userId = this.context.user.id;\n    return !!this.store.trips.destroy({ where: { userId, launchId } });\n  }\n\n  async getLaunchIdsByUser() {\n    const userId = this.context.user.id;\n    const found = await this.store.trips.findAll({\n      where: { userId },\n    });\n    return found && found.length\n      ? found.map(l => l.dataValues.launchId).filter(l => !!l)\n      : [];\n  }\n\n  async isBookedOnLaunch({ launchId }) {\n    if (!this.context || !this.context.user) return false;\n    const userId = this.context.user.id;\n    const found = await this.store.trips.findAll({\n      where: { userId, launchId },\n    });\n    return found && found.length > 0;\n  }\n}\n\nmodule.exports = UserAPI;\n```\n\n\n - Метод initialize: реализуйте этот метод, если вы хотите передать какие-либо параметры конфигурации своему подклассу. Класс UserAPI использует инициализацию для доступа к контексту нашего API. \n - this.context: Контекст графического API - это объект, который используется всеми преобразователями в запросе GraphQL. Мы подробно рассмотрим резолверы в следующем разделе. Прямо сейчас все, что вам нужно знать, это то, что контекст полезен для хранения и обмена информацией о пользователях. \n - Кэширование: хотя класс RESTDataSource предоставляет встроенный кеш, общий класс DataSource - нет. Вы можете использовать примитивы кеширования для создания собственных функций кэширования.\n\nДавайте рассмотрим некоторые методы в src / datasources / user.js, которые мы используем для получения и обновления данных в нашей базе данных. Вы захотите обратиться к ним в следующем разделе:\n\n - findOrCreateUser ({email}): находит или создает пользователя с заданным адресом электронной почты в базе данных.\n -  bookTrips ({launchIds}): принимает объект с массивом launchIds и записывает их для вошедшего в систему пользователя. \n -  cancelTrip ({launchId}): принимает объект с launchId и отменяет этот запуск для вошедшего в систему пользователя. \n -  getLaunchIdsByUser (): возвращает все забронированные поездки для вошедшего в систему пользователя. \n -  isBookedOnLaunch ({launchId}): определяет, забронировал ли вошедший в систему пользователь поездку на конкретный запуск.\n\n### Добавить источники данных на Apollo Server\n\nПередайте параметр dataSources конструктору ApolloServer. Этот параметр представляет собой функцию, которая возвращает объект, содержащий новые экземпляры источников данных. Перейдите к src/index.js и добавьте выделенный ниже код (или замените весь файл целым блоком кода):\n\n```js\nconst { ApolloServer } = require('apollo-server');\nconst typeDefs = require('./schema');\nconst { createStore } = require('./utils');\n\nconst LaunchAPI = require('./datasources/launch');\nconst UserAPI = require('./datasources/user');\n\nconst store = createStore();\n\nconst server = new ApolloServer({\n  typeDefs,\n  dataSources: () => ({\n    launchAPI: new LaunchAPI(),\n    userAPI: new UserAPI({ store })\n  })\n});\n\nserver.listen().then(() => {\n  console.log(`\n    Server is running!\n    Listening on port 4000\n    Explore at https://studio.apollographql.com/sandbox\n  `);\n});\n```\n\nСначала мы импортируем и вызываем функцию createStore, чтобы настроить нашу базу данных SQLite. Затем мы добавляем функцию dataSources в конструктор ApolloServer, чтобы подключить экземпляры LaunchAPI и UserAPI к нашему graphql. Мы также обязательно передаем базу данных конструктору UserAPI. Если вы используете this.context в источнике данных, очень важно создать новый экземпляр этого источника данных в функции dataSources, а не совместно использовать один экземпляр. В противном случае инициализация может быть вызвана во время выполнения асинхронного кода для конкретного пользователя, заменив this.context контекстом другого пользователя. ",
        "message": "",
        "created": "2021-08-21T10:33:26.005Z",
        "creators": [
          {
            "id": "b0568c88-bb34-4420-969e-41238089a0d4",
            "uniqueName": "google#113467622262670857280",
            "displayName": "Alexander Matviienko",
            "createdAt": "2021-05-10T19:50:11.968Z",
            "updatedAt": "2021-05-10T19:50:31.732Z"
          }
        ]
      }
    },
    {
      "id": "92f09d7c-f9c4-469c-a14b-11c1ff4cbcea",
      "emoji": null,
      "title": "Запросы на REST",
      "content": "",
      "headId": 1049443,
      "archivedAt": null,
      "folderPathname": "/NextJS/Apollo GraphQL/Перевод документации apollo/back-end/Подключения к источникам правды",
      "parentFolderId": "463f458b-d9a3-4f55-aff1-6147806fc9a1",
      "teamId": "nhFMY3a5g",
      "generated": false,
      "createdAt": "2021-08-21T09:56:23.259Z",
      "updatedAt": "2021-09-28T16:29:03.114Z",
      "version": 14,
      "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
      "workspaceId": "a26b69f4-c521-4719-9766-2da1c713b767",
      "head": {
        "id": 1049443,
        "docId": "92f09d7c-f9c4-469c-a14b-11c1ff4cbcea",
        "content": "После определения схем необходимо подключить источник данных с которым graphql будет взаимодействовать согласно установленным типам. \n\nApollo предоставляет класс DataSource, который мы можем расширить для обработки логики взаимодействия для определенного типа источника данных. В этом разделе мы расширим DataSource для подключения как REST API, так и базы данных SQL к Apollo Server. Не волнуйтесь, вам не нужно быть знакомым ни с одной из этих технологий, чтобы следовать примерам.\n\n## Подключение к REST API\nПодключим REST API SpaceX v2 к нашему серверу. Для этого мы будем использовать класс __RESTDataSource__ из пакета __apollo-datasource-rest__. Этот класс является расширением DataSource, который обрабатывает выборку данных из REST API. Чтобы использовать этот класс, вы расширяете его и предоставляете ему базовый URL-адрес REST API, с которым он будет взаимодействовать.\n\nБазовый URL-адрес API Space-X - https://api.spacexdata.com/v2/. Давайте создадим источник данных под названием LaunchAPI, добавив приведенный ниже код в src/datasources/launch.js: (можно выбрать и другое место и название файла, мы все равно его экспортируем)\n\n``` js\nconst { RESTDataSource } = require('apollo-datasource-rest');\n\nclass LaunchAPI extends RESTDataSource {\n  constructor() {\n    super();\n    this.baseURL = 'https://api.spacexdata.com/v2/';\n  }\n}\n\nmodule.exports = LaunchAPI;\n```\n\nКласс RESTDataSource автоматически кэширует ответы от ресурсов REST без дополнительной настройки. Мы называем эту функцию частичным кешированием запросов. Это позволяет вам воспользоваться логикой кэширования, которую уже предоставляет REST API.\n\n### Определяем методы получения данных\nНашему источнику данных LaunchAPI нужны методы, которые позволяют ему получать данные, которые будут запрашивать входящие c клиента запросы.\n\nМетод getAllLaunches\n\nСогласно нашей схеме, нам понадобится метод для получения списка всех запусков SpaceX. Давайте добавим метод getAllLaunches в наш класс LaunchAPI:\n\n```js\n// class LaunchAPI... {\n\n  async getAllLaunches() {\n    const response = await this.get('launches');\n    return Array.isArray(response)\n      ? response.map(launch => this.launchReducer(launch))\n      : [];\n  }\n```\n\nКласс RESTDataSource предоставляет вспомогательные методы, соответствующие HTTP-глаголам, таким как GET и POST. В приведенном выше коде:\n\n1. Вызов this.get ('launches') отправляет запрос GET на https://api.spacexdata.com/v2/launches и сохраняет в ответ массив возвращенных запусков.\n2. Мы используем thislaunchReducer (который мы напишем дальше), чтобы преобразовать каждый возвращенный запуск в формат, ожидаемый нашей схемой. Если запусков нет, возвращается пустой массив.\n\nТеперь нам нужно написать метод launchReducer, который преобразует возвращаемые данные запуска в форму, ожидаемую нашей схемой. Этот подход отделяет структуру вашей схемы от структуры различных источников данных, которые заполняют ее поля.\n\nВо-первых, давайте вспомним, как выглядит тип объекта Launch в нашей схеме:\n``` js\ntype Launch {\n  id: ID!\n  site: String\n  mission: Mission\n  rocket: Rocket\n  isBooked: Boolean!\n}\n```\n\nТеперь давайте напишем метод launchReducer, который преобразует данные запуска из REST API в эту форму, определенную схемой. Скопируйте следующий код в свой класс LaunchAPI:\n\n``` js\n// class LaunchAPI... {\n\n  launchReducer(launch) {\n    return {\n      id: launch.flight_number || 0,\n      cursor: `${launch.launch_date_unix}`,\n      site: launch.launch_site && launch.launch_site.site_name,\n      mission: {\n        name: launch.mission_name,\n        missionPatchSmall: launch.links.mission_patch_small,\n        missionPatchLarge: launch.links.mission_patch,\n      },\n      rocket: {\n        id: launch.rocket.rocket_id,\n        name: launch.rocket.rocket_name,\n        type: launch.rocket.rocket_type,\n      },\n    };\n  }\n```\n\n> Обратите внимание, что launchReducer не устанавливает значение для поля isBooked в нашей схеме. Это потому, что API Space-X не знает, какие поездки забронировал пользователь! Это поле будет заполнено другим нашим источником данных, который подключается к базе данных SQLite.\n\nИспользование такого reducer позволяет методу getAllLaunches оставаться кратким, поскольку наше определение Launch потенциально изменяется и со временем увеличивается. Это также помогает при тестировании класса LaunchAPI, о котором мы поговорим позже.\n\nНаша схема также поддерживает получение отдельного запуска по его идентификатору. Для поддержки этого давайте добавим в класс LaunchAPI два метода: getLaunchById и getLaunchesByIds:\n\n```js\n// class LaunchAPI... {\n\n  async getLaunchById({ launchId }) {\n    const response = await this.get('launches', { flight_number: launchId });\n    return this.launchReducer(response[0]);\n  }\n\n  getLaunchesByIds({ launchIds }) {\n    return Promise.all(\n      launchIds.map(launchId => this.getLaunchById({ launchId })),\n    );\n  }\n```\n\nМетод getLaunchById принимает номер рейса запуска и возвращает данные для соответствующего запуска. Метод getLaunchesByIds возвращает результат нескольких вызовов getLaunchById.\n\nНаш класс LaunchAPI готов! Затем давайте подключим базу данных к нашему серверу.",
        "message": "",
        "created": "2021-08-21T10:15:58.571Z",
        "creators": [
          {
            "id": "b0568c88-bb34-4420-969e-41238089a0d4",
            "uniqueName": "google#113467622262670857280",
            "displayName": "Alexander Matviienko",
            "createdAt": "2021-05-10T19:50:11.968Z",
            "updatedAt": "2021-05-10T19:50:31.732Z"
          }
        ]
      }
    },
    {
      "id": "f2d56a01-9ebe-4d9d-965b-bd5d3f1cbec0",
      "emoji": null,
      "title": "Построение схем GraphQL",
      "content": "",
      "headId": 1049209,
      "archivedAt": null,
      "folderPathname": "/NextJS/Apollo GraphQL/Перевод документации apollo/back-end",
      "parentFolderId": "d033c9a2-0fc3-4e31-ba17-46e4039504b0",
      "teamId": "nhFMY3a5g",
      "generated": false,
      "createdAt": "2021-08-21T08:58:02.155Z",
      "updatedAt": "2021-09-28T16:29:03.114Z",
      "version": 20,
      "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
      "workspaceId": "a26b69f4-c521-4719-9766-2da1c713b767",
      "head": {
        "id": 1049209,
        "docId": "f2d56a01-9ebe-4d9d-965b-bd5d3f1cbec0",
        "content": "Стратовый код для создания схемы:\n```js\nconst { gql } = require('apollo-server');\n\nconst typeDefs = gql`\n  # Здесь будут записаны схемы\n`;\n\nmodule.exports = typeDefs;\n```\n\nБольшинство определений в схеме GraphQL являются типами объектов (по типу как в TS определяются типы объектов интерфейсами).\n\nДобавим следующий тип \n``` js\nconst { gql } = require('apollo-server');\n\nconst typeDefs = gql`\n  type Launch {\n  id: ID!\n  site: String\n  mission: Mission\n  rocket: Rocket\n  isBooked: Boolean!\n}\n`;\n\nmodule.exports = typeDefs;\n```\n\nТип объекта Launch имеет набор полей, и каждое поле имеет собственный тип. Тип поля может быть объектным или скалярным. Скалярный тип - это примитив (например, ID, String, Boolean, Int или Float).\n\n> Восклицательный знак (!) После объявленного типа поля означает, что «значение этого поля никогда не может быть нулевым».\n\nВ приведенном выше определении запуска «Mission» и «Rocket» относятся к другим типам объектов. Добавим определения для них вместе с типом User.\n\n``` js\nconst { gql } = require('apollo-server');\n\nconst typeDefs = gql`\n  type Rocket {\n  id: ID!\n  name: String\n  type: String\n}\n\ntype User {\n  id: ID!\n  email: String!\n  trips: [Launch]!\n  token: String\n}\n\ntype Mission {\n  name: String\n  missionPatch(size: PatchSize): String\n}\n\nenum PatchSize {\n  SMALL\n  LARGE\n}\n\n  type Launch {\n  id: ID!\n  site: String\n  mission: Mission\n  rocket: Rocket\n  isBooked: Boolean!\n}\n`;\n\nmodule.exports = typeDefs;\n```\n\n> Если объявленный тип поля указан в [квадратных скобках], это массив указанного типа. Если после массива стоит восклицательный знак, массив не может быть нулевым, но может быть пустым.\n\nОбратите внимание, что поле missionPatch типа Mission принимает аргумент с именем size, который имеет тип перечисления PatchSize. Когда вы запрашиваете поле, которое принимает аргумент, значение поля может варьироваться в зависимости от предоставленного значения аргумента. В этом случае значение, которое вы указываете для размера, будет определять, какой размер связанного с миссией патча будет возвращен (SMALL размер или LARGE размер).\n\n## The Query type\nДля создания шблонов запроса необходимо использовать специальный тип __type Query__ \n``` \ntype Query {\n  launches: [Launch]!\n  launch(id: ID!): Launch\n  me: User\n}\n```\n\nЭтот тип определяет три доступных запроса для выполнения клиентом: launches, launch и me.\n\n- Запрос запусков (launches) вернет массив всех предстоящих запусков(Launch).\n- Запрос на запуск (launch) вернет один запуск (Launch), соответствующий аргументу id, указанному в запросе.\n- Запрос me вернет сведения о пользователе, который в настоящее время вошел в систему.\n\n## The Mutation type\nЧтобы клиенты могли изменять данные, наша схема должна определять мутации.\nТип Mutation - это особый тип, который по структуре похож на тип Query. \n```\ntype Mutation {\n  bookTrips(launchIds: [ID]!): TripUpdateResponse!\n  cancelTrip(launchId: ID!): TripUpdateResponse!\n  login(email: String): User\n}\n```\n\nЭтот тип Mutation определяет три доступные мутации для выполнения клиентами: bookTrips, cancelTrip и login.\n\n- Мутация bookTrips позволяет пользователю, вошедшему в систему, забронировать поездку на один или несколько запусков (заданных массивом идентификаторов запусков).\n- Мутация cancelTrip позволяет вошедшему в систему пользователю отменить поездку, которую он ранее забронировал.\n- Мутация login позволяет пользователю войти в систему, указав свой адрес электронной почты.\n\nМутации bookTrips и cancelTrip возвращают один и тот же тип объекта: TripUpdateResponse. Тип возвращаемого значения мутации полностью зависит от вас, но мы рекомендуем определять специальные типы объектов специально для ответов на мутацию.\n\nДобавьте определение TripUpdateResponse в свою схему:\n```\ntype TripUpdateResponse {\n  success: Boolean!\n  message: String\n  launches: [Launch]\n}\n```\n\nЭтот тип ответа содержит статус успеха, соответствующее сообщение и массив любых запусков, которые были изменены мутацией. Хорошая практика для мутации - возвращать те объекты, которые она изменяет, чтобы запрашивающий клиент мог обновить свой кеш и пользовательский интерфейс без необходимости выполнять последующий запрос.",
        "message": "",
        "created": "2021-08-21T09:51:29.452Z",
        "creators": [
          {
            "id": "b0568c88-bb34-4420-969e-41238089a0d4",
            "uniqueName": "google#113467622262670857280",
            "displayName": "Alexander Matviienko",
            "createdAt": "2021-05-10T19:50:11.968Z",
            "updatedAt": "2021-05-10T19:50:31.732Z"
          }
        ]
      }
    },
    {
      "id": "7e4e6fe8-6fc4-4645-834a-97c311fa8d1a",
      "emoji": null,
      "title": "next custom server",
      "content": "",
      "headId": 1021577,
      "archivedAt": null,
      "folderPathname": "/NextJS/Курс",
      "parentFolderId": "65ce1184-1e63-498f-a8c0-885a01c55ad5",
      "teamId": "nhFMY3a5g",
      "generated": false,
      "createdAt": "2021-08-15T13:22:05.705Z",
      "updatedAt": "2021-09-28T16:29:03.114Z",
      "version": 4,
      "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
      "workspaceId": "a26b69f4-c521-4719-9766-2da1c713b767",
      "head": {
        "id": 1021577,
        "docId": "7e4e6fe8-6fc4-4645-834a-97c311fa8d1a",
        "content": "Как я понимаю эта штука понадобится для работы с GraphQl и Apollo \n1. В корне создаем павпку server а в ней класический index.js и в него запихиваем следующий код\n\n``` js\n\nconst express = require('express')\nconst next = require('next')\n\nconst port = parseInt(process.env.PORT, 10) || 3000\nconst dev = process.env.NODE_ENV !== 'production'\nconst app = next({ dev })\nconst handle = app.getRequestHandler()\n\napp.prepare().then(() => {\n  const server = express()\n\n  server.all('*', (req, res) => {\n    return handle(req, res)\n  })\n\n  server.listen(port, (err) => {\n    if (err) throw err\n    console.log(`> Ready on http://localhost:${port}`)\n  })\n})\n```\n\n2. Идем в packeg.json и внем устанавливаем следующий код запуска серерва \n\n``` js\n    \"dev\": \"node server/index.js\",\n```\nвместо стандартного. И все после запуска этого смервака именно он будет отдавать нам страницы.",
        "message": "",
        "created": "2021-08-15T13:25:49.059Z",
        "creators": [
          {
            "id": "b0568c88-bb34-4420-969e-41238089a0d4",
            "uniqueName": "google#113467622262670857280",
            "displayName": "Alexander Matviienko",
            "createdAt": "2021-05-10T19:50:11.968Z",
            "updatedAt": "2021-05-10T19:50:31.732Z"
          }
        ]
      }
    },
    {
      "id": "4fa32559-4ecd-4385-abb6-65fd7fcea7b6",
      "emoji": null,
      "title": "_app.js особености",
      "content": "",
      "headId": 1021443,
      "archivedAt": null,
      "folderPathname": "/NextJS/Курс",
      "parentFolderId": "65ce1184-1e63-498f-a8c0-885a01c55ad5",
      "teamId": "nhFMY3a5g",
      "generated": false,
      "createdAt": "2021-08-15T11:26:39.330Z",
      "updatedAt": "2021-09-28T16:29:03.114Z",
      "version": 6,
      "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
      "workspaceId": "a26b69f4-c521-4719-9766-2da1c713b767",
      "head": {
        "id": 1021443,
        "docId": "4fa32559-4ecd-4385-abb6-65fd7fcea7b6",
        "content": "_app.js Корневой так сказать компонент Next что то вроде класической App.js в React только по навороченне об этих наворотах мы тут и поговорим.\n\n### Условный рендеринг \nЧерез _app.js рендарятся любы страницы (компоненты) доступ к ним можно получить через одноименное свойство _app.js и допустим менять рендерит одни компоненты в зависимости от других.\n``` js\nfunction MyApp({ Component, pageProps }) {\n\n  return (\n    <>\n      <Navbar/>\n      <div className='container'>\n        {Component.name === 'Home' && <Hero/>}\n        <Component {...pageProps} />\n      </div>\n    </>\n  )\n}\n```\n### Пример получения пропсов\n\n``` js\nfunction MyApp({ Component, pageProps }) {\n\n  return (\n    <>\n      <Navbar/>\n      {pageProps.appData}\n      <div className='container'>\n        {Component.name === 'Home' && <Hero/>}\n        <Component {...pageProps} />\n      </div>\n    </>\n  )\n}\n\nMyApp.getInitialProps = () => {\n  return {pageProps: {appData: 'Hello _App Component'}}\n}\n```\n\n### Получение всех пропсов \n\n``` js\nimport App from \"next/app\";\nimport Hero from \"components/shared/Hero\";\n\nfunction MyApp({ Component, pageProps }) {\n\n  return (\n    <>\n    // Вытягиваем полученные ранее пропсы\n      {pageProps.appData}\n      <div className='container'>\n        {Component.name === 'Home' && <Hero/>}\n        <Component {...pageProps} />\n      </div>\n    </>\n  )\n}\n// Получаем конткест  \nMyApp.getInitialProps = async (context) => {\n  // Вытягиваем с контекста все пропсы \n  const initialProps = App.getInitialProps && await App.getInitialProps(context);\n  console.log(initialProps)\n  // Спокойно можем их передать в MyApp component\n  return {pageProps: {appData: 'Hello _App Component', ...initialProps}}\n}\n\nexport default MyApp\n\n```",
        "message": "",
        "created": "2021-08-15T11:52:45.899Z",
        "creators": [
          {
            "id": "b0568c88-bb34-4420-969e-41238089a0d4",
            "uniqueName": "google#113467622262670857280",
            "displayName": "Alexander Matviienko",
            "createdAt": "2021-05-10T19:50:11.968Z",
            "updatedAt": "2021-05-10T19:50:31.732Z"
          }
        ]
      }
    },
    {
      "id": "d0158db8-654d-4ff2-acf2-54fd651754a9",
      "emoji": null,
      "title": "абсолютный импорт",
      "content": "",
      "headId": 1021386,
      "archivedAt": null,
      "folderPathname": "/NextJS/Курс",
      "parentFolderId": "65ce1184-1e63-498f-a8c0-885a01c55ad5",
      "teamId": "nhFMY3a5g",
      "generated": false,
      "createdAt": "2021-08-15T11:09:54.739Z",
      "updatedAt": "2021-09-28T16:29:03.114Z",
      "version": 3,
      "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
      "workspaceId": "a26b69f4-c521-4719-9766-2da1c713b767",
      "head": {
        "id": 1021386,
        "docId": "d0158db8-654d-4ff2-acf2-54fd651754a9",
        "content": "Вместо того что бы в импортах плодить точки до корня проекта можно от этого избавится. Понятнее будет на примере\n\n1. Создаем tsconfig.json / jsconfig.json и вних указываем следующие\n\n``` js\n{\n  \"compilerOptions\": {\n    \"baseUrl\": \".\"\n  }\n}\n```\n\nПараметр конфигурации baseUrl позволяет импортировать прямо из корня проекта.\n\n2. И теперь у нас выходит следующие \n\n``` js\nimport React from \"react\";\n// Вместо \nimport Navbar from \"../../../components/shared/Navbar\";\n// Получается \nimport Navbar from \"components/shared/Navbar\";\n\nconst Topics = () => {\n  return (\n    <>\n      <Navbar/>\n    </>\n  );\n};\n\nexport default Topics;\n```",
        "message": "",
        "created": "2021-08-15T11:12:54.426Z",
        "creators": [
          {
            "id": "b0568c88-bb34-4420-969e-41238089a0d4",
            "uniqueName": "google#113467622262670857280",
            "displayName": "Alexander Matviienko",
            "createdAt": "2021-05-10T19:50:11.968Z",
            "updatedAt": "2021-05-10T19:50:31.732Z"
          }
        ]
      }
    },
    {
      "id": "dbacd749-54f5-42d2-b6d1-39435ac6d178",
      "emoji": null,
      "title": "getInitialProps",
      "content": "",
      "headId": 1021423,
      "archivedAt": null,
      "folderPathname": "/NextJS/Курс",
      "parentFolderId": "65ce1184-1e63-498f-a8c0-885a01c55ad5",
      "teamId": "nhFMY3a5g",
      "generated": false,
      "createdAt": "2021-08-15T10:38:03.129Z",
      "updatedAt": "2021-09-28T16:29:03.114Z",
      "version": 8,
      "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
      "workspaceId": "a26b69f4-c521-4719-9766-2da1c713b767",
      "head": {
        "id": 1021423,
        "docId": "dbacd749-54f5-42d2-b6d1-39435ac6d178",
        "content": "getInitialProps включает рендеринг на стороне сервера и позволяет выполнять начальное заполнение данных, то есть отправку страницы с данными, уже заполненными с сервера. Это особенно полезно для SEO. getInitialProps отключит автоматическую статическую оптимизацию. getInitialProps - это асинхронная функция, которую можно добавить на любую страницу как статический метод. Взгляните на следующий пример:\n\n```js\n// 3. Получаем его в компоненте\nconst PortfolioDetail = ({query}) => {\n  // 4. Достаем из него тело запроса\n  const {slug} = query\n  return (\n    // 5. И используем его при рендеринге\n    <h1>I am Detail Page with ID: {slug}</h1>\n  );\n};\n//1. Достаем дингамический запрос из адресной строки\nPortfolioDetail.getInitialProps = ({query}) => {\n  //2. Возвращаем его \n  return {query}\n}\n\n    export default PortfolioDetail;\n```\nКак видим основной смысл таков что в getInitialProps мы совершаем определнные операции, далле то что мы возвращаем можно получить в props компонента и уже использовать надлежащим образом. \n\n\n## Асинхронное получение данных\n\n```js\n// Смысл этой функции в том что бы эмитировать получение данных с сервера (как всегда с задержкой)\nconst apiCall = () => {\n  return new Promise((res, rej) => {\n    setTimeout(() => {\n      res({testingData: 'Just some testing Data'})\n    }, 200)\n  })\n}\n\nconst Portfolios = (props) => {\n  return (\n    <>\n      {props.testingData}\n        <section className=\"section-title\">\n          <div className=\"px-2\">\n            <div className=\"pt-5 pb-4\">\n              <h1>Portfolios</h1>\n            </div>\n          </div>\n        </section>\n    </>\n  );\n};\n// Тут пример получения этих данных \nPortfolios.getInitialProps = async () => {\n  const data = await apiCall()\n  return {...data}\n}\n\nexport default Portfolios;\n```",
        "message": "",
        "created": "2021-08-15T11:41:04.088Z",
        "creators": [
          {
            "id": "b0568c88-bb34-4420-969e-41238089a0d4",
            "uniqueName": "google#113467622262670857280",
            "displayName": "Alexander Matviienko",
            "createdAt": "2021-05-10T19:50:11.968Z",
            "updatedAt": "2021-05-10T19:50:31.732Z"
          }
        ]
      }
    },
    {
      "id": "28360013-f2d9-437f-9d03-64517672b883",
      "emoji": null,
      "title": "Получение параметров из запросов",
      "content": "",
      "headId": 1021324,
      "archivedAt": null,
      "folderPathname": "/NextJS/Курс",
      "parentFolderId": "65ce1184-1e63-498f-a8c0-885a01c55ad5",
      "teamId": "nhFMY3a5g",
      "generated": false,
      "createdAt": "2021-08-15T10:34:05.838Z",
      "updatedAt": "2021-09-28T16:29:03.114Z",
      "version": 4,
      "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
      "workspaceId": "a26b69f4-c521-4719-9766-2da1c713b767",
      "head": {
        "id": 1021324,
        "docId": "28360013-f2d9-437f-9d03-64517672b883",
        "content": "  Для того что бы сделать адресс запроса динамическим достаточно создать файл с квадратными скобками. \n  \n![dynamic-query.png](https://boostnote.io/api/teams/nhFMY3a5g/files/2b5afef371e84f6562126cd17591b4ab336aa189849afa03d954a887eec918ca-dynamic-query.png)\n\n  Таким образом можно выстроить запрос по типу такого __https://localhost:3000/portfolio/12123323__ Где последняя часть может быть любым значение которое можно получитть при помощи __useRouter__ Как в примере ниже\n  \n``` js\nconst PortfolioDetail = () => {\n  // Импортируем хук\n  const router = useRouter()\n  // Достаем из запроса свойство\n  const slug = router.query.slug\n\n  return (\n    <h1>I am Detail Page with ID: {slug}</h1>\n  );\n};\n```",
        "message": "",
        "created": "2021-08-15T10:38:05.209Z",
        "creators": [
          {
            "id": "b0568c88-bb34-4420-969e-41238089a0d4",
            "uniqueName": "google#113467622262670857280",
            "displayName": "Alexander Matviienko",
            "createdAt": "2021-05-10T19:50:11.968Z",
            "updatedAt": "2021-05-10T19:50:31.732Z"
          }
        ]
      }
    },
    {
      "id": "d60fc813-f4fe-454c-87eb-5e81cb11f959",
      "emoji": null,
      "title": "flex layout",
      "content": "",
      "headId": 1012001,
      "archivedAt": null,
      "folderPathname": "/Upify/Metronic",
      "parentFolderId": "bd8504ff-c883-416e-a6ff-47ea6b10101e",
      "teamId": "nhFMY3a5g",
      "generated": false,
      "createdAt": "2021-08-12T15:49:05.267Z",
      "updatedAt": "2021-08-12T16:00:54.736Z",
      "version": 7,
      "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
      "workspaceId": "4ae225f9-123d-4918-a49f-e0c91bd0b18a",
      "head": {
        "id": 1012001,
        "docId": "d60fc813-f4fe-454c-87eb-5e81cb11f959",
        "content": "Принцпы работы с флексами в метрикс. Тут пойдет речь о том что в метрикс уже предусмотрен готовый функционал для работы с флексами. О чем идет речь станет более понятно дальше.\n\n\nИспользуйте удобные настраиваемые флекс-классф для создания вложенных макетов с фиксированными и гибкими столбцами. \nКлассы именуются в формате flex-{свойство} для xs (для свойств начинающихся с ширины экрана 0px) и \nflex-{breakpoin}-{свойство} для sm, md, lg, xl и xxl.\n\nГде свойство является одним из:\n- root - для определения корневого узла гибкого макета (обычно он используется, когда макет размещается как прямой дочерний элемент основного элемента, чтобы полностью занять высоту окна, (то есть обертака всей страницы где я далее буду строить макет))\n- column-auto - для установки столбца с автоматической высотой \n- column-fluid - для установки колонки с высотой жидкости (адаптируется под высоту экрана)\n- row-auto - установить столбец с автоматической шириной \n- row-fluid - для установки столбца с жидкой (адаптируется под ширину экрана) шириной  \n- сenter - для установки содержимого столбца по вертикали и горизонтали по центру (типо justify-content & align-items center)",
        "message": "",
        "created": "2021-08-12T16:00:54.727Z",
        "creators": [
          {
            "id": "b0568c88-bb34-4420-969e-41238089a0d4",
            "uniqueName": "google#113467622262670857280",
            "displayName": "Alexander Matviienko",
            "createdAt": "2021-05-10T19:50:11.968Z",
            "updatedAt": "2021-05-10T19:50:31.732Z"
          }
        ]
      }
    },
    {
      "id": "787897b3-d0cc-4a59-ac50-2d9f8d0b764a",
      "emoji": null,
      "title": "Построение компонентов",
      "content": "",
      "headId": 1011717,
      "archivedAt": null,
      "folderPathname": "/Upify/Metronic/Особености работы в Next,js",
      "parentFolderId": "3d8b56b7-28e4-48ad-825f-a900a6b38077",
      "teamId": "nhFMY3a5g",
      "generated": false,
      "createdAt": "2021-08-12T14:58:05.418Z",
      "updatedAt": "2021-08-12T14:59:47.872Z",
      "version": 2,
      "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
      "workspaceId": "4ae225f9-123d-4918-a49f-e0c91bd0b18a",
      "head": {
        "id": 1011717,
        "docId": "787897b3-d0cc-4a59-ac50-2d9f8d0b764a",
        "content": "Компоненты страниц строю в прямо в src без app и index metronics и кидаю прямо в страницы в папке pages",
        "message": "",
        "created": "2021-08-12T14:59:47.863Z",
        "creators": [
          {
            "id": "b0568c88-bb34-4420-969e-41238089a0d4",
            "uniqueName": "google#113467622262670857280",
            "displayName": "Alexander Matviienko",
            "createdAt": "2021-05-10T19:50:11.968Z",
            "updatedAt": "2021-05-10T19:50:31.732Z"
          }
        ]
      }
    },
    {
      "id": "1e1b49c3-8fbc-4152-ad26-24335fef5c2d",
      "emoji": null,
      "title": "bootstrap-js",
      "content": "",
      "headId": 1011701,
      "archivedAt": null,
      "folderPathname": "/Upify/Metronic/Особености работы в Next,js",
      "parentFolderId": "3d8b56b7-28e4-48ad-825f-a900a6b38077",
      "teamId": "nhFMY3a5g",
      "generated": false,
      "createdAt": "2021-08-12T14:44:20.357Z",
      "updatedAt": "2021-08-12T14:56:38.485Z",
      "version": 7,
      "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
      "workspaceId": "4ae225f9-123d-4918-a49f-e0c91bd0b18a",
      "head": {
        "id": 1011701,
        "docId": "1e1b49c3-8fbc-4152-ad26-24335fef5c2d",
        "content": "Metronic построен на bootstrap поэтому для работы многих компонентов необходим bootstrap-js. Но с его подключением не так все просто, так как для его работы необходим доступ к компонентам которые может дать тоько браузер, а в Next компоненты часто рендарятся на серваке. И так как пропихнуть js bootsrap в компоненты.\n\nНа данный момент подключение у меня работает по такому принципу. \n\n```js\nfunction MyApp({ Component, pageProps }: AppProps) {\n  useEffect(() => {\n    typeof document !== undefined ? require('bootstrap') : null\n  }, [])\n\n  return (\n      <Component {...pageProps} />\n  )\n}\n```\n\nТо есть в момент загрузки компонента я получается и подгружаю bootstrap.\n\nСамый прикол тут закючается тут в том что useEffect по ходу дела дает мне возможность выгодно подключать компоненты(или другой код), который должен работать в клиента (не смотря на то что он рендерится на сервер). Это дает мне определенныую свободу. \n\n## Вывод\nЕсли мне надо подключить какуб то js фигню в апку то это офигенно выгодно делать через useEffect\n\n",
        "message": "",
        "created": "2021-08-12T14:56:38.466Z",
        "creators": [
          {
            "id": "b0568c88-bb34-4420-969e-41238089a0d4",
            "uniqueName": "google#113467622262670857280",
            "displayName": "Alexander Matviienko",
            "createdAt": "2021-05-10T19:50:11.968Z",
            "updatedAt": "2021-05-10T19:50:31.732Z"
          }
        ]
      }
    },
    {
      "id": "d1fea1dc-3df2-4cc6-940f-b067eec2355c",
      "emoji": null,
      "title": "Принцыпы работы с next",
      "content": "",
      "headId": 1011632,
      "archivedAt": null,
      "folderPathname": "/Upify/Metronic",
      "parentFolderId": "bd8504ff-c883-416e-a6ff-47ea6b10101e",
      "teamId": "nhFMY3a5g",
      "generated": false,
      "createdAt": "2021-08-11T10:25:14.642Z",
      "updatedAt": "2021-08-12T14:44:33.687Z",
      "version": 8,
      "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
      "workspaceId": "4ae225f9-123d-4918-a49f-e0c91bd0b18a",
      "head": {
        "id": 1011632,
        "docId": "d1fea1dc-3df2-4cc6-940f-b067eec2355c",
        "content": "Прежде всего метроник расчитан для работы с реактом, но некст это не совсем реакт так что моментами можно натолкнутся на неприятные проблемы. Ниже приведен список этих проблем и способы их решения.\n\n### 1. SCSS и CSS \nМетроник использует непосредственно подключение SCSS  к компонентам в нексте этот механизм реализован чуть иначе и ему желательно работать с css. Поэтому при установке метроника на новый проект следут подключить компилятор (я использую шторм компилятор) и компилить файлы в папку styles в корне и оттуда подкл.чать их в файл _app.tsx.\n\n### 2. Роутинг\nMetronic использует react-router в next для этого придумана своя система, так что при подключении нового компонента, если в нем используется какой либо из механизмов роутинга то это неизбежно ведет к ошибке. \nНо в нексте есть альтернативные методы так что вся задача сводится к тому что бы заменить код react-router на next.js К примеру useLocation меняется на useRouter. А Link используется можно сказать так же, только вместо __to__ используется __href__ и так же обязательно внутри использовать тег __a__. \n\nА вместо работы __Route__ в next необходимо создавать папку с именем страницы и там уже делать весь сырбор. \nЯ думаю все будет сводится к тому что в __pages__ будет роутинг а в src сами компоненты\n\n### 3. SPA \nMetronic пригоден для React-a который создает SPA приложения, меня же это устраивает не совсем. Так как некоторые страницы мне необходимо генерировать на сервере. Тут конечно надо будет поплясать.\n\n\n",
        "message": "",
        "created": "2021-08-12T14:44:33.677Z",
        "creators": [
          {
            "id": "b0568c88-bb34-4420-969e-41238089a0d4",
            "uniqueName": "google#113467622262670857280",
            "displayName": "Alexander Matviienko",
            "createdAt": "2021-05-10T19:50:11.968Z",
            "updatedAt": "2021-05-10T19:50:31.732Z"
          }
        ]
      }
    },
    {
      "id": "f95b69f8-48ca-4396-b3a1-97656a6cf2cd",
      "emoji": null,
      "title": "Со статическими",
      "content": "",
      "headId": 998182,
      "archivedAt": null,
      "folderPathname": "/NextJS/SSG",
      "parentFolderId": "fcfaee25-9535-46ce-85cf-4bda1ef7937d",
      "teamId": "nhFMY3a5g",
      "generated": false,
      "createdAt": "2021-08-10T19:25:04.163Z",
      "updatedAt": "2021-09-28T16:29:03.114Z",
      "version": 3,
      "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
      "workspaceId": "a26b69f4-c521-4719-9766-2da1c713b767",
      "head": {
        "id": 998182,
        "docId": "f95b69f8-48ca-4396-b3a1-97656a6cf2cd",
        "content": "``` js\n// Деплой проекат\n// npm run build\n// npm run export\n// И запускаем експортированный сервак с получнной после последней команды папки out\n// npx serve out/\nimport styles from '../styles/Home.module.css'\nimport Link from \"next/link\";\nimport fs from \"fs\";\n\nconst Home = ({slugs}) => {\n  return (\n    <div>\n      slugs:\n      {/*{Развворачиваем массив ссылок состоящий их интерисующих нас файлов*/}\n        { slugs.map(slug => (\n            <div key={slug}>\n                <Link href={\"/blog/\" + slug}>\n                    <a>\n                        {\"/blog/\" + slug}\n                    </a>\n                </Link>\n            </div>\n        ))\n      }\n    </div>\n  )\n}\n// Пример использования getStaticProps на компоненте переход\n// на который совершается по статическому адресу\nexport const getStaticProps = async () => {\n    // Читаем содержимое папки\n    const files = fs.readdirSync(\"posts\")\n\n    return{\n        props: {\n            // Передаем полученный массив содержимого интерисующих нас файлов\n            slugs: files.map(filename => filename.replace('.md', ''))\n        }\n    }\n}\n\nexport default Home\n```",
        "message": "",
        "created": "2021-08-10T19:25:34.030Z",
        "creators": [
          {
            "id": "b0568c88-bb34-4420-969e-41238089a0d4",
            "uniqueName": "google#113467622262670857280",
            "displayName": "Alexander Matviienko",
            "createdAt": "2021-05-10T19:50:11.968Z",
            "updatedAt": "2021-05-10T19:50:31.732Z"
          }
        ]
      }
    },
    {
      "id": "c9594fcb-6301-4810-b8e5-6dbe07208341",
      "emoji": null,
      "title": "С динамическими ссылками",
      "content": "",
      "headId": 998223,
      "archivedAt": null,
      "folderPathname": "/NextJS/SSG",
      "parentFolderId": "fcfaee25-9535-46ce-85cf-4bda1ef7937d",
      "teamId": "nhFMY3a5g",
      "generated": false,
      "createdAt": "2021-08-10T19:23:46.074Z",
      "updatedAt": "2021-09-28T16:29:03.114Z",
      "version": 6,
      "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
      "workspaceId": "a26b69f4-c521-4719-9766-2da1c713b767",
      "head": {
        "id": 998223,
        "docId": "c9594fcb-6301-4810-b8e5-6dbe07208341",
        "content": "```js\n//Само использование этих функций дает понять что надо отдавать эту страницу как ssg\nimport React from 'react';\n// Данная штука помогает работать с файлами на серваке\nimport fs from 'fs'\nimport * as path from \"path\";\nimport matter from 'gray-matter'\nimport Head from \"next/head\";\nimport marked from \"marked\";\n// Компонент который принимает в себя данные которые будут тут зардкодится\nconst Post = ({htmlString, data}) => {\n    return (\n        <>\n            {/*Таким образом мы можем интегрировать различную инфу в head*/}\n            <Head>\n                <title>\n                    {data.title}\n                </title>\n            </Head>\n            {/*А эта волшебная конструкция помогает интегрировать html (типо innerHtml)*/}\n          <div dangerouslySetInnerHTML={{__html: htmlString}} />\n        </>\n\n    );\n};\n// Если страница имеет динамические маршруты и использует getStaticPropsее,\n// необходимо определить список путей, которые должны быть отображены в HTML во время сборки.\n// тут мы список путей определим исходя из файлов которые есть в папке постов\nexport const getStaticPaths = async () => {\n//Получаю массив файлов содержимое которых собираюсь выводить\n    const files = fs.readdirSync('posts')\n    console.log('files: ', files)\n    //Тут я с этого массива делаю масив объектов где я в результате записываю\n    //название файла уже без префикса\n    const paths = files.map(filename => ({\n        params: {\n            //В путях нам перфиксы не к чему\n            slug: filename.replace('.md', '')\n        }\n    }))\n    console.log('paths: ', paths)\n    return {\n        // Определив наши пути, я их возвращаю\n        paths,\n        //Если fallback = false, то какие - либо пути не возвращаемый getStaticPaths приведет к 404 странице\n        fallback: false\n    }\n}\n\n// Получаем данные для закидывания в компонент для статической отрисовки\n// если к компоненту ведет динамический маршрут тогда список путей\n// необходимо заложить через getStaticPaths которая описана выше\nexport const getStaticProps = async ({params: {slug}}) => {\n    // posts/faq.md\n    // Получаем содержимое файла путем указания папки и самого файла и далее трансформируем это в строку\n    const markdownWithMetadata = fs.readFileSync(path.join('posts', slug + '.md')).toString()\n    // Преобразуем содержимое текста в yaml тип с которого потом мы можем вытягивать данные\n    const parsedMarkdown = matter(markdownWithMetadata)\n    // Преобразуем markdown в html\n    const htmlString = marked(parsedMarkdown.content)\n    //Пакуем жто дело в пропсы которые после будут передавтся в компонент\n    return {\n        props: {\n            // Вытягиваем данные полученнае с файлв и пропарсеные в yaml\n            htmlString,\n            data: parsedMarkdown.data\n        }\n    }\n}\n\nexport default Post;\n```",
        "message": "",
        "created": "2021-08-10T19:25:58.753Z",
        "creators": [
          {
            "id": "b0568c88-bb34-4420-969e-41238089a0d4",
            "uniqueName": "google#113467622262670857280",
            "displayName": "Alexander Matviienko",
            "createdAt": "2021-05-10T19:50:11.968Z",
            "updatedAt": "2021-05-10T19:50:31.732Z"
          }
        ]
      }
    },
    {
      "id": "cdc94017-758c-4654-acac-eb5f3fed67bb",
      "emoji": null,
      "title": "Типы полей в схемах",
      "content": "",
      "headId": 995221,
      "archivedAt": null,
      "folderPathname": "/React/Apollo/ApolloServer",
      "parentFolderId": "44d02e89-355e-45b1-8d30-1b0a89fea861",
      "teamId": "nhFMY3a5g",
      "generated": false,
      "createdAt": "2021-08-10T07:05:50.336Z",
      "updatedAt": "2021-08-10T07:07:31.324Z",
      "version": 2,
      "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
      "workspaceId": "4ae225f9-123d-4918-a49f-e0c91bd0b18a",
      "head": {
        "id": 995221,
        "docId": "cdc94017-758c-4654-acac-eb5f3fed67bb",
        "content": "GraphQL поставляется с набором скалярных типов по умолчанию из коробки:\n\nInt: числа.\nFloat: числа с плавающей запятой.\nString: строки.\nBoolean: true или false.\nID: Скалярный тип ID представляет собой уникальный идентификатор, часто используемый для повторной выборки объекта или в качестве ключа для кеша. Тип ID сериализуется так же, как String; однако определение его как идентификатора означает, что он не предназначен для чтения человеком.",
        "message": "",
        "created": "2021-08-10T07:07:31.274Z",
        "creators": [
          {
            "id": "b0568c88-bb34-4420-969e-41238089a0d4",
            "uniqueName": "google#113467622262670857280",
            "displayName": "Alexander Matviienko",
            "createdAt": "2021-05-10T19:50:11.968Z",
            "updatedAt": "2021-05-10T19:50:31.732Z"
          }
        ]
      }
    },
    {
      "id": "ae045bb7-77ba-4353-8d65-3c6b333c4ec8",
      "emoji": null,
      "title": "ApolloServer",
      "content": "",
      "headId": 995327,
      "archivedAt": null,
      "folderPathname": "/React/Apollo/ApolloServer",
      "parentFolderId": "44d02e89-355e-45b1-8d30-1b0a89fea861",
      "teamId": "nhFMY3a5g",
      "generated": false,
      "createdAt": "2021-08-10T06:53:33.616Z",
      "updatedAt": "2021-08-10T07:23:11.216Z",
      "version": 13,
      "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
      "workspaceId": "4ae225f9-123d-4918-a49f-e0c91bd0b18a",
      "head": {
        "id": 995327,
        "docId": "ae045bb7-77ba-4353-8d65-3c6b333c4ec8",
        "content": "Среда эмулирующая работу сервера для тестирования запросов с front-end.\n\n## Начало работы\n\n1. Установка зависимостей в проект ```npm install apollo-server graphql```\n2. Создать файл index.js в котором и будет размещатся наш код\n\n## Определите схему GraphQL\n\nКаждый сервер GraphQL (включая Apollo Server) использует схему для определения структуры данных, которые могут запрашивать клиенты. В этом примере мы создадим сервер для запроса коллекции книг по названию и автору.\n\n```js\nconst { ApolloServer, gql } = require('apollo-server');\n\n// Схема - это набор типов (отсюда «typeDefs»).\n// которые определяют \"форму\" запросов, которые выполняются c фронта\nconst typeDefs = gql`\n  # Комментарии в строках GraphQL (например, этот) начинаются с символа решетки (#).\n\n  # Этот тип «Book» определяет поля, доступные для запроса, для каждой книги в нашем источнике данных.\n  type Book {\n    title: String\n    author: String\n  }\n\n  # Тип «Запрос» особенный: он перечисляет все доступные запросы, которые\n   # клиент может выполнять, вместе с типом возвращаемого значения для каждого. В этом\n   # примере, запрос \"books\" возвращает массив из нуля или более Книг (определенных выше).\n  type Query {\n    books: [Book]\n  }\n`;\n```\n\n## Определите свой набор данных\nТеперь, когда мы определили структуру наших данных, мы можем определить сами данные. Apollo Server может получать данные из любого источника, к которому вы подключаетесь (включая базу данных, REST API, службу хранения статических объектов или даже другой сервер GraphQL). Для целей этого руководства мы просто жестко закодируем некоторые примерные данные.\n\n```js\nconst books = [\n  {\n    title: 'The Awakening',\n    author: 'Kate Chopin',\n  },\n  {\n    title: 'City of Glass',\n    author: 'Paul Auster',\n  },\n];\n```\n\n## Определите преобразователь (resolver)\nМы определили наш набор данных, но Apollo Server не знает, что он должен использовать этот набор данных при выполнении запроса. Чтобы исправить это, мы создаем резольвер. Резолверы сообщают Apollo Server, как получать данные, связанные с определенным типом. Поскольку наш массив Book жестко запрограммирован, соответствующий преобразователь прост. \n\nДобавьте в конец index.js следующее:\n\n```js\n// Резольверы определяют метод выборки типов, определенных в схеме. \n// Этот преобразователь извлекает книги из массива \"books\" выше.\n\nconst resolvers = {\n  Query: {\n    books: () => books,\n  },\n};\n```\n\n## Создайте экземпляр ApolloServer\nМы определили нашу схему, набор данных и преобразователь. Теперь нам просто нужно предоставить эту информацию Apollo Server при его инициализации. \n\nДобавьте в конец index.js следующее:\n```js\n// Конструктору ApolloServer требуются два параметра: ваше \n// определение схемы и ваш набор преобразователей.\nconst server = new ApolloServer({ typeDefs, resolvers });\n\n// Метод listen запускает веб-сервер.\nserver.listen().then(({ url }) => {\n  console.log(`🚀  Server ready at ${url}`);\n});\n```\n\n## Выполните свой первый запрос\nТеперь мы можем выполнять запросы GraphQL на нашем сервере. Чтобы выполнить наш первый запрос, мы можем использовать Apollo Sandbox. Посетите __http://localhost:4000__ в своем браузере. Появится целевая страница Apollo Server по умолчанию.\n\nЩелкните __Query your server__, чтобы открыть песочницу.\n\nПользовательский интерфейс песочницы включает: \n- Панель операций для написания и выполнения запросов (посередине) \n- Панель ответа для просмотра результатов запроса (справа) \n- Вкладки для исследования схемы, поиска и настроек (слева) \n- Панель URL для подключения к другим серверам GraphQL (в верхнем левом углу)\n\nНаш сервер поддерживает единый запрос с именем books. Выполним! Вот строка запроса GraphQL для выполнения запроса книг:\n\n```js\nquery GetBooks {\n  books {\n    title\n    author\n  }\n}\n```\n\nВставьте эту строку в панель «Операции» и нажмите синюю кнопку в правом верхнем углу. Результаты (из нашего набора жестко закодированных данных) появятся на панели ответа:",
        "message": "",
        "created": "2021-08-10T07:23:11.196Z",
        "creators": [
          {
            "id": "b0568c88-bb34-4420-969e-41238089a0d4",
            "uniqueName": "google#113467622262670857280",
            "displayName": "Alexander Matviienko",
            "createdAt": "2021-05-10T19:50:11.968Z",
            "updatedAt": "2021-05-10T19:50:31.732Z"
          }
        ]
      }
    },
    {
      "id": "0a6de390-dc9b-49bf-a715-68f00291f9de",
      "emoji": null,
      "title": "Feedbacks",
      "content": "",
      "headId": 979787,
      "archivedAt": null,
      "folderPathname": "/Tracking/Components/MerchantPanel/Feedbacks",
      "parentFolderId": "a8413013-817f-441a-9f7f-9ca14cf917ea",
      "teamId": "nhFMY3a5g",
      "generated": false,
      "createdAt": "2021-08-06T11:06:41.549Z",
      "updatedAt": "2021-08-06T11:17:13.703Z",
      "version": 3,
      "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
      "workspaceId": "309011fd-0b61-4b75-a6fe-a3a711e8a079",
      "head": {
        "id": 979787,
        "docId": "0a6de390-dc9b-49bf-a715-68f00291f9de",
        "content": "## Пожелания клиента\n### В оригинале\nUser can create feedback that will ask users about their website.\nIt can look something like this:\n![2021-08-06_14-04.png](https://boostnote.io/api/teams/nhFMY3a5g/files/52fc555006705f93091aaad8a61582dc051858aa9bee9644d31d8ec3976feabb-2021-08-06_14-04.png)\n\n\nShould display something like this in admin when feedback was given\n![2021-08-06_14-04_1.png](https://boostnote.io/api/teams/nhFMY3a5g/files/5188417da640cdade8f8c3435ed7ea7b0c705a2d6e72c9c0b8f0e95d3ff46493-2021-08-06_14-04_1.png)\n\n\nCreate feedback will be similar to hotjar & apazi.\n![2021-08-06_14-05.png](https://boostnote.io/api/teams/nhFMY3a5g/files/f94d6e2735386d609d58c197d2f2360f442a5f5c00295205174d72c3a25f99a4-2021-08-06_14-05.png)\n\n\n\n### В переводе\nПользователь может оставить отзыв, в котором будет спрашивать пользователей об их веб-сайте.\nЭто может выглядеть примерно так:\n![2021-08-06_14-04.png](https://boostnote.io/api/teams/nhFMY3a5g/files/52fc555006705f93091aaad8a61582dc051858aa9bee9644d31d8ec3976feabb-2021-08-06_14-04.png)\n\nДолжно отображаться что-то подобное в админке, когда был дан отзыв\n![2021-08-06_14-04_1.png](https://boostnote.io/api/teams/nhFMY3a5g/files/5188417da640cdade8f8c3435ed7ea7b0c705a2d6e72c9c0b8f0e95d3ff46493-2021-08-06_14-04_1.png)\n\nСоздание обратной связи будет аналогично hotjar & apazi.\n![2021-08-06_14-05.png](https://boostnote.io/api/teams/nhFMY3a5g/files/f94d6e2735386d609d58c197d2f2360f442a5f5c00295205174d72c3a25f99a4-2021-08-06_14-05.png)",
        "message": "",
        "created": "2021-08-06T11:10:06.565Z",
        "creators": [
          {
            "id": "b0568c88-bb34-4420-969e-41238089a0d4",
            "uniqueName": "google#113467622262670857280",
            "displayName": "Alexander Matviienko",
            "createdAt": "2021-05-10T19:50:11.968Z",
            "updatedAt": "2021-05-10T19:50:31.732Z"
          }
        ]
      }
    },
    {
      "id": "575647bd-8120-4d70-81b4-e62ad87a96a2",
      "emoji": null,
      "title": "Heatmaps",
      "content": "",
      "headId": 980274,
      "archivedAt": null,
      "folderPathname": "/Tracking/Components/MerchantPanel/Heatmaps",
      "parentFolderId": "bbb4ba3d-f1ad-4fe6-be81-b72f3fc53398",
      "teamId": "nhFMY3a5g",
      "generated": false,
      "createdAt": "2021-08-06T10:56:51.005Z",
      "updatedAt": "2021-08-06T12:17:36.664Z",
      "version": 5,
      "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
      "workspaceId": "309011fd-0b61-4b75-a6fe-a3a711e8a079",
      "head": {
        "id": 980274,
        "docId": "575647bd-8120-4d70-81b4-e62ad87a96a2",
        "content": "Ссылка: https://retter.upify.io/heatmaps\n\n## Пожелания клиента\n### В оригинале\nUser can create heatmaps.\nWhen heatmap is created user put name, selects if he to limit the pageciew in the heatmap or not. And which url he wants to heatmap.\n\nEach heatmap is for all devices, and can see via heatmap clicks, scrolls, and mouse moves ( where people look)\n\nUser can duplicate, edit, delete heatmaps.\nUser can retake screenshot of heatmap.\n\n### В переводе\nПользователь может создавать тепловые карты.Когда создается тепловая карта, пользователь вводит имя, выбирает, должен ли он ограничивать просмотр страницы на тепловой карте или нет. И какой URL он хочет отобразить.\n\nКаждая тепловая карта предназначена для всех устройств и может быть видна с помощью кликов, прокрутки и движений мыши (куда смотрят люди) тепловой карты.\n\nПользователь может дублировать, редактировать, удалять тепловые карты.\nПользователь может повторно сделать снимок экрана с тепловой картой.\n\n\n",
        "message": "",
        "created": "2021-08-06T12:17:36.655Z",
        "creators": [
          {
            "id": "b0568c88-bb34-4420-969e-41238089a0d4",
            "uniqueName": "google#113467622262670857280",
            "displayName": "Alexander Matviienko",
            "createdAt": "2021-05-10T19:50:11.968Z",
            "updatedAt": "2021-05-10T19:50:31.732Z"
          }
        ]
      }
    },
    {
      "id": "6956ab9d-9005-4195-925d-7f2efe81e74b",
      "emoji": null,
      "title": "Replays",
      "content": "",
      "headId": 979770,
      "archivedAt": null,
      "folderPathname": "/Tracking/Components/MerchantPanel/Replays",
      "parentFolderId": "ebacf164-1038-41b2-b00f-ae0ab859472e",
      "teamId": "nhFMY3a5g",
      "generated": false,
      "createdAt": "2021-08-06T10:56:41.388Z",
      "updatedAt": "2021-08-06T11:17:13.703Z",
      "version": 6,
      "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
      "workspaceId": "309011fd-0b61-4b75-a6fe-a3a711e8a079",
      "head": {
        "id": 979770,
        "docId": "6956ab9d-9005-4195-925d-7f2efe81e74b",
        "content": "Ссылка: https://retter.upify.io/replays\n\n## Пожелания клиента\n### В оригинале\nUser will able to see recording from his website.\nUser can filter by specific needs like land page, exit page, counties and more\n\nIt need to contain:\n- Play button\n- Duration\n- Landed Page\n- Exit Page\n- Events (how many events happened)\n- Pages (how many pages users saw)\n- Country\n- Date\n\nAlso should be displayed what actions he made in general all replay:\n![2021-08-06_14-03.png](https://boostnote.io/api/teams/nhFMY3a5g/files/4972395628d3d167b151e9fbfd49255f6aacc651c5c88af358bb85044b6d1977-2021-08-06_14-03.png)\n\n\n\n### В переводе\nПользователь сможет увидеть запись со своего сайта.\nПользователь может фильтровать по конкретным потребностям, таким как целевая страница, страница выхода, округа и т. Д.\n\nОн должен содержать:\n- Play button\n- Duration\n- Landed Page\n- Exit Page\n- Events (how many events happened)\n- Pages (how many pages users saw)\n- Country\n- Date\n\nТакже должно отображаться, какие действия он совершил в целом во всем воспроизведении:\n",
        "message": "",
        "created": "2021-08-06T11:04:30.195Z",
        "creators": [
          {
            "id": "b0568c88-bb34-4420-969e-41238089a0d4",
            "uniqueName": "google#113467622262670857280",
            "displayName": "Alexander Matviienko",
            "createdAt": "2021-05-10T19:50:11.968Z",
            "updatedAt": "2021-05-10T19:50:31.732Z"
          }
        ]
      }
    },
    {
      "id": "4d7e08a3-2e60-46e2-827e-4bcffbc2861e",
      "emoji": null,
      "title": "Dashboard",
      "content": "",
      "headId": 979750,
      "archivedAt": null,
      "folderPathname": "/Tracking/Components/MerchantPanel/Dashboard",
      "parentFolderId": "19c0d31b-86c1-4db9-8ccf-68e722e75182",
      "teamId": "nhFMY3a5g",
      "generated": false,
      "createdAt": "2021-08-06T10:56:26.659Z",
      "updatedAt": "2021-08-06T11:17:13.703Z",
      "version": 4,
      "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
      "workspaceId": "309011fd-0b61-4b75-a6fe-a3a711e8a079",
      "head": {
        "id": 979750,
        "docId": "4d7e08a3-2e60-46e2-827e-4bcffbc2861e",
        "content": "Ссылка: https://retter.upify.io/dashboard\n\n## Пожелания клиента\n### В оригинале\nShowing some general info, including tracking status, plan, and maybe how many pageviews + some announcements.\n\n### В переводе\nОтображение некоторой общей информации, включая статус отслеживания, план и, возможно, количество просмотров страниц + некоторые объявления.",
        "message": "",
        "created": "2021-08-06T10:59:03.901Z",
        "creators": [
          {
            "id": "b0568c88-bb34-4420-969e-41238089a0d4",
            "uniqueName": "google#113467622262670857280",
            "displayName": "Alexander Matviienko",
            "createdAt": "2021-05-10T19:50:11.968Z",
            "updatedAt": "2021-05-10T19:50:31.732Z"
          }
        ]
      }
    },
    {
      "id": "6e81c4bb-161f-4f99-b765-7f0c322a195a",
      "emoji": null,
      "title": "Settings",
      "content": "",
      "headId": 979745,
      "archivedAt": null,
      "folderPathname": "/Tracking/Components/AdminPanel/Settings",
      "parentFolderId": "16b2df89-5003-4d77-8d9b-d7e27e2bc7d6",
      "teamId": "nhFMY3a5g",
      "generated": false,
      "createdAt": "2021-08-06T10:56:11.110Z",
      "updatedAt": "2021-08-06T11:17:13.703Z",
      "version": 4,
      "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
      "workspaceId": "309011fd-0b61-4b75-a6fe-a3a711e8a079",
      "head": {
        "id": 979745,
        "docId": "6e81c4bb-161f-4f99-b765-7f0c322a195a",
        "content": "Ссылка: https://rettertest.upify.io/admin/plans\n\n## Пожелания клиента\n### В оригинале\nSo far the most important settings will be needed is:\n\nAnalytics\n\nEmail Settings:\nSetting regarding sendgrid email send.\n\n### В переводе\nПока что потребуются самые важные настройки:\n\n - Аналитика\n\n - Настройки электронной почты:\n   - Настройка отправки электронной почты sendgrid.\n",
        "message": "",
        "created": "2021-08-06T10:58:35.494Z",
        "creators": [
          {
            "id": "b0568c88-bb34-4420-969e-41238089a0d4",
            "uniqueName": "google#113467622262670857280",
            "displayName": "Alexander Matviienko",
            "createdAt": "2021-05-10T19:50:11.968Z",
            "updatedAt": "2021-05-10T19:50:31.732Z"
          }
        ]
      }
    },
    {
      "id": "f2991cc0-a640-4cb5-bd11-4427736990a2",
      "emoji": null,
      "title": "Plans",
      "content": "",
      "headId": 979741,
      "archivedAt": null,
      "folderPathname": "/Tracking/Components/AdminPanel/Plans",
      "parentFolderId": "83bece50-8c63-4c6f-a73e-ca74db175497",
      "teamId": "nhFMY3a5g",
      "generated": false,
      "createdAt": "2021-08-06T10:52:42.506Z",
      "updatedAt": "2021-08-06T11:17:13.703Z",
      "version": 6,
      "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
      "workspaceId": "309011fd-0b61-4b75-a6fe-a3a711e8a079",
      "head": {
        "id": 979741,
        "docId": "f2991cc0-a640-4cb5-bd11-4427736990a2",
        "content": "Ссылка: https://rettertest.upify.io/admin/plans\n\n## Пожелания клиента\n### В оригинале\nPlans Management where I can create plans for each platform we will have in the feature.\n\n### В переводе\nУправление планами, где я могу создавать планы для каждой платформы, которая будет в этой функции.",
        "message": "",
        "created": "2021-08-06T10:57:37.762Z",
        "creators": [
          {
            "id": "b0568c88-bb34-4420-969e-41238089a0d4",
            "uniqueName": "google#113467622262670857280",
            "displayName": "Alexander Matviienko",
            "createdAt": "2021-05-10T19:50:11.968Z",
            "updatedAt": "2021-05-10T19:50:31.732Z"
          }
        ]
      }
    },
    {
      "id": "03bcbab1-14be-4293-b2ba-d22b73b5565d",
      "emoji": null,
      "title": "Websites",
      "content": "",
      "headId": 979738,
      "archivedAt": null,
      "folderPathname": "/Tracking/Components/AdminPanel/Websites",
      "parentFolderId": "26f85fd3-2b84-4a06-beb3-5c60824a95a1",
      "teamId": "nhFMY3a5g",
      "generated": false,
      "createdAt": "2021-08-06T10:51:04.936Z",
      "updatedAt": "2021-08-06T11:17:13.703Z",
      "version": 6,
      "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
      "workspaceId": "309011fd-0b61-4b75-a6fe-a3a711e8a079",
      "head": {
        "id": 979738,
        "docId": "03bcbab1-14be-4293-b2ba-d22b73b5565d",
        "content": "Ссылка: https://rettertest.upify.io/admin/websites\n\n## Пожелания клиента\n### В оригинале\nWebsites Management where I can see general data of each web added and can delete it if needed.\n\n### В переводе\nУправление веб-сайтами, где я могу видеть общие данные о каждом добавленном веб-сайте и при необходимости удалять его.",
        "message": "",
        "created": "2021-08-06T10:57:13.196Z",
        "creators": [
          {
            "id": "b0568c88-bb34-4420-969e-41238089a0d4",
            "uniqueName": "google#113467622262670857280",
            "displayName": "Alexander Matviienko",
            "createdAt": "2021-05-10T19:50:11.968Z",
            "updatedAt": "2021-05-10T19:50:31.732Z"
          }
        ]
      }
    },
    {
      "id": "6c70b664-a77c-40a2-95cc-3a064a90378d",
      "emoji": null,
      "title": "Users",
      "content": "",
      "headId": 979740,
      "archivedAt": null,
      "folderPathname": "/Tracking/Components/AdminPanel/Users",
      "parentFolderId": "8373057f-52af-419c-9967-b7eb130d1242",
      "teamId": "nhFMY3a5g",
      "generated": false,
      "createdAt": "2021-08-06T10:50:00.992Z",
      "updatedAt": "2021-08-06T11:17:13.703Z",
      "version": 6,
      "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
      "workspaceId": "309011fd-0b61-4b75-a6fe-a3a711e8a079",
      "head": {
        "id": 979740,
        "docId": "6c70b664-a77c-40a2-95cc-3a064a90378d",
        "content": "Ссылка: https://rettertest.upify.io/admin/users\n\n## Пожелания клиента\n### В оригинале\nUser management where I can edit users details including plan if needed, setting discount and more. Also have an ability to log to each user dashboard.\n\n### В переводе\nУправление пользователями, где я могу редактировать сведения о пользователях, включая план, если необходимо, установку скидки и многое другое. Также есть возможность войти в панель управления каждого пользователя.",
        "message": "",
        "created": "2021-08-06T10:57:23.900Z",
        "creators": [
          {
            "id": "b0568c88-bb34-4420-969e-41238089a0d4",
            "uniqueName": "google#113467622262670857280",
            "displayName": "Alexander Matviienko",
            "createdAt": "2021-05-10T19:50:11.968Z",
            "updatedAt": "2021-05-10T19:50:31.732Z"
          }
        ]
      }
    },
    {
      "id": "8c52c62d-fbd9-46ce-a5b5-6ee01e89e226",
      "emoji": null,
      "title": "Dashboard",
      "content": "",
      "headId": 984055,
      "archivedAt": null,
      "folderPathname": "/Tracking/Components/AdminPanel/Dashboard",
      "parentFolderId": "2d544136-f684-48e1-8f08-662dbf6cdc6f",
      "teamId": "nhFMY3a5g",
      "generated": false,
      "createdAt": "2021-08-06T10:47:09.216Z",
      "updatedAt": "2021-08-07T09:39:17.569Z",
      "version": 6,
      "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
      "workspaceId": "309011fd-0b61-4b75-a6fe-a3a711e8a079",
      "head": {
        "id": 984055,
        "docId": "8c52c62d-fbd9-46ce-a5b5-6ee01e89e226",
        "content": "Ссылка: https://rettertest.upify.io/admin/\n\n## Пожелания клиента\n### В оригинале\nShowing general analytics of the application.\n\nInclude:\n\n- Users\n- Websites\n- Email Reports\n- Earned\n\nAlso show latest, users registered to app\n\n### В переводе\nПоказана общая аналитика приложения.\n\nВключают:\n\n- Users\n- Websites\n- Email Reports\n- Earned\n\nТакже показывать последних пользователей, зарегистрированных в приложении\n\n\n### Мои заметки\nПо сути здесь будет списков в виде карточек и таблиц",
        "message": "",
        "created": "2021-08-07T09:39:17.558Z",
        "creators": [
          {
            "id": "b0568c88-bb34-4420-969e-41238089a0d4",
            "uniqueName": "google#113467622262670857280",
            "displayName": "Alexander Matviienko",
            "createdAt": "2021-05-10T19:50:11.968Z",
            "updatedAt": "2021-05-10T19:50:31.732Z"
          }
        ]
      }
    },
    {
      "id": "d96d5f28-d55b-4ce3-abf4-855a3b4b0a62",
      "emoji": null,
      "title": "06.08.2021",
      "content": "",
      "headId": 979799,
      "archivedAt": null,
      "folderPathname": "/Tracking/Дневник",
      "parentFolderId": "fc94362a-1306-41ae-ae74-d724f8f2bd56",
      "teamId": "nhFMY3a5g",
      "generated": false,
      "createdAt": "2021-08-06T09:59:46.141Z",
      "updatedAt": "2021-08-06T11:17:09.968Z",
      "version": 5,
      "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
      "workspaceId": "309011fd-0b61-4b75-a6fe-a3a711e8a079",
      "head": {
        "id": 979799,
        "docId": "d96d5f28-d55b-4ce3-abf4-855a3b4b0a62",
        "content": "# Что надо сделать\n\n# Что сделал\n\n# Заметки",
        "message": "",
        "created": "2021-08-06T11:16:05.601Z",
        "creators": [
          {
            "id": "b0568c88-bb34-4420-969e-41238089a0d4",
            "uniqueName": "google#113467622262670857280",
            "displayName": "Alexander Matviienko",
            "createdAt": "2021-05-10T19:50:11.968Z",
            "updatedAt": "2021-05-10T19:50:31.732Z"
          }
        ]
      }
    },
    {
      "id": "6912d5ca-89e9-47a9-8b6a-0336d5ade7c3",
      "emoji": null,
      "title": "Tracking",
      "content": "",
      "headId": 980019,
      "archivedAt": null,
      "folderPathname": "/Tracking",
      "parentFolderId": "7e9c750d-9d88-40bb-8e68-2552ceb66eeb",
      "teamId": "nhFMY3a5g",
      "generated": false,
      "createdAt": "2021-08-06T09:52:38.794Z",
      "updatedAt": "2021-08-06T11:28:40.085Z",
      "version": 8,
      "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
      "workspaceId": "309011fd-0b61-4b75-a6fe-a3a711e8a079",
      "head": {
        "id": 980019,
        "docId": "6912d5ca-89e9-47a9-8b6a-0336d5ade7c3",
        "content": "Суть этой апки будет заключатся в том что владельцы сайтов (в первую очередь на shopify, а там дальше и на другие сервисы), смогут получать информацию о действия пользователей на их сайтах.\n\nПодобное приложение уже было реализовано. Но как я понял такая реализация не понравилась заказчику, поэтому он обратился к нам что бы мы сделали такое же приложение но лучше. \n\nМоя доля здесь это Front-end который я буду пилить на реакте. Моей задачей будет перенести дизайн со старого приложения на новое. А так же надо сделать подобный функционал как и на старом только что бы он дружил с новым сервером и возможно был по лучше и по чище старого. \n\nТак же стоит добавить значительный плюс в том что все задачи уже распланировали мне останется только их выполнять, это меня очень радует так как я не особо любитель организационных моментов.\n\n",
        "message": "",
        "created": "2021-08-06T11:28:40.070Z",
        "creators": [
          {
            "id": "b0568c88-bb34-4420-969e-41238089a0d4",
            "uniqueName": "google#113467622262670857280",
            "displayName": "Alexander Matviienko",
            "createdAt": "2021-05-10T19:50:11.968Z",
            "updatedAt": "2021-05-10T19:50:31.732Z"
          }
        ]
      }
    },
    {
      "id": "5983aa0e-7278-4a12-abbe-80e68496103d",
      "emoji": null,
      "title": "Image",
      "content": "",
      "headId": 963352,
      "archivedAt": null,
      "folderPathname": "/Sanity/image",
      "parentFolderId": "14f46d82-4b97-4bb2-8a8f-6a5b3755e905",
      "teamId": "nhFMY3a5g",
      "generated": false,
      "createdAt": "2021-08-03T08:27:34.838Z",
      "updatedAt": "2021-08-06T09:35:43.498Z",
      "version": 12,
      "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
      "workspaceId": "a26b69f4-c521-4719-9766-2da1c713b767",
      "head": {
        "id": 963352,
        "docId": "5983aa0e-7278-4a12-abbe-80e68496103d",
        "content": "Тип схемы для загрузки, выбора и редактирования изображений.\n\nКогда вы создаете поле с типом изображения, пользователю предоставляется стандартный диалог с файлом, который позволяет выполнять обычную загрузку, а также перетаскивать и вставлять изображения. Массивы изображений также допускают добавление пакетов файлов. При загрузке изображения ссылка на сам файл не сохраняется в поле изображения. Вместо этого создается ресурс изображения, и ссылка на него создается в поле изображения. Это позволяет вам разделять данные, зависящие от контекста, такие как горячая точка, кадрирование и подписи, и сам ресурс изображения, который вы, возможно, захотите повторно использовать во многих контекстах. Ресурсы изображений также содержат полезные метаданные, такие как предварительный просмотр изображений низкого качества (LQIP), информацию о палитре и исходном размере изображения, а также соотношение сторон. Ознакомьтесь со статьями о представлении изображений и URL-адресов изображений, чтобы узнать, как использовать изображения на практике.\n\n\n### Свойства:\n  1. __type__ (string)(req) - Значение должно быть установлено на файл.\n  2. __title__ (string) - Человекочитаемое название поля.\n  3. __name__ (string)(req) - Имя поля. Это будет ключ в записи данных.\n  4. __fields__ (array) - Массив необязательных полей для добавления к записи изображения. Добавленные здесь поля следуют тому же шаблону, что и поля, определенные для объектов. Это полезно для добавления настраиваемых свойств, таких как подпись, атрибуция и т. Д., К самой записи изображения (см. Пример ниже). Помимо общих атрибутов поля, каждое поле может также иметь параметр isHighlighted, который определяет, должно ли оно быть заметным в пользовательском интерфейсе редактирования или скрытым в модальном диалоговом окне за кнопкой редактирования (см. Пример ниже).\n  5. __hidden__ (boolean) - Если установлено значение true, это поле будет скрыто в sanity stydio.\n  6. __readOnly__ (boolean) - Если установлено значение true, это поле нельзя будет редактировать в sanity stydio.\n  7. __description__ (string) - Краткое описание для редакторов, как использовать поле.\n  8. __initialValue__ - Начальное значение, которое будет использоваться при создании новых объектов из этого типа. Может быть либо буквальным значением, либо функцией, возвращающей либо буквальное значение, либо обещанием, которое разрешается в начальное значение.\n\n### Опции\n\n1. __storeOriginalFilename__ (bollean) - Это сохранит исходное имя файла в документе ресурса. Имейте в виду, что имя загруженных файлов может раскрывать потенциально конфиденциальную информацию (например, top_secret_planned_featureX.pdf). По умолчанию true.\n2. __accept__ (string) - Это указывает, какие типы MIME может принимать вводимый файл. Точно так же, как атрибут accept во входных данных файла DOM, и вы можете указать любой допустимый спецификатор типа файла: [https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input/file#Unique_file_type_specifiers](url)\n3. __metadata__ (array) - Этот параметр определяет, какие метаданные сервер пытается извлечь из изображения. Извлеченные данные записываются в актив изображения. Это поле должно быть массивом строк, в котором допустимыми значениями являются exif, location, lqip и palette. Посмотрите пример использования в этой справке. [https://www.sanity.io/help/asset-metadata-field-invalid](url)\n4. __hotstop__ (boolean) - Позволяет в пользовательском интерфейсе выбирать, какие области изображения следует всегда обрезать, какие области никогда не следует обрезать, а также центр области для обрезки при изменении размера. Данные точки доступа хранятся в самом поле изображения, а не в активе изображения, поэтому изображения могут иметь разную обрезку и центр для каждого места, в котором они используются. Hotspot позволяет быстро адаптировать изображения к разным соотношениям сторон во время отображения. По умолчанию для точки доступа установлено значение false.\n5. __sources__ (array) - Заблокируйте источники ресурсов, доступные для этого типа, для определенного подмножества. Импортируйте плагины по имени их части и используйте имя переменной импорта в качестве записей массива. Встроенный источник ресурсов по умолчанию имеет часть имени части: @sanity/form-builder/input/image/asset-source-default\n\n### Валидация: \n  1. __required()__ - Делает поле обязательным\n  2. __custom()__ - Создает настраиваемое правило проверки.\n\n## Пользовательские источники ресурсов\n\nВы можете настроить, какие источники активов доступны через плагины. Таким образом, вы можете интегрироваться с вашей предпочтительной системой управления цифровыми активами (DAM). Ознакомьтесь с текущим списком источников активов.\n\n## Поддерживаемые форматы изображений\n\nSanity позволяет загружать 268-мегапиксельные архивные оригиналы изображений JPG, SVG, PNG, GIF или TIFF. Эти форматы можно перекодировать в JPG, PNG и WebP. Узнайте, как это сделать, в главе об URL-адресах изображений.\n\n## Примеры структур данных, связанных с изображениями\n### Пример объекта типа изображения\nInput \n\n```js\n{\n  title: 'Poster',\n  name: 'poster',\n  type: 'image',\n  options: {\n    hotspot: true // <-- Defaults to false\n  },\n  fields: [\n    {\n      name: 'caption',\n      type: 'string',\n      title: 'Caption',\n      options: {\n        isHighlighted: true // <-- make this field easily accessible\n      }\n    },\n    {\n      // Editing this field will be hidden behind an \"Edit\"-button\n      name: 'attribution',\n      type: 'string',\n      title: 'Attribution',\n    }\n  ]\n}\n```\n\nOutput\n```js\n{\n  \"_type\": \"image\",\n  \"asset\": {\n    \"_type\": \"reference\",\n    \"_ref\": \"image-S2od0Kd5mpOa4Y0Wlku8RvXE\"\n  },\n  \"caption\": \"This is the caption\",\n  \"attribution\": \"Public domain\",\n  \"crop\": {\n    \"top\": 0.028131868131868132,\n    \"bottom\": 0.15003663003663004,\n    \"left\": 0.01875,\n    \"right\": 0.009375000000000022\n  },\n  \"hotspot\": {\n    \"x\": 0.812500000000001,\n    \"y\": 0.27963369963369955,\n    \"height\": 0.3248351648351647,\n    \"width\": 0.28124999999999994\n  }\n}\n```\n\n### Пример объекта изображения с метаданными (расположение, lqip, палитра и размеры)\n\n```js\n{\n  \"_createdAt\": \"2018-06-27T10:46:48Z\",\n  \"_id\": \"image-223c27c1f0e75fe1ef494333738e2d16a8539e6a-1365x1364-svg\",\n  \"_rev\": \"MGbYJ9NCiEIKUXQcjjXmmw\",\n  \"_type\": \"sanity.imageAsset\",\n  \"assetId\": \"223c27c1f0e75fe1ef494333738e2d16a8539e6a\",\n  \"extension\": \"svg\",\n  \"metadata\": {\n    \"dimensions\": {\n      \"aspectRatio\": 1.000733137829912,\n      \"height\": 1364,\n      \"width\": 1365\n    },\n    \"location\": {\n      \"_type\": \"geopoint\",\n      \"lat\": 59.92399340000001,\n      \"lng\": 10.758972200000017\n    },\n    \"lqip\": \"data:image/jpeg;base64,/9j/2wBDAAYEBQYFBAYGBQYHBwYIChAKCgkJChQODwwQFxQYGBcUFhYaHSUfGhsjHBYWICwgIyYnKSopGR8tMC0oMCUoKSj/2wBDAQcHBwoIChMKChMoGhYaKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCj/wAARCAAUABQDASIAAhEBAxEB/8QAGQABAAIDAAAAAAAAAAAAAAAAAAYHAwUI/8QAKBAAAQQCAQIEBwAAAAAAAAAAAgEDBAUABhEHExQhQVESIiMxYXGB/8QAFQEBAQAAAAAAAAAAAAAAAAAABAX/xAAgEQACAgEEAwEAAAAAAAAAAAABAgADEQQSITETUXGB/9oADAMBAAIRAxEAPwCqej0eqhVtneWMLx0mOn0GeOfP9Zv2upVFsDcmv3GkCIwoqjbgAqqK5BdFh7RHrpFpRRvEQQ57o88/b8ZJ9ZtQ3KcVZNo07pCqk4I+Q8e/tgrCysSRkfeRL+lFNlSIrbG9EZDfsqizCO3YSBhGrkVDXtkqcKo+mMz7DCCuupkRpeQacUUxjFOQCJDsUo5U9iSnpVtNpRXQxoLo+Gkrw404PxCv8y6N92GTQa45LqmIceQ6PzGLPC+eMYa0DeJU0bHwNz1OYZDzkh9x54lJxwlIiX1VcYxipIPM/9k=\",\n    \"palette\": {\n      \"darkMuted\": {\n        \"background\": \"#482d2c\",\n        \"foreground\": \"#fff\",\n        \"population\": 15,\n        \"title\": \"#fff\"\n      },\n      \"darkVibrant\": {\n        \"background\": \"#68201e\",\n        \"foreground\": \"#fff\",\n        \"population\": 22,\n        \"title\": \"#fff\"\n      },\n      \"dominant\": {\n        \"background\": \"#f34b3c\",\n        \"foreground\": \"#fff\",\n        \"population\": 1292,\n        \"title\": \"#fff\"\n      },\n      \"lightMuted\": {\n        \"background\": \"#c5837e\",\n        \"foreground\": \"#000\",\n        \"population\": 31,\n        \"title\": \"#fff\"\n      },\n      \"lightVibrant\": {\n        \"background\": \"#f9948c\",\n        \"foreground\": \"#000\",\n        \"population\": 3,\n        \"title\": \"#fff\"\n      },\n      \"muted\": {\n        \"background\": \"#ac736c\",\n        \"foreground\": \"#fff\",\n        \"population\": 24,\n        \"title\": \"#fff\"\n      },\n      \"vibrant\": {\n        \"background\": \"#f34b3c\",\n        \"foreground\": \"#fff\",\n        \"population\": 1292,\n        \"title\": \"#fff\"\n      }\n    }\n  },\n  \"mimeType\": \"image/svg+xml\",\n  \"originalFilename\": \"logo-s-red-1365x1365.svg\",\n  \"path\": \"images/3do82whm/production/223c27c1f0e75fe1ef494333738e2d16a8539e6a-1365x1364.svg\",\n  \"sha1hash\": \"223c27c1f0e75fe1ef494333738e2d16a8539e6a\",\n  \"size\": 1378,\n  \"url\": \"https://cdn.sanity.io/images/3do82whm/production/223c27c1f0e75fe1ef494333738e2d16a8539e6a-1365x1364.svg\",\n  \"_updatedAt\": \"2018-07-30T08:07:49.238Z\"\n}\n```",
        "message": "",
        "created": "2021-08-03T08:41:51.804Z",
        "creators": [
          {
            "id": "b0568c88-bb34-4420-969e-41238089a0d4",
            "uniqueName": "google#113467622262670857280",
            "displayName": "Alexander Matviienko",
            "createdAt": "2021-05-10T19:50:11.968Z",
            "updatedAt": "2021-05-10T19:50:31.732Z"
          }
        ]
      }
    },
    {
      "id": "14445a74-0f4e-4ab9-bb15-ced194e30a66",
      "emoji": null,
      "title": "Geopoint",
      "content": "",
      "headId": 963288,
      "archivedAt": null,
      "folderPathname": "/Sanity/Типы схем",
      "parentFolderId": "0627b0ae-eb4c-4acb-a569-c37cb0178b7e",
      "teamId": "nhFMY3a5g",
      "generated": false,
      "createdAt": "2021-08-03T08:10:39.055Z",
      "updatedAt": "2021-08-06T09:35:43.498Z",
      "version": 8,
      "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
      "workspaceId": "a26b69f4-c521-4719-9766-2da1c713b767",
      "head": {
        "id": 963288,
        "docId": "14445a74-0f4e-4ab9-bb15-ced194e30a66",
        "content": "Объект, обозначающий глобальную координату широты / долготы / высоты. Долгота и широта хранятся в десятичных градусах, а высота - в виде с плавающей запятой, представляющей метры над уровнем моря.\n\n### Свойства:\n  1. __type__ (string)(req) - Значение должно быть установлено на географическую точку..\n  2. __title__ (string) - Человекочитаемое название поля.\n  3. __name__ (string)(req) - Имя поля. Это будет ключ в записи данных.\n  4. __fields__ (array) - Массив необязательных полей для добавления в поле файла. Добавленные здесь поля следуют тому же шаблону, что и поля, определенные для объектов. Это полезно для того, чтобы пользователи могли добавлять собственные метаданные, связанные с использованием этого файла (см. Пример ниже).\n  5. __hidden__ (boolean) - Если установлено значение true, это поле будет скрыто в sanity stydio.\n  6. __readOnly__ (boolean) - Если установлено значение true, это поле нельзя будет редактировать в sanity stydio.\n  7. __description__ (string) - Краткое описание для редакторов, как использовать поле.\n  8. __initialValue__ - Начальное значение, которое будет использоваться при создании новых объектов из этого типа. Может быть либо буквальным значением, либо функцией, возвращающей либо буквальное значение, либо обещанием, которое разрешается в начальное значение.\n\n### Валидация: \n  1. __required()__ - Делает поле обязательным\n  2. __custom()__ - Создает настраиваемое правило проверки.\n\nInput\n```js\n{\n  title: 'Launchpad Location',\n  name: 'location',\n  type: 'geopoint'\n}\n```\n\nOutput\n```js\n{\n  \"_type\": \"geopoint\",\n  \"lat\": 58.63169011423141,\n  \"lng\": 9.089101352587932,\n  \"alt\": 13.37\n}\n```\n\nХотя тип географической точки доступен в Sanity по умолчанию, вы, вероятно, захотите установить плагин, который обеспечивает более наглядный способ ввода координат. Например, вы можете использовать плагин @sanity/google-maps-input:\n\n```js\ncd my-project\nsanity install @sanity/google-maps-input\n```\n\nЗатем настройте ./config/@sanity/google-maps-input.json с помощью ключа API Google Maps:\n\n\n```js\n{\n  \"apiKey\": \"google-api-key\",\n  \"defaultZoom\": 11,\n  \"defaultLocation\": {\n    \"lat\": 58.63169011423141,\n    \"lng\": 9.089101352587932\n  }\n}\n```\n\nУбедитесь, что у ключа есть доступ ко всем следующим API: \n- Google Maps JavaScript API \n- Google Places API \n- API статических карт Google \nВы можете создать такие ключи и предоставить доступ к API в консоли разработчика Google.\n\n> Будьте осторожны со своими ключами API. Если вы используете эту функцию, рекомендуется сделать репозиторий закрытым.",
        "message": "",
        "created": "2021-08-03T08:27:09.322Z",
        "creators": [
          {
            "id": "b0568c88-bb34-4420-969e-41238089a0d4",
            "uniqueName": "google#113467622262670857280",
            "displayName": "Alexander Matviienko",
            "createdAt": "2021-05-10T19:50:11.968Z",
            "updatedAt": "2021-05-10T19:50:31.732Z"
          }
        ]
      }
    },
    {
      "id": "d6de4fb6-0843-4acc-b37e-767e6940a10e",
      "emoji": null,
      "title": "File",
      "content": "",
      "headId": 963104,
      "archivedAt": null,
      "folderPathname": "/Sanity/Типы схем",
      "parentFolderId": "0627b0ae-eb4c-4acb-a569-c37cb0178b7e",
      "teamId": "nhFMY3a5g",
      "generated": false,
      "createdAt": "2021-08-03T07:43:36.112Z",
      "updatedAt": "2021-08-06T09:35:43.498Z",
      "version": 11,
      "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
      "workspaceId": "a26b69f4-c521-4719-9766-2da1c713b767",
      "head": {
        "id": 963104,
        "docId": "d6de4fb6-0843-4acc-b37e-767e6940a10e",
        "content": "Файл - это особый вид объекта, который включает неявное поле ресурса, которое является ссылкой на документ ресурса файла. Это полезно для хранения любых файлов без изображений (pdf, mpeg, docx и т. Д.).\n\n> #### Попался \n> Вы не должны использовать этот тип файла для изображений. Вместо этого используйте изображение. Изображения, загруженные в виде файлов, не будут иметь связанных метаданных для изображений, и вы не сможете масштабировать и обрезать их в конвейере изображений.\n\n### Свойства:\n  1. __type__ (string)(req) - Значение должно быть установлено на файл.\n  2. __title__ (string) - Человекочитаемое название поля.\n  3. __name__ (string)(req) - Имя поля. Это будет ключ в записи данных.\n  4. __fields__ (array) - Массив необязательных полей для добавления в поле файла. Добавленные здесь поля следуют тому же шаблону, что и поля, определенные для объектов. Это полезно для того, чтобы пользователи могли добавлять собственные метаданные, связанные с использованием этого файла (см. Пример ниже).\n  5. __hidden__ (boolean) - Если установлено значение true, это поле будет скрыто в sanity stydio.\n  6. __readOnly__ (boolean) - Если установлено значение true, это поле нельзя будет редактировать в sanity stydio.\n  7. __description__ (string) - Краткое описание для редакторов, как использовать поле.\n  8. __initialValue__ - Начальное значение, которое будет использоваться при создании новых объектов из этого типа. Может быть либо буквальным значением, либо функцией, возвращающей либо буквальное значение, либо обещанием, которое разрешается в начальное значение.\n\n\n### Опции\n\n1. __storeOriginalFilename__ (bollean) - Это сохранит исходное имя файла в документе ресурса. Имейте в виду, что имя загруженных файлов может раскрывать потенциально конфиденциальную информацию (например, top_secret_planned_featureX.pdf). По умолчанию true.\n2. __accept__ (string) - Это указывает, какие типы MIME может принимать вводимый файл. Точно так же, как атрибут accept во входных данных файла DOM, и вы можете указать любой допустимый спецификатор типа файла: [https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input/file#Unique_file_type_specifiers](url)\n\n### Валидация: \n  1. __required()__ - Делает поле обязательным\n  2. __custom()__ - Создает настраиваемое правило проверки.\n\nInput \n\n```js\n{\n  title: 'Manuscript',\n  name: 'manuscript',\n  type: 'file',\n  fields: [\n    {\n      name: 'description',\n      type: 'string',\n      title: 'Description'\n    },\n    {\n      name: 'author',\n      type: 'reference',\n      title: 'Author',\n      to: {type: 'person'}\n    }\n  ]\n}\n```\n\nOutput\n\n```js\n{\n  \"_type\": \"file\",\n  \"asset\": {\n    \"_type\": \"reference\",\n    \"_ref\": \"file-5igDD9UuXffIucwZpyVthr0c\"\n  },\n  \"description\": \"First draft\",\n  \"author\": {\n    \"_type\": \"reference\",\n    \"_ref\": \"1osKfX-49GLPg-2EeuOe-3ufEFE\"\n  }\n}\n```\n\n### Скачивания файла\n\nЧтобы загрузить файл из вашего внешнего интерфейса, вам необходимо добавить? Dl = <filename-of-your-choice.pdf> к URL-адресу файла. Если вы оставите имя файла пустым, будет использоваться исходное имя файла, если оно есть. Если исходное имя файла недоступно, вместо него будет использоваться идентификатор файла.\n\n```js\n// GROQ query\n*[_type == 'movie'] {\n  title,\n  \"manuscriptURL\": manuscript.asset->url\n}\n\n// Затем вы можете использовать URL-адрес в HTML, например, так:\n// <a href={`${manuscriptURL}?dl=`}>Manuscript</a>\n```",
        "message": "",
        "created": "2021-08-03T07:58:23.111Z",
        "creators": [
          {
            "id": "b0568c88-bb34-4420-969e-41238089a0d4",
            "uniqueName": "google#113467622262670857280",
            "displayName": "Alexander Matviienko",
            "createdAt": "2021-05-10T19:50:11.968Z",
            "updatedAt": "2021-05-10T19:50:31.732Z"
          }
        ]
      }
    },
    {
      "id": "5db658d5-a8a5-45ac-bf5c-2436fd0b8d3e",
      "emoji": null,
      "title": "Объекты (поля)",
      "content": "",
      "headId": 962968,
      "archivedAt": null,
      "folderPathname": "/Sanity/Типы схем",
      "parentFolderId": "0627b0ae-eb4c-4acb-a569-c37cb0178b7e",
      "teamId": "nhFMY3a5g",
      "generated": false,
      "createdAt": "2021-08-03T07:10:59.249Z",
      "updatedAt": "2021-08-06T09:35:43.498Z",
      "version": 10,
      "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
      "workspaceId": "a26b69f4-c521-4719-9766-2da1c713b767",
      "head": {
        "id": 962968,
        "docId": "5db658d5-a8a5-45ac-bf5c-2436fd0b8d3e",
        "content": "Тип объекта - это основа вашей модели данных. Вы используете его для определения пользовательских типов, которые имеют поля строк, чисел, массивов, а также других типов объектов. \n\nПримечание. По умолчанию типы объектов не могут быть представлены как отдельные документы в хранилище данных. Если вы хотите определить тип объекта, который вы хотите представить в виде документа с идентификатором, ревизией и созданными и обновленными временными метками, вам следует определить его, используя вместо этого тип документа. Помимо этих дополнительных полей, нет семантической разницы между документом и объектом.\n\n### Свойства\n\n1. __type__ (string)(req) - Задаем тип объекта.\n2. __name__ (string)(req) - Имя поля (которое будет являтся первичным ключом записи).\n3. __fields__ (array)(req) - Поля этого объекта. По крайней мере одно поле является обязательным. \n4. __fieldsets__ (array) - Список наборов полей, к которым могут принадлежать поля (короче обычные поля можно еще и групировать). \n5. __preview__ (object) - Используйте это, чтобы реализовать переопределение предварительного просмотра по умолчанию для этого типа (короче что то связанное с предпросмотром того что мы написали).\n6. __inputComponent__ (React) - Таким образом мы присоединяем компонент из реакта \n7. __title__ (string) - Читабельная этикетка поля.\n8. __hidden__ (boolean) - Если установлено значение true, это поле будет скрыто в sanity stydio.\n9. __readOnly__ (boolean) - Если установлено значение true, это поле нельзя будет редактировать в sanity stydio.\n10. __description__ (string) - Краткое описание для редакторов, как использовать поле.\n11. __initialValue__ - Начальное значение, которое будет использоваться при создании новых объектов из этого типа. Может быть либо буквальным значением, либо функцией, возвращающей либо буквальное значение, либо обещанием, которое разрешается в начальное значение.\n\n### Options\n\n1. __collapsible__ (bollean) - Если установлено значение true, объект сделает поля сворачиваемыми. По умолчанию объекты будут сворачиваться при достижении уровня глубины/вложенности 3. Это можно изменить, установив collapsible: false.\n2. __collapsed__ (bollean) -Установите значение true, чтобы поля отображались изначально свернутыми. Для этого требуется, чтобы параметр collapsible был установлен в значение true, и определяет, должны ли поля быть сначала свернуты.\n3. __columns__ (integer) - Целое число, соответствующее количеству столбцов в сетке, между которыми будут перемещаться входные данные.\n\n### Валидация: \n  1. __required()__ - Делает поле обязательным\n  2. __custom()__ - Создает настраиваемое правило проверки.\n\n## Поля\n\nПоля - это то, что придает объекту структуру. Каждое поле должно иметь имя и тип. Объект может ссылаться на любой тип поля. Вы можете указать свойства и параметры, которые поддерживаются для данного типа, например:\n\n```js\n{\n  title: 'Address',\n  name: 'address',\n  type: 'object',\n  fields: [\n    {name: 'street', type: 'string', title: 'Street name'},\n    {name: 'streetNo', type: 'string', title: 'Street number'},\n    {name: 'city', type: 'string', title: 'City'}\n  ]\n}\n```\nПосле того, как тип добавлен в схему, его можно повторно использовать в качестве типа для других полей, поэтому давайте использовать его в нашем скрининге:\n\nInput\n```js\n{\n  title: 'Screening',\n  name: 'screening',\n  type: 'document',\n  fields: [\n    // ... \n      {\n      title: 'Cinema address',\n      name: 'address',\n      type: 'address'\n    }\n    // ... \n  ]\n}\n```\n\nOutput\n\n```js\n{\n  \"_type\": \"screening\",\n  \"_id\": \"2106a34f-315f-44bc-929b-bf8e9a3eba0d\",\n  \"title\": \"Welcome to our premiere of Valerian and the City of a Thousand Planets!\",\n  //...\n  \"address\": {\n    \"_type\": \"address\",\n    \"street\": \"Dronningens gate\",\n    \"streetNo\": \"16\",\n    \"city\": \"Oslo\"\n  }\n  //...\n}\n```\n\n### Имена полей\n\nИмя поля должно начинаться с буквы от a до z и может включать только:\n\n- Буквы\n- Цифры\n- Нижний прочерк\n\nЭто означает, что имена полей не могут содержать дефисы. Мы также рекомендуем использовать соглашение об именах в верблюжьем регистре для имен полей.\n\n### Дополнительные параметры поля\n\nИногда у вас могут быть поля, которые не предназначены для отображения редакторами через студию, но заполняются внутренними службами или скриптами. Установив для свойства hidden значение true, вы можете убедиться, что поле все еще включено в схему, но не отображается в студии. Пример:\n\n```js\n{\n  title: 'Movie',\n  name: 'movie',\n  type: 'document',\n  fields: [\n    // ... other fields\n    {\n      title: 'Last synchronized',\n      name: 'lastSynced',\n      description: 'Timestamp the movie was last synced with external service. Not shown in studio.',\n      type: 'datetime',\n      hidden: true\n    }\n  ]\n}\n```\n\n## Fieldset (наборы полей)\n\nИногда имеет смысл сгруппировать набор полей в набор полей. Допустим, вы хотите, чтобы социальные поля были сгруппированы вместе в Sanity Studio следующим образом:\n![dbdd62dcf92d6305853f1d96f8295610a48b8285-2304x1400.png](https://boostnote.io/api/teams/nhFMY3a5g/files/582b9f1b5ff0641fc71dc0dabf7a8e9634668d063a2cf9c8b058c9f32f83ab35-dbdd62dcf92d6305853f1d96f8295610a48b8285-2304x1400.png)\n\nInput\n\n```js\n{\n  type: 'object',\n  name: 'person',\n  fieldsets: [\n    {name: 'social', title: 'Social media handles'}\n  ],\n  fields: [\n    {\n      title: 'Name',\n      name: 'name',\n      type: 'string'\n    },\n    {\n      title: 'Twitter',\n      name: 'twitter',\n      type: 'string',\n      fieldset: 'social'\n    },\n    {\n      title: 'Instagram',\n      name: 'instagram',\n      type: 'string',\n      fieldset: 'social'\n    },\n    {\n      title: 'Facebook',\n      name: 'facebook',\n      type: 'string',\n      fieldset: 'social'\n    }\n  ]\n}\n```\n\nOutput\n\n```js\n{\n  \"name\": \"Somebody\",\n  \"twitter\": \"@somebody\",\n  \"instagram\": \"@somebody\",\n  \"facebook\": \"somebody\"\n}\n```\n\nНаборы полей имеют те же параметры сворачивания, что и описанные выше для объектов, например:\n\n```js\n{\n  title: 'Social media handles',\n  name: 'social',\n  options: {\n    collapsible: true, // Делает весь набор полей разборным\n    collapsed: false, // Определяет, должен ли набор полей быть свернут по умолчанию или нет\n    columns: 2 // Определяет сетку для полей и сколько столбцов в ней должно быть\n  }\n}\n```",
        "message": "",
        "created": "2021-08-03T07:37:18.071Z",
        "creators": [
          {
            "id": "b0568c88-bb34-4420-969e-41238089a0d4",
            "uniqueName": "google#113467622262670857280",
            "displayName": "Alexander Matviienko",
            "createdAt": "2021-05-10T19:50:11.968Z",
            "updatedAt": "2021-05-10T19:50:31.732Z"
          }
        ]
      }
    },
    {
      "id": "1ac395e6-31c8-4854-9684-be29b4f43083",
      "emoji": null,
      "title": "Сортировка документов",
      "content": "",
      "headId": 962786,
      "archivedAt": null,
      "folderPathname": "/Sanity",
      "parentFolderId": "9ea3f21a-8e4c-4e52-8784-bef9b4b21e18",
      "teamId": "nhFMY3a5g",
      "generated": false,
      "createdAt": "2021-08-03T06:58:39.167Z",
      "updatedAt": "2021-08-06T09:35:43.498Z",
      "version": 6,
      "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
      "workspaceId": "a26b69f4-c521-4719-9766-2da1c713b767",
      "head": {
        "id": 962786,
        "docId": "1ac395e6-31c8-4854-9684-be29b4f43083",
        "content": "Данный параметр помогает отсортировать колекции документов (созданных записей)\n\n```js\n{\n  name: 'movie',\n  type: 'document',\n  fields: [\n    {\n      title: 'Title',\n      name: 'title',\n      type: 'string'\n    },\n    {\n      title: 'Release Date',\n      name: 'releaseDate',\n      type: 'date'\n    },\n    {\n      title: 'Popularity',\n      name: 'popularity',\n      type: 'number'\n    }\n  ],\n    //Здесь указывается порядок сортировки по записям созданным с конкретных полей \n  orderings: [\n    {\n      title: 'Release Date, New',\n      name: 'releaseDateDesc',\n      by: [\n        {field: 'releaseDate', direction: 'desc'}\n      ]\n    },\n    {\n      title: 'Release Date, Old',\n      name: 'releaseDateAsc',\n      by: [\n        {field: 'releaseDate', direction: 'asc'}\n      ]\n    },\n    {\n      title: 'Popularity',\n      name: 'popularityDesc',\n      by: [\n        {field: 'popularity', direction: 'desc'}\n      ]\n    }\n  ]\n}\n```\n\nПриведенный выше порядок определяет список возможных способов заказать коллекцию фильмов. Для пользователя они появляются как опции в Studio, когда фильмы перечислены.\n\n### Порядок сортировки по умолчанию \nЕсли порядок сортировки не определен, Sanity постарается угадать, по каким полям имеет смысл сортировать. Если порядок заказа не указан:\n\n  - Если в типе документа есть строковые поля с именами заголовок, имя, метка, заголовок, заголовок, заголовок или описание, мы включаем опции для сортировки по всем этим параметрам. \n  - Если в вашем типе нет полей, названных любым из вышеперечисленных, мы сгенерируем конфигурации упорядочения для всех полей примитивных типов, то есть полей типа string, number или boolean.\n\nЕсли вы укажете свой собственный порядок, мы пропустим эвристику по умолчанию, указанную выше.\n\n### Условно визуализировать предварительный просмотр на основе текущего параметра сортировки\n\nИногда имеет смысл адаптировать предварительный просмотр к определенному порядку. Например, если список фильмов выше отсортирован по их рейтингу, имеет смысл визуально отображать рейтинг в предварительном просмотре. Поэтому мы передаем текущую сортировку (если есть) в качестве viewOption для preview.prepare.\n\n```js\n{\n  name: 'movie',\n  type: 'document',\n  fields: [\n    {\n      title: 'Title',\n      name: 'title',\n      type: 'string'\n    },\n    {\n      title: 'Release Date',\n      name: 'releaseDate',\n      type: 'date'\n    },\n    {\n      title: 'Rating',\n      name: 'rating',\n      title: 'Rating (0 - 10)',\n      type: 'number'\n    }\n  ],\n  orderings: [\n    {\n      title: 'Release Date',\n      name: 'releaseDate',\n      by: [\n        {field: 'releaseDate', direction: 'asc'}\n      ]\n    },\n    {\n      title: 'Rating',\n      name: 'rating',\n      by: [\n        {field: 'rating', direction: 'desc'}\n      ]\n    }\n  ],\n  preview: {\n    select: {\n      title: 'title',\n      rating: 'rating'\n    },\n    prepare(movie, viewOptions = {}) {\n      const title = viewOptions.ordering && viewOptions.ordering.name === 'rating'\n      ? `${movie.title} (${movie.rating})`\n      : movie.title\n\n      return {title: title}\n    }\n  }\n}\n```\n",
        "message": "",
        "created": "2021-08-03T07:05:21.590Z",
        "creators": [
          {
            "id": "b0568c88-bb34-4420-969e-41238089a0d4",
            "uniqueName": "google#113467622262670857280",
            "displayName": "Alexander Matviienko",
            "createdAt": "2021-05-10T19:50:11.968Z",
            "updatedAt": "2021-05-10T19:50:31.732Z"
          }
        ]
      }
    },
    {
      "id": "27915c5a-61da-4f51-9e15-f7659bd4e65a",
      "emoji": null,
      "title": "Document",
      "content": "",
      "headId": 963000,
      "archivedAt": null,
      "folderPathname": "/Sanity/Типы схем",
      "parentFolderId": "0627b0ae-eb4c-4acb-a569-c37cb0178b7e",
      "teamId": "nhFMY3a5g",
      "generated": false,
      "createdAt": "2021-08-03T06:31:04.270Z",
      "updatedAt": "2021-08-06T09:35:43.498Z",
      "version": 10,
      "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
      "workspaceId": "a26b69f4-c521-4719-9766-2da1c713b767",
      "head": {
        "id": 963000,
        "docId": "27915c5a-61da-4f51-9e15-f7659bd4e65a",
        "content": "Все в Студии начинается с документа. Документ - это то, что вы создаете и редактируете в студии - все остальные типы вы можете определять прямо внутри документов. В конфигурации студии по умолчанию типы документов - это те, которые будут перечислены в столбце содержимого.\n\n### Свойства:\n  1. __type__ (string)(req) - Имя типа схемы. Это будет тип значения в (БД).\n  2. __liveEdit__ (boolean) - Отключает черновики, если установлено значение true.\n  3. __orderings__ (array) - Помогает отсортировать колекцию документов. Подробнее читайтен в статье по сортировке.\n  4. __fields__ (array) - Поля этого объекта. По крайней мере одно поле является обязательным. \n  5. __fieldsets__ (array) - Список наборов полей, к которым могут принадлежать поля (короче обычные поля можно еще и групировать). \n  6. __preview__ (object) - Используйте это, чтобы реализовать переопределение предварительного просмотра по умолчанию для этого типа (короче что то связанное с предпросмотром того что мы написали).\n  7. __initialValue__ - Начальное значение, которое будет использоваться при создании новых объектов из этого типа. Может быть либо буквальным значением, либо функцией, возвращающей либо буквальное значение, либо обещанием, которое разрешается в начальное значение.\n\nПо сути, документ представляет собой JSON-объект, который имеет уникальный _id, временные метки (_createdAt, _updatedAt) и маркер ревизии _rev. Тип документа используется для определения структуры документа, который может храниться в нашем хранилище данных. Вы можете думать о документе как об объекте, который, помимо определяемых вами полей, также имеет уникальный идентификатор (_id), поле для отслеживания времени создания и времени последнего обновления (_createdAt и _updatedAt) и маркер редакции (_rev ). Из других документов можно ссылаться только на документы или получать их по идентификатору, и только типы документов будут перечислены и созданы в студии. Помимо вышеперечисленного, документы определяются так же, как обычные объекты, поэтому см. Документацию по типу объекта для получения дополнительной информации о том, как определять документы.\n\nInput\n\n```js\n{\n  title: 'Movie',\n  name: 'movie',\n  type: 'document',\n  fields: [\n    {\n      title: 'Title',\n      name: 'title',\n      type: 'string'\n    },\n    {\n      title: 'Poster',\n      name: 'poster',\n      type: 'image'\n    },\n    {\n      title: 'Directors',\n      name: 'directors',\n      type: 'array',\n      of: [{type: 'string'}]\n    }\n  ]\n}\n```\n\nOutput\n\n```js\n{\n  \"_type\": \"movie\",\n  \"_id\": \"2106a34f-315f-44bc-929b-bf8e9a3eba0d\",\n  // ... _createdAt, _updatedAt, _rev omitted\n  \"title\": \"Alien\",\n  \"poster\": {... <an image object> ...},\n  \"directors\": [\"Ridley Scott\"]\n}\n```",
        "message": "",
        "created": "2021-08-03T07:41:57.492Z",
        "creators": [
          {
            "id": "b0568c88-bb34-4420-969e-41238089a0d4",
            "uniqueName": "google#113467622262670857280",
            "displayName": "Alexander Matviienko",
            "createdAt": "2021-05-10T19:50:11.968Z",
            "updatedAt": "2021-05-10T19:50:31.732Z"
          }
        ]
      }
    },
    {
      "id": "13926615-49f2-494b-a7e4-ef497707e014",
      "emoji": null,
      "title": "Datetime",
      "content": "",
      "headId": 962587,
      "archivedAt": null,
      "folderPathname": "/Sanity/Типы схем",
      "parentFolderId": "0627b0ae-eb4c-4acb-a569-c37cb0178b7e",
      "teamId": "nhFMY3a5g",
      "generated": false,
      "createdAt": "2021-08-03T06:23:11.776Z",
      "updatedAt": "2021-08-06T09:35:43.498Z",
      "version": 6,
      "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
      "workspaceId": "a26b69f4-c521-4719-9766-2da1c713b767",
      "head": {
        "id": 962587,
        "docId": "13926615-49f2-494b-a7e4-ef497707e014",
        "content": "Строка в формате ISO-8601, содержащая дату и время, хранящиеся в формате UTC. Например. 2017-02-12T09: 15: 00Z.\n\n  1. __type__ (string)(req) - Имя типа схемы. Это будет тип значения в (БД).\n  2. __title__ (string) - Человекочитаемое название поля.\n  3. __name__ (string)(req) - Имя поля (ключь в БД).\n  4. __hidden__ (boolean) - Если установлено значение true, это поле будет скрыто в sanity stydio.\n  5. __readOnly__ (boolean) - Если установлено значение true, это поле нельзя будет редактировать в sanity stydio.\n  6. __description__ (string) - Краткое описание для редакторов, как использовать поле.\n  7. __initialValue__ (DateTimeStringOrResolverFunction) - Начальное значение, используемое при создании новых значений из этого типа. Может быть либо буквальной строкой datetime, либо функцией сопоставителя, которая возвращает либо буквальное строковое значение datetime, либо обещание, разрешающееся в строковое значение datetime.\n\n### Опции:\n  1. __dateFormat__ (string) - Управляет форматированием отображаемой даты в поле ввода даты. Используйте любой допустимый вариант формата момента. По умолчанию ГГГГ-ММ-ДД.\n  2. __timeFormat__ (string) - Управляет форматированием отображаемой даты в поле ввода времени. Используйте любой допустимый вариант формата момента. По умолчанию ЧЧ: мм.\n  3. __timeStep__ (number) - Количество минут между каждой записью во вводе времени. По умолчанию 15, что позволяет пользователю выбирать между 09:00, 09:15, 09:30 и так далее.\n\n### Валидация: \n  1. __required()__ - Делает поле обязательным\n  2. __min()__ - Минимальная дата (включительно). minDate должен быть в формате ISO 8601.\n  3. __max()__ - Максимальная дата (включительно). maxDate должен быть в формате ISO 8601.\n  4. __custom()__ - Создает настраиваемое правило проверки.\n\nДата + время представлены в виде строки в упрощенном расширенном формате ISO (ISO 8601). Это тот же формат, что и для date.toISOString () и date.toJSON ().\n\n\nInput \n```js\n{\n  title: 'Launch Scheduled At',\n  name: 'launchAt',\n  type: 'datetime'\n}\n```\n\nOutput \n```js\n{\n  \"launchAt\": \"2017-02-12T09:15:00Z\"\n}\n```\n\n### Пример: все параметры установлены\n\n```js\n{\n  title: 'Launch Scheduled At',\n  name: 'launchAt',\n  type: 'datetime',\n  options: {\n    dateFormat: 'YYYY-MM-DD',\n    timeFormat: 'HH:mm',\n    timeStep: 15,\n    calendarTodayLabel: 'Today'\n  }\n}\n```",
        "message": "",
        "created": "2021-08-03T06:30:46.037Z",
        "creators": [
          {
            "id": "b0568c88-bb34-4420-969e-41238089a0d4",
            "uniqueName": "google#113467622262670857280",
            "displayName": "Alexander Matviienko",
            "createdAt": "2021-05-10T19:50:11.968Z",
            "updatedAt": "2021-05-10T19:50:31.732Z"
          }
        ]
      }
    },
    {
      "id": "42a66b95-1208-4d1b-98ff-049d99c88e00",
      "emoji": null,
      "title": "Date",
      "content": "",
      "headId": 962540,
      "archivedAt": null,
      "folderPathname": "/Sanity/Типы схем",
      "parentFolderId": "0627b0ae-eb4c-4acb-a569-c37cb0178b7e",
      "teamId": "nhFMY3a5g",
      "generated": false,
      "createdAt": "2021-08-03T06:18:30.258Z",
      "updatedAt": "2021-08-06T09:35:43.498Z",
      "version": 4,
      "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
      "workspaceId": "a26b69f4-c521-4719-9766-2da1c713b767",
      "head": {
        "id": 962540,
        "docId": "42a66b95-1208-4d1b-98ff-049d99c88e00",
        "content": "### Свойства:\n  1. __type__ (string)(req) - Имя типа схемы. Это будет тип значения в (БД).\n  2. __title__ (string) - Человекочитаемое название поля.\n  3. __name__ (string)(req) - Имя поля (ключь в БД).\n  4. __hidden__ (boolean) - Если установлено значение true, это поле будет скрыто в sanity stydio.\n  5. __readOnly__ (boolean) - Если установлено значение true, это поле нельзя будет редактировать в sanity stydio.\n  6. __description__ (string) - Краткое описание для редакторов, как использовать поле.\n\n\n### Опции:\n  1. __dateFormat__ (string) - Управляет форматированием отображаемой даты в поле ввода даты. Используйте любой допустимый вариант формата момента. По умолчанию ГГГГ-ММ-ДД.\n\n\n### Валидация: \n  1. __required()__ - Делает поле обязательным\n  2. __custom()__ - Создает настраиваемое правило проверки.\n\nСохраненная дата представлена в виде строки в соответствии со стандартом ISO 8601 (часто обозначается как ГГГГ-ММ-ДД).\n\n> Если вам нужно хранить информацию как о дате, так и о времени, используйте вместо этого тип datetime.\n\nInput\n```js\n{\n  title: 'Release date',\n  name: 'releaseDate',\n  type: 'date'\n}\n```\nOutput\n```js\n{\n  \"releaseDate\": \"2017-02-12\"\n}\n```\n\n### Пример: все параметры установлены\n\n```js\n{\n  title: 'Release date',\n  name: 'releaseDate',\n  type: 'date',\n  options: {\n    dateFormat: 'YYYY-MM-DD',\n    calendarTodayLabel: 'Today'\n  }\n}\n```",
        "message": "",
        "created": "2021-08-03T06:22:52.917Z",
        "creators": [
          {
            "id": "b0568c88-bb34-4420-969e-41238089a0d4",
            "uniqueName": "google#113467622262670857280",
            "displayName": "Alexander Matviienko",
            "createdAt": "2021-05-10T19:50:11.968Z",
            "updatedAt": "2021-05-10T19:50:31.732Z"
          }
        ]
      }
    },
    {
      "id": "e9ec80ab-5af2-49e4-951f-08a365ce7a54",
      "emoji": null,
      "title": "Boolean",
      "content": "",
      "headId": 962528,
      "archivedAt": null,
      "folderPathname": "/Sanity/Типы схем",
      "parentFolderId": "0627b0ae-eb4c-4acb-a569-c37cb0178b7e",
      "teamId": "nhFMY3a5g",
      "generated": false,
      "createdAt": "2021-08-03T06:13:34.827Z",
      "updatedAt": "2021-08-06T09:35:43.498Z",
      "version": 6,
      "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
      "workspaceId": "a26b69f4-c521-4719-9766-2da1c713b767",
      "head": {
        "id": 962528,
        "docId": "e9ec80ab-5af2-49e4-951f-08a365ce7a54",
        "content": "### Свойства:\n  1. __type__ (string)(req) - Имя типа схемы. Это будет тип значения в (БД).\n  2. __title__ (string) - Человекочитаемое название поля.\n  3. __name__ (string)(req) - Имя поля (ключь в БД).\n  4. __hidden__ (boolean) - Если установлено значение true, это поле будет скрыто в sanity stydio.\n  5. __readOnly__ (boolean) - Если установлено значение true, это поле нельзя будет редактировать в sanity stydio.\n  6. __description__ (string) - Краткое описание для редакторов, как использовать поле.\n\n\n### Опции:\n  1. __layout__ (string) - Либо переключатель (по умолчанию), либо флажок Это позволяет вам контролировать внешний вид ввода. По умолчанию ввод для логических полей будет отображаться как переключатель, но вы также можете сделать его видимым как флажок.\n\n\n### Валидация: \n  1. __required()__ - Делает поле обязательным\n  2. __custom()__ - Создает настраиваемое правило проверки.\n\n### Пример:\nInput\n``` js\n{\n  title: 'Has the movie been released?',\n  name: 'released',\n  type: 'boolean'\n}\n```\nOutput\n```js\n{\n  \"_type\": \"movie\",\n  \"released\": true,\n}\n```\n\nНовые документы создаются без полей, определенных схемой. Это означает, что логическое поле в вашей схеме не приведет к немедленному созданию документов, содержащих логический ключ. Ключу должно быть присвоено значение, чтобы он появился в документе. Убедитесь, что ваш интерфейсный код обрабатывает отсутствующее логическое значение как ложное.\n\n> В GROQ вы можете обрабатывать отсутствующие логические и ложные значения одинаково, как это * [_ type == 'story' && Feature! = True], которое будет соответствовать историям, в которых указано ложное или отсутствует (или, честно говоря, любое другое значение, которое не соответствует действительности ).\n\n\n\n\n",
        "message": "",
        "created": "2021-08-03T06:18:32.419Z",
        "creators": []
      }
    },
    {
      "id": "2271269d-3f45-4c43-814c-c5b1cd6b7ce6",
      "emoji": null,
      "title": "Block",
      "content": "",
      "headId": 960273,
      "archivedAt": null,
      "folderPathname": "/Sanity/Типы схем",
      "parentFolderId": "0627b0ae-eb4c-4acb-a569-c37cb0178b7e",
      "teamId": "nhFMY3a5g",
      "generated": false,
      "createdAt": "2021-08-02T15:39:53.195Z",
      "updatedAt": "2021-08-06T09:35:43.498Z",
      "version": 12,
      "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
      "workspaceId": "a26b69f4-c521-4719-9766-2da1c713b767",
      "head": {
        "id": 960273,
        "docId": "2271269d-3f45-4c43-814c-c5b1cd6b7ce6",
        "content": "Чтобы создать поле с форматированным текстом в Sanity, вы должны создать массив блоков. На схеме это выглядит так в простейшем виде:\n\n``` js\n{\n  title: 'Text', \n  name: 'text',\n  type: 'array', \n  of: [{type: 'block'}]\n}\n```\n\nДругими словами, форматированный текст моделируется как массив содержимого в соответствии со спецификацией Portable Text. В базе данных хранится массив объектов JSON, описывающих форматированный текстовый контент. Эти данные JSON позже можно использовать для создания компонентов HTML, React или других форматов в зависимости от целевых требований. Это обеспечивает большую гибкость, если позже вы захотите повторно использовать свой контент в Интернете, приложениях, печати, телевизионных приставках, консолях и т. Д.\n\nТип блочного текста поддерживает стили блоков, списки, декораторы (полужирный, курсив и т. Д.), Настраиваемые типы содержимого (встроенные объекты), встроенные объекты и даже разметку текста произвольными данными объекта (аннотации).\n\n> В настоящее время вы не можете использовать блок как отдельное поле вне массива.\n\n### Свойства:\n\n  1. __type__ (string)(req) - Имя типа схемы. Это будет тип значения в (БД).\n  2. __title__ (string) - Человекочитаемое название поля.\n  3. __name__ (string)(req) - Имя поля (ключь в БД).\n  4. __hidden__ (boolean) - Если установлено значение true, это поле будет скрыто в sanity stydio.\n  5. __readOnly__ (boolean) - Если установлено значение true, это поле нельзя будет редактировать в sanity stydio.\n  6. __description__ (string) - Краткое описание для редакторов, как использовать поле.\n  7. __styles__ (array) - Это определяет, какие стили применяются к блокам. Стиль - это объект с заголовком (будет отображаться в раскрывающемся списке стилей) и значением, например: styles: [{title: 'Quote', value: 'blockquote'}]. Если стили не указаны, по умолчанию используются стили от H1 до H6 и цитата. Стиль с именем normal зарезервирован, всегда включен и представляет \"нестилизованный\" текст. Если вам не нужны никакие стили, установите для него пустой массив, например: styles: [].\n  8. __lists__ (array) - Какие типы списков можно применять к блокам. Как и стили выше, это также массив пар «имя», «заголовок», например: {title: 'Bullet', value: 'bullet'}. Типы списков по умолчанию - маркированный и числовой.\n  9. __marks__ (object) - Объект, определяющий, какие .decorators (массив) и .annotations (массив) разрешены. \n  10. __of__ (array) - Массив встроенных типов контента, который можно разместить в текущем тексте из меню «Вставка».\n  11. __icon__ (function) - Чтобы вернуть значок, отображаемый в меню и на панели инструментов.\n\n### Валидация: \n  1. __required()__ - Делает поле обязательным\n  2. __custom()__ - Создает настраиваемое правило проверки.\n\n> Блок представляет собой один абзац. Чтобы иметь смысл, ваши блоки должны находиться внутри массива.\n\n### Пример схемы: массив блоков по умолчанию\nБез специальной конфигурации редактор блоков поддерживает:\n\n- Стили блоков: от заголовка 1 до заголовка 6, цитаты блока.\n- Декораторы: сильный, выделение, код, подчеркивание и зачеркивание.\n- Списки: маркированный список и упорядоченный список\n- Ссылка: аннотация, представляющая собой объект с href с типом: url\n\nInput\n\n``` js\n{\n  title: 'Rich text example',\n  name: 'myRichTextExample',\n  type: 'array',\n  of: [{type: 'block'}]\n}\n```\n\nOutput \n\n``` js\n{\n  \"myRichTextExample\": [{\n    \"style\": \"normal\",\n    \"_type\": \"block\",\n    \"markDefs\": [],\n    \"children\": [\n      {\n        \"_type\": \"span\",\n        \"text\": \"That was \",\n        \"marks\": []\n      },\n      {\n        \"_type\": \"span\",\n        \"text\": \"bold\",\n        \"marks\": [\n          \"strong\"\n        ]\n      },\n      {\n        \"_type\": \"span\",\n        \"text\": \" of you.\",\n        \"marks\": []\n      }\n    ]\n  },\n  {\n    \"style\": \"normal\",\n    \"_type\": \"block\",\n    \"markDefs\": [],\n    \"children\": [\n      {\n        \"_type\": \"span\",\n        \"text\": \"Amazing, actually.\",\n        \"marks\": []\n      }\n    ]\n  }]\n}\n```\n\n### Пример схемы: массив блоков с настраиваемыми типами\n\nЭто определяет массив блоков, который может включать как текст, так и актеров и (встроенные) изображения.\n\n``` js\n{\n  title: 'Rich text',\n  type: 'array',\n  of: [\n    {type: 'block'},\n    {type: 'actor'},\n    {type: 'image', icon: myIcon}\n  ]\n}\n```\n\nТеперь редактор получит кнопку «Вставить» в текстовом редакторе, где они могут вставлять актеров или изображения как блоки содержимого в свой текст. Данные, хранящиеся в массиве для этих объектов, точно такие же, как если бы они были в обычном массиве объектов, потому что они есть.\n\nЭти объекты встроены на уровне блока, но вам также могут потребоваться объекты, которые отображаются внутри текста, что полезно для таких вещей, как сноски, тикеры или спарклайны. Добавьте их в массив под ключом of в объекте блочного типа:\n\n``` js\n{\n  title: 'Rich text',\n  type: 'array',\n  of: [\n    {\n      type: 'block',\n      of: [\n        {type: 'footnote'}\n      ]\n    }\n  ]\n}\n```\n\n### Customizing\n\nПочти каждый аспект редактора блоков и создаваемый им контент можно настраивать. Вы можете ограничить определенные типы декораторов или добавить свои собственные, использовать собственные стили списков, аннотировать текст пользовательскими данными (например, цитатой или ссылкой) или поддерживать выделенный текст.\n\nВы можете добавить значок в блок, декоратор и аннотацию с помощью функции, которая возвращает значок. Они появятся на панели инструментов.\n\n### Пример схемы: массив блоков с настраиваемыми типами\n\n``` js\n{\n  name: 'customized',\n  title: 'Customized block type',\n  type: 'array',\n  of: [\n    {\n      type: 'block',\n      // Разрешить только эти стили блоков\n      styles: [\n        {title: 'Normal', value: 'normal'},\n        {title: 'H1', value: 'h1'},\n        {title: 'H2', value: 'h2'}\n      ],\n      // Разрешить только нумерованные списки\n      lists: [\n        {title: 'Numbered', value: 'number'}\n      ],\n      marks: {\n        // Разрешить только эти декораторы\n        decorators: [\n          {title: 'Strong', value: 'strong'},\n          {title: 'Emphasis', value: 'em', icon: myIcon}\n        ],\n        // Поддержка аннотирования текста со ссылкой на автора\n        annotations: [\n          {name: 'author', title: 'Author', type: 'reference', to: {type: 'author'}}\n        ]\n      }\n    }\n  ]\n}\n```\n\n> Вы подсознательно задаетесь вопросом, как написать запрос GROQ для поиска вхождения строки в массиве блоков? Попробуйте * [body []. Children []. Text сопоставить \"aliens\"].",
        "message": "",
        "created": "2021-08-02T15:57:40.162Z",
        "creators": [
          {
            "id": "b0568c88-bb34-4420-969e-41238089a0d4",
            "uniqueName": "google#113467622262670857280",
            "displayName": "Alexander Matviienko",
            "createdAt": "2021-05-10T19:50:11.968Z",
            "updatedAt": "2021-05-10T19:50:31.732Z"
          }
        ]
      }
    },
    {
      "id": "37f144d5-2e7e-4440-bd7d-a496e6b32f1f",
      "emoji": null,
      "title": "Reference",
      "content": "",
      "headId": null,
      "archivedAt": null,
      "folderPathname": "/Sanity/Типы схем",
      "parentFolderId": "0627b0ae-eb4c-4acb-a569-c37cb0178b7e",
      "teamId": "nhFMY3a5g",
      "generated": false,
      "createdAt": "2021-08-02T15:27:24.302Z",
      "updatedAt": "2021-08-06T09:35:43.498Z",
      "version": 2,
      "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
      "workspaceId": "a26b69f4-c521-4719-9766-2da1c713b767",
      "head": null
    },
    {
      "id": "af565c43-5da3-4f3c-b012-4bce2f63249e",
      "emoji": null,
      "title": "Валидация",
      "content": "",
      "headId": 960047,
      "archivedAt": null,
      "folderPathname": "/Sanity/Типы схем",
      "parentFolderId": "0627b0ae-eb4c-4acb-a569-c37cb0178b7e",
      "teamId": "nhFMY3a5g",
      "generated": false,
      "createdAt": "2021-08-02T14:41:45.378Z",
      "updatedAt": "2021-08-06T09:35:43.498Z",
      "version": 13,
      "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
      "workspaceId": "a26b69f4-c521-4719-9766-2da1c713b767",
      "head": {
        "id": 960047,
        "docId": "af565c43-5da3-4f3c-b012-4bce2f63249e",
        "content": "Sanity Studio позволяет указывать правила проверки для типов и полей ваших документов. Проверка на уровне поля является наиболее специфичной и дает Studio больше шансов помочь пользователю понять, где проверка не удалась и почему, тогда как проверка на уровне документа обеспечивает немного больше контроля, поскольку она может проверять на основе значений всего документа.\n\n> В настоящее время проверка выполняется только на стороне клиента (в студии контента). В будущем нестандартные правила также будут синхронизироваться и запускаться на сервере. Вот почему мы рекомендуем вам как можно чаще использовать встроенные методы проверки, прибегая к настраиваемой проверке только в случае крайней необходимости.\n\n## Основная\nПроверка определяется путем установки свойства проверки для типа документа или поля. Требуется функция, которая получает Правило в качестве первого аргумента. Вызывая методы для этого правила, вы добавляете новые модификаторы проверки. Вот пример, который подтверждает, что строковое поле имеет значение и длина строки составляет от 10 до 80 символов:\n\n``` js\n{\n  title: 'Title',\n  name: 'title',\n  type: 'string',\n  validation: Rule => Rule.required().min(10).max(80)\n}\n```\n\nБез вызова required () заголовок также считается действительным, если у него нет значения.\n\n\n## Уровни ошибок и сообщения об ошибках\n\nПо умолчанию значения, не прошедшие правила проверки, считаются ошибками - они блокируют публикацию черновика до тех пор, пока они не будут исправлены. Вы также можете сделать правило предупреждением, просто вызвав для правила warning (). Точно так же вы можете настроить отображаемое сообщение об ошибке, передав строку методу warning () или error ():\n\n``` js\n{\n  title: 'Title',\n  name: 'title',\n  type: 'string',\n  validation: Rule => Rule.max(50).warning('Shorter titles are usually better')\n}\n```\n\nЕсли вы хотите объединить предупреждения и ошибки в одном наборе проверки, вы можете использовать массив:\n\n``` js\n{\n  title: 'Title',\n  name: 'title',\n  type: 'string',\n  validation: Rule => [\n    Rule.required().min(10).error('A title of min. 10 characters is required'),\n    Rule.max(50).warning('Shorter titles are usually better')\n  ]\n}\n```\n\n## Ссылка на другие поля\nИногда вам может потребоваться создать правило, основанное на значении другого поля. Вы можете добиться этого, вызвав метод Rule.valueOfField.\n\n``` js\n{\n  title: 'Start date',\n  name: 'startDate',\n  type: 'datetime',\n  validation: Rule => Rule.required().min('2018-03-01T15:00:00.000Z')\n},\n{\n  title: 'End date',\n  name: 'endDate',\n  type: 'datetime',\n  validation: Rule => Rule.required().min(Rule.valueOfField('startDate'))\n}\n```\n\nОднако обратите внимание, что он позволяет ссылаться только на одноуровневые поля. Если вам нужно обратиться к вещам, выходящим за рамки этой области, вам придется использовать проверку на уровне документа.\n\n## Пользовательская проверка\n\nИногда вам нужно будет проверить данные, выходящие за рамки того, что предлагает Sanity. Метод custom() позволяет это сделать. Он принимает функцию в качестве первого аргумента и должен возвращать либо истину (в случае допустимого значения), либо сообщение об ошибке в виде строки в случае недопустимого значения. Вы также можете вернуть обещание, которое разрешается с теми же возвращаемыми значениями, если вам нужно выполнить асинхронные операции:\n\n``` js\n{\n  name: 'location',\n  type: 'geopoint',\n  title: 'Location of bar',\n  description: 'Required, must be in Norway',\n  validation: Rule =>\n    Rule.required().custom(geoPoint =>\n      someGeoService\n        .isWithinBounds(\n          {\n            latitude: geoPoint.lat,\n            longitude: geoPoint.lng\n          },\n          someGeoService.BOUNDS_NORWAY\n        )\n        .then(isWithinBounds => (isWithinBounds ? true : 'Location must be in Norway, somewhere'))\n    )\n}\n```\n\nОбратите внимание, что настраиваемые валидаторы также запускаются для неопределенных значений, если правило не указано явно как необязательное с помощью вызова Rule.optional(). Это позволяет условно разрешать неопределенные значения на основе некоторого внешнего фактора, с небольшим недостатком, который вам необходимо, чтобы ваши функции проверяли наличие неопределенных значений. Вот пример:\n\n``` js\n{\n  name: 'breweryName',\n  type: 'string',\n  title: 'Brewery name',\n  validation: Rule => Rule.custom(name => {\n    if (typeof name === 'undefined') {\n      return true // Allow undefined values\n    }\n    \n    // This would crash if we didn't check\n    // for undefined values first\n    return name.startsWith('Brew')\n      ? 'Please be more creative'\n      : true\n  }).warning()\n}\n```\n\nЕсли вам нужно сослаться на другие поля из пользовательской функции валидатора, вы можете использовать второй аргумент (контекст) функции:\n\n\n```js\n{\n  name: 'durationInMinutes',\n  type: 'number',\n  title: 'Duration of talk, in minutes',\n  validation: Rule => Rule.custom((duration, context) => {\n    const isShortTalk = duration && duration <= 10\n    if (isShortTalk && context.document.talkType !== 'lightning') {\n      return 'Only lightning talks should be 10 minutes or less'\n    }\n    \n    return true\n  })\n}\n```\n\nВы также можете получить доступ к ближайшему родительскому элементу из контекста вместе с путем к текущему проверяемому элементу.\n\n## Проверка детей\n\nВ некоторых случаях может потребоваться проверка дочерних элементов объекта или массива. В этом случае вы можете вернуть объект, содержащий сообщение и свойство paths. Каждый путь представляет собой массив сегментов пути, ведущих к дочернему элементу, который вы хотите пометить как виновника. Допустим, вы хотите запретить пустые блоки / абзацы в переносимом текстовом поле:\n\n``` js\n{\n  name: 'introduction',\n  title: 'Introduction',\n  type: 'array',\n  of: [{type: 'block'}],\n  validation: Rule => Rule.custom(blocks => {\n    const emptyBlocks = (blocks || []).filter(\n      block =>\n        block._type === 'block' &&\n        block.children.every(span =>\n          span._type === 'span' &&\n          span.text.trim() === ''\n        )\n    )\n    \n    const emptyPaths = emptyBlocks.map(\n      (block, index) => [{_key: block._key}] || [index]\n    )\n\n    return emptyPaths.length === 0\n      ? true\n      : {\n          message: 'Paragraph cannot be empty',\n          paths: emptyPaths\n        }\n  })\n}\n```\n\nДля каждого найденного пустого блока мы собираем путь к нему, который может быть либо свойством _key (предпочтительно), либо индексом массива, если ключ не может быть найден.\n\n## Проверка на уровне документа\n\nИногда вам нужно проверить весь документ, а не только отдельные поля в документе. Для этого вы можете присвоить документу свойство проверки и получить доступ к полям внутри документа, передав опору. В этом примере проверка гарантирует, что редакторы не могут добавить «Гостевого автора» и «Автор».\n\n```js\n{\n  name: 'post',\n  type: 'document',\n  title: 'Blog Post',\n  validation: Rule => Rule.custom(fields => {\n    if (fields.authors.length > 0 && Object.keys(fields.guest).length > 0) return \"You can't have an author AND guest author\"\n    return true\n  }),\n  fields: [\n    // ... \n    {\n      name: 'authors',\n      title: 'Authors',\n      type: 'array',\n      of: [\n        {\n          type: 'authorReference',\n        }\n      ]\n    },\n    {\n      name: 'guest',\n      title: 'Guest Author',\n      type: 'object',\n      fields: [\n        {name: 'name', type: 'string', title: 'Guest Author Name'},\n        {name: 'site', type: 'string', title: 'Guest Author Site'},\n      ],\n    },\n  ]\n}\n```\n\n## Отключение валидации \n\nИногда вы можете установить validation: false в документе или поле, чтобы отключить его.\n\n> Проверка выполняется всякий раз, когда в документ вносятся изменения. В будущем мы предоставим способ проверки только при публикации. Помните об этом при выполнении асинхронных операций с внешними API и т.п.\n\n## Вывод\n\nПо сути валидация в sanity задается в виде функции в схеме. У этой функции можно вызывать как заранее заготовленные методы валидации так и писать свои проверки внутри нее.\n",
        "message": "",
        "created": "2021-08-02T15:00:06.651Z",
        "creators": [
          {
            "id": "b0568c88-bb34-4420-969e-41238089a0d4",
            "uniqueName": "google#113467622262670857280",
            "displayName": "Alexander Matviienko",
            "createdAt": "2021-05-10T19:50:11.968Z",
            "updatedAt": "2021-05-10T19:50:31.732Z"
          }
        ]
      }
    },
    {
      "id": "71ca1bf6-1559-40eb-9034-2f1313d740f9",
      "emoji": null,
      "title": "Array",
      "content": "",
      "headId": 960215,
      "archivedAt": null,
      "folderPathname": "/Sanity/Типы схем",
      "parentFolderId": "0627b0ae-eb4c-4acb-a569-c37cb0178b7e",
      "teamId": "nhFMY3a5g",
      "generated": false,
      "createdAt": "2021-08-02T14:06:32.811Z",
      "updatedAt": "2021-08-06T09:35:43.498Z",
      "version": 21,
      "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
      "workspaceId": "a26b69f4-c521-4719-9766-2da1c713b767",
      "head": {
        "id": 960215,
        "docId": "71ca1bf6-1559-40eb-9034-2f1313d740f9",
        "content": "_Тип схемы для массивов других типов._\n\n### Свойства:\n  1. __type__ (string)(req) - Имя типа схемы. Это будет тип значения в (БД).\n  2. __title__ (string) - Человекочитаемое название поля.\n  3. __name__ (string)(req) - Имя поля (ключь в БД).\n  4. __hidden__ (boolean) - Если установлено значение true, это поле будет скрыто в sanity stydio.\n  5. __readOnly__ (boolean) - Если установлено значение true, это поле нельзя будет редактировать в sanity stydio.\n  6. __description__ (string) - Краткое описание для редакторов, как использовать поле.\n  7. __of__ (array) - Указываем какие типы могут быть в массиве. \n  8. __initialValue__ (ArrayOrResolverFunction) - Начальное значение, которое будет использоваться при создании новых массивов из этого типа. Может быть либо литеральным значением массива, либо функцией распознавателя, которая возвращает либо буквальное значение, либо обещание, разрешающееся к начальному значению.\n\n### Опции:\n  1. __sortable__ (boolean) - Определяет, разрешено ли пользователю изменять порядок элементов в массиве. По умолчанию true.\n  2. __layout__ (string) - Если задано значение tags, отображает массив как единое токенизированное поле ввода. Эта опция работает, только если массив содержит строки. Если установлено в сетку, он будет отображаться в сетке.\n  3. __list__ (array) - ```[ {value: <value>, title: <title>}, { … } ]```  отображает флажки для заголовков и заполняет строковый массив выбранными значениями\n  4. __editModal__ (string) - Управляет отображением модального окна (для редактирования содержимого массива). Вы можете выбрать между диалоговым, полноэкранным или всплывающим. По умолчанию диалог.\n\n### Валидация: \n  1. __required()__ - Делает поле обязательным\n  2. __unique()__ - Требует, чтобы все значения в массиве были уникальными. Выполняет глубокое сравнение, исключая только свойство _key при сравнении объектов.\n  3. __min()__ - Минимальное количество элементов в массиве.\n  4. __max()__ - Максимальное количество элементов в массиве.\n  5. __length()__ - Точное количество разрешенных элементов массива.\n  6. __custom()__ - Создает настраиваемое правило проверки.\n\n### Пример: массив строк\nСхема:\n  ``` js\n  {\n  title: 'Names',\n  name: 'names',\n  type: 'array',\n  of: [{type: 'string'}]\n}\n  ```\n  API ответ:\n  \n  ``` js\n  {\n  \"names\": [\"Wilma\", \"Håvard\"]\n  }\n  ```\n  Токенизированное поле (теги) - это обычный массив по данным.\n  \n  Схема: \n  ``` js\n  // Представлен как поле тега токенизации\n{\n  title: 'Tags',\n  name: 'tags',\n  type: 'array',\n  of: [{type: 'string'}],\n  options: {\n    layout: 'tags'\n  }\n}\n  ```\n  \n  API ответ\n  \n  ``` js\n  {\n  \"tags\": [\"clever\", \"unexpected\"]\n  }\n  ```\n  \n###  Пример: массив, содержащий как членов съемочной группы, так и актеров.\n\nИ CrewMember, и castMember - это настраиваемые типы, определенные в нашей схеме. В этом примере мы хотим, чтобы массив сотрудников мог содержать как членов экипажа, так и актеров. Результирующий массив будет содержать встроенные экземпляры фактических объектов. Обратите внимание, что в реальном примере вы можете захотеть, чтобы это были ссылки на существующих актеров или членов съемочной группы.\n\nСхема:\n``` js\n{\n  title: 'Employees',\n  name: 'employees',\n  type: 'array',\n  of: [{type: 'crewMember'}, {type: 'castMember'}]\n}\n```\nAPI ответ:\n``` js\n[\n  {\n      \"_key\": \"5ead6b7c7dcc55ae66d504e2d9bfeff5\",\n      \"_type\": \"castMember\",\n      \"characterName\": \"Mark Watney\",\n      \"externalCreditId\": \"53e7e85e0e0a266f9a0029aa\",\n      \"person\": {\n        \"_ref\": \"person_matt-damon\",\n        \"_type\": \"reference\"\n      }\n  },\n  {\n    \"_key\": \"8c1dd384a3ab34befbe5fdd93478fc8e\",\n    \"_type\": \"castMember\",\n    \"characterName\": \"Melissa Lewis\",\n    \"externalCreditId\": \"5466c78eeaeb8172820008e4\",\n    \"person\": {\n      \"_ref\": \"person_jessica-chastain\",\n      \"_type\": \"reference\"\n    }\n  },\n  {\n    \"_key\": \"76a7e8c2547ce445294c581564bc7d75\",\n    \"_type\": \"crewMember\",\n    \"department\": \"Camera\",\n    \"externalCreditId\": \"5607a946c3a3681218003eef\",\n    \"externalId\": 1404244,\n    \"job\": \"Helicopter Camera\",\n    \"person\": {\n      \"_ref\": \"person_john-marzano\",\n      \"_type\": \"reference\"\n    }\n  }\n]\n```\n\n### Пример: массив ссылок\nЕсли мы хотим, чтобы castMember и crewMember хранились как отдельные документы, а наш массив должен содержать ссылки на эти документы, а не на фактические данные.\n\nСхема:\n``` js\n{\n  title: 'Employees',\n  name: 'employees',\n  type: 'array',\n  of: [\n    {\n      type: 'reference',\n      to: [\n        {type: 'castMember'},\n        {type: 'crewMember'}\n      ]\n    }\n  ]\n}\n```\nОтвет:\n``` js\n[\n  {\n    \"_ref\": \"person_harrison-ford\",\n    \"_type\": \"reference\"\n  },\n  {\n    \"_ref\": \"person_ridley-scott\",\n    \"_type\": \"reference\"\n  }\n  //...\n]\n```\n### Пример: предопределенные строки\n\nИногда вам нужен массив строк, представленный как набор предопределенных значений. Используя параметр списка, поле представляется в виде массива флажков, где редактор может переключать, какие строки находятся в массиве. Это обрабатывает массив как набор, и порядок не определен.\n\nСхема:\n``` js\n{\n  title: 'Category Set',\n  name: 'categorySet',\n  type: 'array',\n  of: [{type: 'string'}],\n  options: {\n    list: [\n      {title: 'Building', value: 'building'},\n      {title: 'Master plan', value: 'masterPlan'},\n      {title: 'Infrastructure', value: 'infrastructure'},\n      {title: 'Private Home', value: 'privateHome'}\n    ]\n  }\n}\n```\n\nОтвет:\n``` js\n{\n  \"categorySet\": [\"building\", \"privateHome\"]\n}\n```\n\n### Пример: уникальные значения\n\nОбычно в массиве нужны только уникальные элементы. Это можно сделать, добавив функцию проверки и используя метод unique ().\n\nСхема:\n``` js\n{\n  title: 'Category Set',\n  name: 'categorySet',\n  type: 'array',\n  of: [{type: 'string'}],\n  validation: Rule => Rule.unique()\n}\n```\nОтвет:\n``` js\n{\n  \"categorySet\": [\"building\", \"privateHome\"]\n}\n```\n\n### Why the _key?\nПри добавлении данных с типом «объект» в массив каждому элементу присваивается постоянное и уникальное свойство _key. Это необходимо для того, чтобы каждый элемент мог быть адресован уникальным образом в условиях совместной работы в реальном времени. Это позволяет одному пользователю редактировать элемент массива, в то время как другой пользователь одновременно переупорядочивает массив.\n\n#### Два ограничения\n1. Из-за ограничений в хранилище данных массивы в настоящее время могут не содержать массивы. Оборачивайте вложенные массивы в объекты.\n2. Невозможно определить массивы, содержащие как типы объектов, так и примитивные типы. Массивы, которые содержат значения примитивных типов (например, строки или числа), не могут быть адресованы однозначно с помощью ключа в реальном времени (например, пользователь может редактировать элемент массива, в то время как другой пользователь переупорядочивает массив). Как следствие, при определении массива примитивных значений студия контента переключится на более простой виджет ввода массива для редактирования. Этот виджет ввода не сможет обрабатывать типы объектов, поэтому по этой причине невозможно определить массивы, содержащие как типы объектов, так и примитивные типы. Если вам когда-либо понадобится массив, содержащий как строки, так и объекты (например, фильм), вы должны вместо этого заключить строковые значения в тип объекта (например, определенный на месте) и дать ему свойство, которое содержит строковое значение.\n\nТак не пойдет:\n``` js\n{\n  type: 'array',\n  of: [\n    {\n      type: 'actor',\n      title: 'Actor'\n    },\n    {\n      type: 'string', /* Will not work! */\n      title: 'Actor name'\n    }\n  ]\n}\n```\nЭто будет работать:\n\n``` js\n{\n  type: 'array',\n  of: [\n    {\n      title: 'Actor',\n      type: 'actor'\n    },\n    {\n      title: 'Actor name',\n      type: 'object',\n      fields: [\n        {\n          title: 'Name',\n          name: 'value',\n          type: 'string'\n        } \n      ]\n    }\n  ]\n}\n```\n\n\n",
        "message": "",
        "created": "2021-08-02T15:36:52.825Z",
        "creators": [
          {
            "id": "b0568c88-bb34-4420-969e-41238089a0d4",
            "uniqueName": "google#113467622262670857280",
            "displayName": "Alexander Matviienko",
            "createdAt": "2021-05-10T19:50:11.968Z",
            "updatedAt": "2021-05-10T19:50:31.732Z"
          }
        ]
      }
    },
    {
      "id": "570d24d5-174e-4140-a3c7-592ad6b400ca",
      "emoji": null,
      "title": "Типы схем",
      "content": "",
      "headId": 959774,
      "archivedAt": null,
      "folderPathname": "/Sanity/Типы схем",
      "parentFolderId": "0627b0ae-eb4c-4acb-a569-c37cb0178b7e",
      "teamId": "nhFMY3a5g",
      "generated": false,
      "createdAt": "2021-08-02T13:57:22.842Z",
      "updatedAt": "2021-08-06T09:35:43.498Z",
      "version": 4,
      "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
      "workspaceId": "a26b69f4-c521-4719-9766-2da1c713b767",
      "head": {
        "id": 959774,
        "docId": "570d24d5-174e-4140-a3c7-592ad6b400ca",
        "content": "_Схема описывает различные типы полей, из которых состоит документ (сущность). _\n\nСвойства:\n  1. __type__ (string)(req) - Имя типа схемы. Это будет тип значения в (БД).\n  2. __title__ (string) - Человекочитаемое название поля.\n  3. __name__ (string)(req) - Имя поля (ключь в БД).\n  4. __hidden__ (boolean) - Если установлено значение true, это поле будет скрыто в sanity stydio.\n  5. __readOnly__ (boolean) - Если установлено значение true, это поле нельзя будет редактировать в sanity stydio.\n  6. __description__ (string) - Краткое описание для редакторов, как использовать поле.",
        "message": "",
        "created": "2021-08-02T14:04:58.303Z",
        "creators": [
          {
            "id": "b0568c88-bb34-4420-969e-41238089a0d4",
            "uniqueName": "google#113467622262670857280",
            "displayName": "Alexander Matviienko",
            "createdAt": "2021-05-10T19:50:11.968Z",
            "updatedAt": "2021-05-10T19:50:31.732Z"
          }
        ]
      }
    },
    {
      "id": "fa33c9d6-cf12-4187-b7f8-ef789f4c9b89",
      "emoji": null,
      "title": "Cоздание кастомных плагинов",
      "content": "",
      "headId": 959404,
      "archivedAt": null,
      "folderPathname": "/Sanity",
      "parentFolderId": "9ea3f21a-8e4c-4e52-8784-bef9b4b21e18",
      "teamId": "nhFMY3a5g",
      "generated": false,
      "createdAt": "2021-08-02T12:06:22.382Z",
      "updatedAt": "2021-08-06T09:35:43.498Z",
      "version": 11,
      "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
      "workspaceId": "a26b69f4-c521-4719-9766-2da1c713b767",
      "head": {
        "id": 959404,
        "docId": "fa33c9d6-cf12-4187-b7f8-ef789f4c9b89",
        "content": "Данный тип кастомизации удобен для создания принципиально нового интерфейса. Более подробно мы разберем на практике (примере).\n\n## Инициализируем плагин\n1. Прописываем в консоли ```sanity init plugin```\n2. В терминале выбираем тип плагинга который хотим создать (в примере это базовый) и задаем ему имя (по примеру это comment-moderation).\n3. И тепрь добавляем его к плагинам в sanity.json (если он конечно не добавился сам)\n\n## Строим UI\nВ корне появляется (если нету) папка plugins в которой мы можем найти наш плагин.\nОткрыв его папку мы найдем js компнент, стили и другие файлы с которым имы разберемся по позже.\n\n1. Recat - компонент. \n\nОткрыв его мы можем обнаружить что он классовый, если нас не устраивает подобный ход веще то мы можем смело поменять его на функциональный (благо менять не много).\nВ итоге у нас получается нечто подобное.\n\n``` js\nimport React from 'react';\nimport styles from './MyTool.css'\nimport {Card, Container, Heading, Stack, Text} from \"@sanity/ui\";\n\nconst MyTool = () => {\n  return (\n    // Класический контейнер размещенный по центру, через атрибут ширины можно коректировать ширину\n    <Container width={3}>\n    // Карточка в которую можно поместить все что угодно\n      <Card margin={3} padding={4}>\n        <Stack space={3}>\n          // Заголовок это компонент для создания h тегов\n          <Heading as=\"h1\" size={5}>Comment Moderation Dashboard</Heading>\n          // Стекстом думаю все понятно\n          <Text as=\"p\">Moderate your comments here. Each box shows the latest 5 from each group.</Text>\n        </Stack>\n      </Card>\n    </Container>\n  );\n};\n\nexport default MyTool;\n```\n\nВот как бы на данном этапе и все.",
        "message": "",
        "created": "2021-08-02T12:57:54.125Z",
        "creators": [
          {
            "id": "b0568c88-bb34-4420-969e-41238089a0d4",
            "uniqueName": "google#113467622262670857280",
            "displayName": "Alexander Matviienko",
            "createdAt": "2021-05-10T19:50:11.968Z",
            "updatedAt": "2021-05-10T19:50:31.732Z"
          }
        ]
      }
    },
    {
      "id": "8545753d-2215-4fb6-84ce-1f02f00489b0",
      "emoji": null,
      "title": "Основное",
      "content": "",
      "headId": 958961,
      "archivedAt": null,
      "folderPathname": "/Sanity/Sanity UI",
      "parentFolderId": "6b0443c3-022e-4048-99ce-cfc6a96d9d03",
      "teamId": "nhFMY3a5g",
      "generated": false,
      "createdAt": "2021-08-02T10:10:35.599Z",
      "updatedAt": "2021-08-06T09:35:43.498Z",
      "version": 4,
      "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
      "workspaceId": "a26b69f4-c521-4719-9766-2da1c713b767",
      "head": {
        "id": 958961,
        "docId": "8545753d-2215-4fb6-84ce-1f02f00489b0",
        "content": "## Sanity UI\nSanity UI - это библиотека дизайна, позволяющая разработчикам поддерживать новые компоненты, макеты и информационные панели в соответствии с дизайном студии. Есть компоненты для многих потребностей в строительстве опыта редактора , такие как TextInput, Radio, Select, и Autocomplete, а также общий план потребностей , такие как Card, Gridи Stack.\n\n**Вся иинформация по ней собрана на сайте**: [https://www.sanity.io/ui](url)",
        "message": "",
        "created": "2021-08-02T10:14:06.403Z",
        "creators": [
          {
            "id": "b0568c88-bb34-4420-969e-41238089a0d4",
            "uniqueName": "google#113467622262670857280",
            "displayName": "Alexander Matviienko",
            "createdAt": "2021-05-10T19:50:11.968Z",
            "updatedAt": "2021-05-10T19:50:31.732Z"
          }
        ]
      }
    },
    {
      "id": "1dfc3837-7415-4626-b283-1be58480ddd2",
      "emoji": null,
      "title": "Создание полей ввода",
      "content": "",
      "headId": 959192,
      "archivedAt": null,
      "folderPathname": "/Sanity/Sanity UI",
      "parentFolderId": "6b0443c3-022e-4048-99ce-cfc6a96d9d03",
      "teamId": "nhFMY3a5g",
      "generated": false,
      "createdAt": "2021-08-02T09:19:13.545Z",
      "updatedAt": "2021-08-06T09:35:43.498Z",
      "version": 23,
      "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
      "workspaceId": "a26b69f4-c521-4719-9766-2da1c713b767",
      "head": {
        "id": 959192,
        "docId": "1dfc3837-7415-4626-b283-1be58480ddd2",
        "content": "1. В папке для кастомных компонентов (если нет то создаем). Создаем файл компонента поля ввода. Пусть будет __TwitterUrl.js__.\n\nВ конечном итоге файл у нас принимает следующий вид:\n``` js\nimport React from \"react\";\n// Класическое поле ввода от sanity\nimport {FormField} from \"@sanity/base/lib/components\";\n// Компоненты из Sanity UI (такая себе альтернатива Material\\UI)\nimport {TextInput, Flex, Text, Box, Card} from \"@sanity/ui\"\n\nimport PatchEvent, {set, unset} from '@sanity/form-builder/PatchEvent'\nimport {useId} from \"@reach/auto-id\";\n\n// Нам необходим компнент forwardRef, для возможности приема ref-ов (ссылок)\nconst TwitterUrl = React.forwardRef((props, ref) => {\n  // Стандартно компоненту формы в пропсы прокидываются параметры со схемы а так же различные обработчики\nconst {\n  // Информация со схемы (имя, название, тип)\n  type,\n  // Значине поля\n  value,\n  // Переключатель возможности редактирования поля\n  readOnly,\n  // Класический placeholder\n  placeholder,\n  // Маркеры, включая правила проверки\n  markers,\n  // Информация о присутствии для совместных аватаров\n  presence,\n  // Значение для проверки \"отредактированной\" функциональности\n  compareValue,\n  // Обработчик попадания поля в фокус\n  onFocus,\n  // Обработчик исчезновение поля из фокуса\n  onBlur,\n  // Обработчик измения поля\n  onChange\n} = props\n\n  // Создаем функцию которая будет срабаывать при измении содержимого поля\n  const handleChange = React.useCallback(\n    (event) => {\n      // Выбираем значение с поля\n      const inputValue = event.currentTarget.value\n      // Устанавливаем значение поля куда надо \n      onChange(PatchEvent.from(inputValue ? set(inputValue) : unset()))\n    },\n    // Метод срабатывает при срабатывании обработчика onChange\n    [onChange]\n  )\n  // Необходимо для связывания label и input\n  const inputId = useId()\n\n     return (\n       // Обертка поля \n       <FormField\n         //Описание забираем из описания в схеме\n       description={type.description}\n       //Так же и с загловком\n       title={type.title}\n       \n       compareValue={compareValue}\n       //Фиг его знает с маркерами я еще не разобрался\n       __unstable_markers={markers}\n       //Как и с этими товарищами\n       __unstable_presence={presence}\n       // Ну тут мы связываем label\n       inputId={inputId}\n       >\n         <Flex>\n           {/*Вот мне заходит как здесь ставятся стили*/}\n           <Flex as={Card} paddingX={3} border borderRight={false} align=\"center\">\n             <Text size={1} muted>{type.options?.prepend}</Text>\n           </Flex>\n           <Box flex={1}>\n             {/*Сам инпут*/}\n             <TextInput\n               // Ставим мндентификатор\n               id={inputId}\n               // Закрепляем значение\n               value={value}\n               // ставим переключатель возможности редактирования\n               readOnly={readOnly}\n               // Ставим плейсхолдер\n               placeholder={placeholder}\n               // И лепим обработчики\n               onFocus={onFocus}\n               onBlur={onBlur}\n               onChange={handleChange}\n             />\n           </Box>\n         </Flex>\n       </FormField>\n    )\n  }\n)\n\nexport default TwitterUrl\n```\n\nПосле создаем под него запись в нужной схеме (если надо то создаем схему)\n``` js\n    {\n      name: 'twitter',\n      title: 'Twitter URL',\n      type: 'url',\n        //Таким образом импортируется компонент\n      inputComponent: TwitterUrl,\n      options: {\n        prepend: 'https://twitter.com/'\n      }\n    },\n```",
        "message": "",
        "created": "2021-08-02T11:43:53.927Z",
        "creators": [
          {
            "id": "b0568c88-bb34-4420-969e-41238089a0d4",
            "uniqueName": "google#113467622262670857280",
            "displayName": "Alexander Matviienko",
            "createdAt": "2021-05-10T19:50:11.968Z",
            "updatedAt": "2021-05-10T19:50:31.732Z"
          }
        ]
      }
    },
    {
      "id": "32b308f5-dafd-413a-81e1-bcd9de1bb01c",
      "emoji": null,
      "title": "Полезные советы",
      "content": "",
      "headId": 1077209,
      "archivedAt": null,
      "folderPathname": "/Общее решения",
      "parentFolderId": "1b0abfc2-935b-4ae6-a795-8ab1af7ab6d8",
      "teamId": "nhFMY3a5g",
      "generated": false,
      "createdAt": "2021-07-19T06:59:29.685Z",
      "updatedAt": "2021-08-26T15:16:06.712Z",
      "version": 5,
      "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
      "workspaceId": "4ae225f9-123d-4918-a49f-e0c91bd0b18a",
      "head": {
        "id": 1077209,
        "docId": "32b308f5-dafd-413a-81e1-bcd9de1bb01c",
        "content": "1. Когда что то получается, делай скрин этого, а то пропадет и фиг потом вспомнишь как это получалось. \n2. Сделать качественно одну часть работы и не сделать вторую куда лучще чем сделать так себе две части. Так что учись концентрироватся на одном.\n3. Kill port sudo kill $(sudo lsof -t -i:3000)\n4. killall <programm_name> - убивает все процессы этой программы (особенно помогает когда офигевает нода)\n5. ps ax | grep <programm_name>  помогает найти процессы конкретной программы",
        "message": "",
        "created": "2021-08-26T15:16:06.693Z",
        "creators": [
          {
            "id": "b0568c88-bb34-4420-969e-41238089a0d4",
            "uniqueName": "google#113467622262670857280",
            "displayName": "Alexander Matviienko",
            "createdAt": "2021-05-10T19:50:11.968Z",
            "updatedAt": "2021-05-10T19:50:31.732Z"
          }
        ]
      }
    },
    {
      "id": "b95fa3ad-cf07-4c93-ae10-466a7c5eee02",
      "emoji": null,
      "title": "Plugin",
      "content": "",
      "headId": 844910,
      "archivedAt": null,
      "folderPathname": "/Phalcon",
      "parentFolderId": "9cec56c8-dd30-4f6d-b20f-e17284fffb51",
      "teamId": "nhFMY3a5g",
      "generated": false,
      "createdAt": "2021-07-14T16:55:06.657Z",
      "updatedAt": "2021-08-06T09:35:47.138Z",
      "version": 3,
      "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
      "workspaceId": "a26b69f4-c521-4719-9766-2da1c713b767",
      "head": {
        "id": 844910,
        "docId": "b95fa3ad-cf07-4c93-ae10-466a7c5eee02",
        "content": "## Model create plugin\nlink on info about create plugin [https://docs.phalcon.io/3.4/ru-ru/tutorial-invo](url)\n```php\n<?php\n\nuse Phalcon\\Events\\Event;\nuse Phalcon\\Mvc\\User\\Plugin;\nuse Phalcon\\Mvc\\Dispatcher;\n\nclass SecurityPlugin extends Plugin\n{\n    // ...\n\n    public function beforeExecuteRoute(Event $event, Dispatcher $dispatcher)\n    {\n        // ...\n    }\n}\n```\nExample plugin\n\n``` php\n<?php\n\nuse Phalcon\\Events\\Event;\nuse Phalcon\\Mvc\\Micro;\nuse Phalcon\\Mvc\\User\\Plugin;\n\nclass CORSPlugin extends Plugin {\n\n    public function beforeHandleRoute(Event $event, Micro $app) {\n        $origin = $app->request->getHeader('ORIGIN') ? $app->request->getHeader('ORIGIN') : '*';\n\n        if (strtoupper($app->request->getMethod()) == 'OPTIONS') {\n            $app->response\n                ->setHeader('Access-Control-Allow-Origin', $origin)\n                ->setHeader('Access-Control-Allow-Methods', 'GET,PUT,POST,DELETE,OPTIONS')\n                ->setHeader('Access-Control-Allow-Headers', 'Origin, X-Requested-With, Content-Range, Content-Disposition, Content-Type, Authorization')\n                ->setHeader('Access-Control-Allow-Credentials', 'true');\n\n            $app->response->setStatusCode(200, 'OK')->send();\n\n            exit;\n        }\n\n        $app->response\n            ->setHeader('Access-Control-Allow-Origin', $origin)\n            ->setHeader('Access-Control-Allow-Methods', 'GET,PUT,POST,DELETE,OPTIONS')\n            ->setHeader('Access-Control-Allow-Headers', 'Origin, X-Requested-With, Content-Range, Content-Disposition, Content-Type, Authorization')\n            ->setHeader('Access-Control-Allow-Credentials', 'true');\n    }\n\n}\n\n\n?>\n\n```\n\n## Initialization plugin \nin index.php\n\n``` php\n// Подключение\n// $di->set('cors', function() {\n//     return new CORSPlugin;\n// }, true);\n```\n\nand \n\n``` php\n // Инициализация\n //$em->attach('micro:beforeHandleRoute', $di->get('cors'));\n//<-\n```\n",
        "message": "",
        "created": "2021-07-14T16:58:29.920Z",
        "creators": [
          {
            "id": "b0568c88-bb34-4420-969e-41238089a0d4",
            "uniqueName": "google#113467622262670857280",
            "displayName": "Alexander Matviienko",
            "createdAt": "2021-05-10T19:50:11.968Z",
            "updatedAt": "2021-05-10T19:50:31.732Z"
          }
        ]
      }
    },
    {
      "id": "e1c69d18-d55b-4d76-9c04-0dc77b3569d5",
      "emoji": null,
      "title": "Бан пользователя",
      "content": "",
      "headId": 842265,
      "archivedAt": null,
      "folderPathname": "/Node.js/Nest/Пользователи",
      "parentFolderId": "4dd03d98-6da0-4966-b23d-edbe8afcd46d",
      "teamId": "nhFMY3a5g",
      "generated": false,
      "createdAt": "2021-07-14T09:04:36.826Z",
      "updatedAt": "2021-07-19T08:19:33.980Z",
      "version": 4,
      "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
      "workspaceId": "a26b69f4-c521-4719-9766-2da1c713b767",
      "head": {
        "id": 842265,
        "docId": "e1c69d18-d55b-4d76-9c04-0dc77b3569d5",
        "content": "1. Создаем эндпоинт\n\n2. Создаем dto\n``` ts\n// Принимаем id пользователя для бана и указываем причину\nexport class BanUserDto {\n    readonly userId: number;\n    readonly banReason: string;\n  }\n```\n",
        "message": "",
        "created": "2021-07-14T09:30:59.143Z",
        "creators": [
          {
            "id": "b0568c88-bb34-4420-969e-41238089a0d4",
            "uniqueName": "google#113467622262670857280",
            "displayName": "Alexander Matviienko",
            "createdAt": "2021-05-10T19:50:11.968Z",
            "updatedAt": "2021-05-10T19:50:31.732Z"
          }
        ]
      }
    },
    {
      "id": "ba16cdb9-d115-4638-a9e6-50cdc9603cdc",
      "emoji": null,
      "title": "Выдача ролей",
      "content": "",
      "headId": 842261,
      "archivedAt": null,
      "folderPathname": "/Node.js/Nest/Пользователи",
      "parentFolderId": "4dd03d98-6da0-4966-b23d-edbe8afcd46d",
      "teamId": "nhFMY3a5g",
      "generated": false,
      "createdAt": "2021-07-14T08:55:53.097Z",
      "updatedAt": "2021-07-19T08:19:33.980Z",
      "version": 5,
      "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
      "workspaceId": "a26b69f4-c521-4719-9766-2da1c713b767",
      "head": {
        "id": 842261,
        "docId": "ba16cdb9-d115-4638-a9e6-50cdc9603cdc",
        "content": "1. Создаем эндпоинт который принимает роль и индефикатор пользователя и передает их сервису\n\n``` ts\n    // Эндпоинт для создания ролей\n    @ApiOperation({summary: 'Выдать роль'})\n    @ApiResponse({status: 200})\n    @Roles(\"ADMIN\")\n    @UseGuards(RolesGuard)\n    @Post('/role')\n    // Достаем с тела запроса роль и адрес пользователя\n    addRole(@Body() dto: AddRoleDto){\n        // и кидаем их в метод сервиса для назначения ролей\n        return this.usersService.addRole(dto)\n    }\n```\n\n2. Создаем dto для этой процедуры\n\n``` ts\n// id пользователя и роль которую будем ему передавать\nexport class AddRoleDto {\n    readonly value: string;\n    readonly userId: number\n}\n```\n\n3. Создаем функцию в сервисе\n\n``` ts\n    async addRole(dto: AddRoleDto){\n        // Находим пользователя\n        const user = await this.userRepository.findByPk(dto.userId)\n        // Находим роль через обращение к сервису ролей к заранее заготовленной функции\n        const role = await this.roleService.getRoleByValue(dto.value)\n        // Если пользователь и роль найдены\n        if(role && user) {\n            // то мы добавляем роль пользователю\n            await user.$add('role', role.id)\n            return dto\n        }\n        // Если пользователь или роль не найдены возвращаем ошибку\n        throw new HttpException('Пользователь или роль не найдены', HttpStatus.NOT_FOUND)\n    }\n```",
        "message": "",
        "created": "2021-07-14T09:29:43.882Z",
        "creators": [
          {
            "id": "b0568c88-bb34-4420-969e-41238089a0d4",
            "uniqueName": "google#113467622262670857280",
            "displayName": "Alexander Matviienko",
            "createdAt": "2021-05-10T19:50:11.968Z",
            "updatedAt": "2021-05-10T19:50:31.732Z"
          }
        ]
      }
    },
    {
      "id": "ee01c188-73e9-4cb5-be88-c2efe05c4b7b",
      "emoji": null,
      "title": "Роли",
      "content": "",
      "headId": 841909,
      "archivedAt": null,
      "folderPathname": "/Node.js/Nest/Пользователи",
      "parentFolderId": "4dd03d98-6da0-4966-b23d-edbe8afcd46d",
      "teamId": "nhFMY3a5g",
      "generated": false,
      "createdAt": "2021-07-14T08:30:26.372Z",
      "updatedAt": "2021-07-19T08:19:33.980Z",
      "version": 8,
      "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
      "workspaceId": "a26b69f4-c521-4719-9766-2da1c713b767",
      "head": {
        "id": 841909,
        "docId": "ee01c188-73e9-4cb5-be88-c2efe05c4b7b",
        "content": "Создаем декоратор котрый будет принимать в себя роль и устанавливать ее в метаинформацию.\n\n``` ts\nimport {SetMetadata} from \"@nestjs/common\";\n// Константа с ключом по коиторому мы сможем получать метаданные внутри guard (или другой цели для декоратора)\nexport const ROLES_KEY = 'roles'\n// Эта функия которая станет декоратором будет принимать роли и устанавливать в метаданные массив ролей\nexport const Roles = (...roles: string[]) => SetMetadata(ROLES_KEY, roles)\n```\n\nЗатем создаем guard который будет проверять роль пользователя прежде чем куда то его пустить.\n\n``` ts\nimport {ExecutionContext, Injectable, UnauthorizedException} from \"@nestjs/common\";\nimport {Observable} from \"rxjs\";\nimport {JwtService} from \"@nestjs/jwt\";\n\n@Injectable()\nexport class JwtAuthGuard {\n    // Тут подтягиваем JwtService для проверки токена, Reflector нужен для того что бы получить доступ к метаданным\n    constructor(private jwtService: JwtService, private reflector: Reflector) {\n    }\n\n    // Эта функция принимает контекст и возвращает bool значение, (false - доступ запрещен, true - доступ разрешен)\n    canActive(context: ExecutionContext) : boolean | Promise<boolean> | Observable<boolean>{\n        // Получаем запрос\n        const req = context.switchToHttp().getRequest()\n        try {\n          // Отправляем роли в guard\n          const requiredRoles = this.reflector.getAllAndOverride<string[]>(ROLES_KEY, [\n                context.getHandler(),\n                context.getClass(),])\n          // Если отправлять нечего то и проверять нечего пропускаем пользователя\n          if (!requiredRoles) {\n                return true;\n            }\n            // Достаем заголовок авторизации\n            const authHeader = req.headers.authorization;\n            // Он состоит из двух частей (тип токена и токен) которые мы и достаем\n            const bearer = authHeader.split(' ')[0]\n            const token = authHeader.split(' ')[1]\n\n            // Если токен не типа Bearer или его вовсе нет тогда выдаем ошибку\n            if(bearer !== 'Bearer' || !token) {\n                throw new UnauthorizedException({message: 'Пользователь не авторризован'})\n            }\n            // Раскодируем токен\n            const user = this.jwtService.verify(token)\n            req.user = user\n            // возвращаем результат проверки у пользователя этой роли\n            return user.roles.some(role => requiredRoles.includes(role.value));\n            // catch ...\n        } catch (e) {\n            // В случае ошибки вернется сообщение о ошибке\n      throw new HttpException( 'Нет доступа', HttpStatus.FORBIDDEN)\n        }\n    }\n}\n```\n\nИдалее используем guard и decorator в контролере\n\n``` ts\n// Загоняем в метаданные роль для проверки\n    @Roles(\"ADMIN\")\n// Вызываем гард который достает из метаданных роль и проверяет пользователей в контролере на соответсвие\n    @UseGuards(RolesGuard)\n```",
        "message": "",
        "created": "2021-07-14T08:52:32.852Z",
        "creators": [
          {
            "id": "b0568c88-bb34-4420-969e-41238089a0d4",
            "uniqueName": "google#113467622262670857280",
            "displayName": "Alexander Matviienko",
            "createdAt": "2021-05-10T19:50:11.968Z",
            "updatedAt": "2021-05-10T19:50:31.732Z"
          }
        ]
      }
    },
    {
      "id": "4641427c-24de-482a-b616-fa62bdc98bab",
      "emoji": null,
      "title": "Декораторы",
      "content": "",
      "headId": 841730,
      "archivedAt": null,
      "folderPathname": "/Node.js/Nest",
      "parentFolderId": "8c517988-39d6-450c-81fb-4a945a1d4209",
      "teamId": "nhFMY3a5g",
      "generated": false,
      "createdAt": "2021-07-14T08:27:05.171Z",
      "updatedAt": "2021-07-19T08:19:33.980Z",
      "version": 3,
      "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
      "workspaceId": "a26b69f4-c521-4719-9766-2da1c713b767",
      "head": {
        "id": 841730,
        "docId": "4641427c-24de-482a-b616-fa62bdc98bab",
        "content": "Создать декортаор очень просто, создаем файл с именем __name.decorator.ts__ и в нем создаем функцию наподобию вот этой.\n\n``` ts\nexport const Roles = (...roles: string[]) => SetMetadata(ROLES_KEY, roles)\n```\n\nЭта функция может делать что угодно и ринимать что угодно, тут самое главное что мы создали нужный файл и создали в нем функцию теперь мы можем использовать это дело вот так\n\n``` ts\n@Roles(\"ADMIN\")\n```",
        "message": "",
        "created": "2021-07-14T08:30:14.159Z",
        "creators": [
          {
            "id": "b0568c88-bb34-4420-969e-41238089a0d4",
            "uniqueName": "google#113467622262670857280",
            "displayName": "Alexander Matviienko",
            "createdAt": "2021-05-10T19:50:11.968Z",
            "updatedAt": "2021-05-10T19:50:31.732Z"
          }
        ]
      }
    },
    {
      "id": "30f057ea-6bb2-4d5a-819d-9286ca6cc314",
      "emoji": null,
      "title": "Guard",
      "content": "",
      "headId": 841499,
      "archivedAt": null,
      "folderPathname": "/Node.js/Nest",
      "parentFolderId": "8c517988-39d6-450c-81fb-4a945a1d4209",
      "teamId": "nhFMY3a5g",
      "generated": false,
      "createdAt": "2021-07-14T06:30:46.290Z",
      "updatedAt": "2021-07-19T08:19:33.980Z",
      "version": 13,
      "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
      "workspaceId": "a26b69f4-c521-4719-9766-2da1c713b767",
      "head": {
        "id": 841499,
        "docId": "30f057ea-6bb2-4d5a-819d-9286ca6cc314",
        "content": "Это штуки которые ограничивают достпу пользоватеелем туда где им не стоит быть.\nВ примере мы будем запрещать доступ неавторизированым пользователям. Но принцип применим и в других случаях.\n\n1.  Прописываем подобную команду ```nest g guard name```\n\n\n2. Пример логики guard, как можнор с лету понять суть заключается в том что эта функция что проверяет и возвращает true или false.\n``` ts\n@Injectable()\nexport class JwtAuthGuard {\n    // Тут подтягиваем JwtService для проверки токена\n    constructor(private jwtService: JwtService) {\n    }\n\n    // Эта функция принимает контекст и возвращает bool значение, (false - доступ запрещен, true - доступ разрешен)\n    canActive(context: ExecutionContext) : boolean | Promise<boolean> | Observable<boolean>{\n        // Получаем запрос\n        const req = context.switchToHttp().getRequest()\n        try {\n            // Достаем заголовок авторизации\n            const authHeader = req.headers.authorization;\n            // Он состоит из двух частей (тип токена и токен) которые мы и достаем\n            const bearer = authHeader.split(' ')[0]\n            const  token = authHeader.split(' ')[1]\n\n            // Если токен не типа Bearer или его вовсе нет тогда выдаем ошибку\n            if(bearer !== 'Bearer' || !token) {\n                throw new UnauthorizedException({message: 'Пользователь не авторризован'})\n            }\n            // Раскодируем токен\n            const user = this.jwtService.verify(token)\n            req.user = user\n            return true\n            // catch ...\n        } catch (e) {\n            // В случае ошибки вернется сообщение о неавторизованости пользователя\n            throw new UnauthorizedException({message: 'Пользователь не авторризован'})\n        }\n    }\n}\n```\nCледующие два пункта по моему необязательны, проверь сначала без них, а потом если что с ними\n=========================================\n\n3. Экспортируем в модуле сущности\n\n``` ts\n  exports: [\n      AuthService,\n      JwtModule\n  ]\n```\n\n4. Делаем кольцо импортов если это надо\nforwardRef - используется в тех случаях когда мы импортируем два модуля друг у друга \none module\n``` ts\n    imports: [\n        SequelizeModule.forFeature([User, Role, UserRoles]),\n        RolesModule,\n        forwardRef(() => AuthModule)\n    ],\n```\ntwo module\n``` ts\n  imports: [\n      // Данный метод предотвращает кольцо экспортов\n      forwardRef(() => UsersModule),\n    })],\n```\n===============================\n\n5. Декларируем guard в том контрлере где планируем его использовать\n\n``` ts\n    @ApiOperation({summary: \"Получить всех пользователей\"})\n    // Тут мы указваем что возвращаем массив сущностей\n    @ApiResponse({status: 200, type: [User]})\n    @UseGuards(JwtAuthGuard)\n    @Get()\n    // тут мы Body не указывваем так как нам с тела запроса ничего доставать не надо\n    getAll(){\n        return this.usersService.getAllUser()\n    }\n```",
        "message": "",
        "created": "2021-07-14T07:59:15.320Z",
        "creators": [
          {
            "id": "b0568c88-bb34-4420-969e-41238089a0d4",
            "uniqueName": "google#113467622262670857280",
            "displayName": "Alexander Matviienko",
            "createdAt": "2021-05-10T19:50:11.968Z",
            "updatedAt": "2021-05-10T19:50:31.732Z"
          }
        ]
      }
    },
    {
      "id": "cff248d2-6f18-4014-ac92-572ef8c329ea",
      "emoji": null,
      "title": "Создание ошибок",
      "content": "",
      "headId": 835797,
      "archivedAt": null,
      "folderPathname": "/Node.js/Nest/Готовые решения",
      "parentFolderId": "6aac6032-cd9f-47e8-8f69-6cc414455792",
      "teamId": "nhFMY3a5g",
      "generated": false,
      "createdAt": "2021-07-13T14:45:37.882Z",
      "updatedAt": "2021-07-19T08:19:33.980Z",
      "version": 6,
      "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
      "workspaceId": "a26b69f4-c521-4719-9766-2da1c713b767",
      "head": {
        "id": 835797,
        "docId": "cff248d2-6f18-4014-ac92-572ef8c329ea",
        "content": "# Создание ошибок\n``` ts\n// Это класс ошибки который принимает в себя сообщение об ошибке + статус ошибки\n  throw new HttpException('Пользователь с таким email существует', HttpStatus.BAD_REQUEST)\n```\n\n## Ошибка авторизации \n\n``` ts\nthrow new UnauthorizedException({message: \"Некорректный емайл или пароль\"})\n```",
        "message": "",
        "created": "2021-07-13T15:16:16.794Z",
        "creators": [
          {
            "id": "b0568c88-bb34-4420-969e-41238089a0d4",
            "uniqueName": "google#113467622262670857280",
            "displayName": "Alexander Matviienko",
            "createdAt": "2021-05-10T19:50:11.968Z",
            "updatedAt": "2021-05-10T19:50:31.732Z"
          }
        ]
      }
    },
    {
      "id": "be69571e-bb93-4b6c-997b-cc40450a82b1",
      "emoji": null,
      "title": "Авторизация",
      "content": "",
      "headId": 840714,
      "archivedAt": null,
      "folderPathname": "/Node.js/Nest/Пользователи",
      "parentFolderId": "4dd03d98-6da0-4966-b23d-edbe8afcd46d",
      "teamId": "nhFMY3a5g",
      "generated": false,
      "createdAt": "2021-07-13T13:20:58.264Z",
      "updatedAt": "2021-07-19T08:19:33.980Z",
      "version": 11,
      "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
      "workspaceId": "a26b69f4-c521-4719-9766-2da1c713b767",
      "head": {
        "id": 840714,
        "docId": "be69571e-bb93-4b6c-997b-cc40450a82b1",
        "content": "# Авторизация\n\n1. Генерируем модуль ```nest generate module auth```\n2. Генерируем для него контроллер ```nest generate controller auth```\n3. Генерируем сервис ```nest generate service auth```\n4. Устанавливаем модуль для создания токенов и шифрования паролей ```npm i @nestjs/jwt bcryptjs```\n5. Идем в контроллер и подготавливаем все для авторизации и регистрации\n``` ts\n@ApiTags('Авторизация')\n@Controller('auth')\nexport class AuthController {\n\n    constructor(private authService: AuthService) {\n    }\n\n    @Post('/login')\n    login(@Body() userDto: CreateUserDto){\n        return this.authService.login(userDto)\n    }\n\n    @Post('/registration')\n    registration(@Body() userDto: CreateUserDto){\n        return this.authService.registration(userDto)\n    }\n}\n```\n6. После нам понадобится сервис пользоваетль дабы иметь доступ к БД пользователей. Для этого\n      1. Идем в модуль пользователей и экспортируем там сервис \n      ``` ts\n          exports: [UsersService]\n      ```\n      3. После экспортируем модуль пользователей в модуль авторизации \n      ``` ts\n          imports: [UsersModule]\n      ```\n      5. И можем спокойно в сервисе авторизации доставать серви пользователей\n      ``` ts\n            constructor(private userService: UsersService) {}\n      ```\n7. В модуле авторизации импортируем модуль JWT и указываем секретное слово и время жизни\n``` ts\n  imports: [UsersModule,\n      // Регаем JWT модуль и указываем ему доступ к секретномук слову в env или же прописываем само секретное слово\n    JwtModule.register({\n      secret: process.env.PRIVATE_KEY || 'SECRET',\n            // указываем время жизни токена\n      signOptions: {\n        expiresIn: '24h'\n      }\n    })]\n```\n\n8. Теперь в сервисе авторизации импортируем сервисы пользователей и JWT, а так же прописываем необходимые функции.\n\n``` ts\n\n@Injectable()\nexport class AuthService {\n\n    constructor(private userService: UsersService, private jwtService: JwtService) {\n    }\n\n    async login(userDto: CreateUserDto){\n        // Проверяем пользователя на наличие в БД и правильности пароля\n        const user = await this.validateUser(userDto)\n        // Потом если мы получаем авторизированного пользоваетля то возвращаем jwt токен\n        return this.generateToken(user)\n    }\n\n    async registration(userDto: CreateUserDto){\n        const candidate = await this.userService.getUsersByEmail(userDto.email)\n        if(candidate){\n            // Это класс ошибки который принимает в себя сообщение об ошибке + статус ошибки\n            throw new HttpException('Пользователь с таким email существует', HttpStatus.BAD_REQUEST)\n        }\n        // Хешируем пароль. Первый параметр передаем пароль а вторым степень хеширования\n        const hashPassword = await bcrypt.hash(userDto.password, 5)\n        // Создаем запись в таблице и передаем в качестве свойства пароль, хешированное значение\n        const user = await this.userService.createUser({...userDto, password: hashPassword})\n        // Возвращаем сгенрированный токен\n        return this.generateToken(user)\n    }\n    // Функция для генерации токенов  принимает в себя данные о пользователи\n    private async generateToken(user: User) {\n        // создаем объект со значениями которые будем вкладывать в токен\n        const payload = {email: user.email, id: user.id, roles: user.roles}\n        // Возвращаем объект с сгенерированым токеном\n        return {\n            token: this.jwtService.sign(payload)\n        }\n    }\n//Функция проверки пользователя\n    private async validateUser(userDto: CreateUserDto) {\n        // Получаем пользователя по почте\n        const user = await this.userService.getUsersByEmail(userDto.email)\n        // Проверяем пароли с БД и которые нам пришли с фронта\n        const passwordEquals = await bcrypt.compare(userDto.password, user.password)\n        // Если это все совпадает то возвращаем пользователя\n        if(user && passwordEquals){\n            return user;\n        }\n        throw new UnauthorizedException({message: \"Некорректный емайл или пароль\"})\n    }\n}\n```",
        "message": "",
        "created": "2021-07-14T06:29:51.347Z",
        "creators": [
          {
            "id": "b0568c88-bb34-4420-969e-41238089a0d4",
            "uniqueName": "google#113467622262670857280",
            "displayName": "Alexander Matviienko",
            "createdAt": "2021-05-10T19:50:11.968Z",
            "updatedAt": "2021-05-10T19:50:31.732Z"
          }
        ]
      }
    },
    {
      "id": "73bc3d53-ceb4-4b44-82e5-d9ae3d941c47",
      "emoji": null,
      "title": "Связи",
      "content": "",
      "headId": 834795,
      "archivedAt": null,
      "folderPathname": "/Node.js/Nest",
      "parentFolderId": "8c517988-39d6-450c-81fb-4a945a1d4209",
      "teamId": "nhFMY3a5g",
      "generated": false,
      "createdAt": "2021-07-12T08:33:27.167Z",
      "updatedAt": "2021-07-19T08:19:33.980Z",
      "version": 13,
      "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
      "workspaceId": "a26b69f4-c521-4719-9766-2da1c713b767",
      "head": {
        "id": 834795,
        "docId": "73bc3d53-ceb4-4b44-82e5-d9ae3d941c47",
        "content": "# Связи\n\n## Многие ко многим \n\n1. В моделях связывемых таблиц указываем следующие\n 1-ая тмодель\n``` ts\n    // Связь многие ко многим, указываем с какой сущностью мы связываемся и через какую таблицу мы это делаем\n    @BelongsToMany(() => Role, () => UserRoles)\n        // указываем тип данных которые нам эта связь вернет, в данном случае это массив ролей\n    roles: Role[]\n```\n  2-ая модель\n  ``` ts\n    // Связь многие ко многим, указываем с какой сущностью мы связываемся и через какую таблицу мы это делаем\n    @BelongsToMany(() => User, () => UserRoles)\n        // указываем тип данных которые нам эта связь вернет, в данном случае это массив пользователей\n    users: User[]\n```\n\n2. Добавляем эти модели в модули друг другу\n\n```ts\n  imports: [\n    SequelizeModule.forFeature([Role, User])\n  ]\n//==============================\n    imports: [\n        SequelizeModule.forFeature([User, Role])\n    ]\n```\n\n3. В папке любой из этих сущностей создаем связывающую модель с подобным названием: __user-roles.model.ts__\n\n``` ts\n// Что бы не захломлять таблицу полями создания и изменния можно их отключить\n@Table({tableName: 'user_roles', createdAt: false, updatedAt: false})\n// Кидаем в дженерик тип который будет у модели и тип данных для объектов\nexport class UserRoles extends Model<UserRoles>{\n\n    @Column({type: DataType.INTEGER, unique: true, autoIncrement: true, primaryKey: true})\n    id: number;\n    // Создаем внешние ключи и указываем на что они ссылаются\n    @ForeignKey(() => Role)\n    @Column({type: DataType.INTEGER})\n    roleId: number;\n    // Создаем внешние ключи и указываем на что они ссылаются\n    @ForeignKey(() => User)\n    @Column({type: DataType.INTEGER})\n    userId: number;\n\n}\n```\n\nИ импортируем ее в модули другим таблицам и в основной модуль\n\n4. Теперь допустим мы хотим взаимодействовать с одной из моделей с другой. Допустим присваивать роли пользоваетлю\n\nДля этого в модуле ролей экспортируем сервис ролей\n\n``` ts\n  imports: [\n    SequelizeModule.forFeature([Role, User, UserRoles])\n  ],\n  // Тут мы экспортируем сервисы для того что бы можно было его импортировать в другом сервисе (связанной таблицы)\n  exports: [\n       RolesService\n  ]\n```\n\n5. После в модуле пользователей импортируем модуль ролей\n\n``` ts\n    providers: [UsersService],\n    imports: [\n        SequelizeModule.forFeature([User, Role, UserRoles]),\n        // Импортируем модуль что бы мы могли использовать сервис этого модуля в сервисе нашего модуля\n        // Короче я в сервисе хочу использовать сервис связаннойй таблицы для этого мне надо оттуда\n        // в модуле экспортировать сервис, а в этом модуле импортировать тот модуль\n        RolesModule\n    ]\n```\n6. И в конце можем в сервисе пользователей заинжектить сервис ролей что бы иметь возможность взаимодействовать с их БД\n\n``` ts\n    constructor(@InjectModel(User) private userRepository: typeof User,\n                // Инжектим (подключаем) модель таблицы с которой связана вот эта\n                private roleService: RolesService) {}\n\n    // Дто необходимо создавать в папке dto которая в папке сущности\n    async createUser(dto: CreateUserDto) {\n        const user = await this.userRepository.create(dto)\n        // Вот пример взаимодействия в этом сервисе с сервисом бд с которой мы связаны\n        const role = await this.roleService.getRoleByValue(\"USER\")\n        // Метод $set позволяет перезаписать поле и сразу обновить это в БД\n        await user.$set('roles', [role.id])\n        return user;\n    }\n```",
        "message": "",
        "created": "2021-07-13T13:02:54.362Z",
        "creators": [
          {
            "id": "b0568c88-bb34-4420-969e-41238089a0d4",
            "uniqueName": "google#113467622262670857280",
            "displayName": "Alexander Matviienko",
            "createdAt": "2021-05-10T19:50:11.968Z",
            "updatedAt": "2021-05-10T19:50:31.732Z"
          }
        ]
      }
    },
    {
      "id": "1826638e-ee66-47a2-9d5a-66395716d653",
      "emoji": null,
      "title": "Роли пользоваетля",
      "content": "",
      "headId": 822397,
      "archivedAt": null,
      "folderPathname": "/Node.js/Nest/Готовые решения",
      "parentFolderId": "6aac6032-cd9f-47e8-8f69-6cc414455792",
      "teamId": "nhFMY3a5g",
      "generated": false,
      "createdAt": "2021-07-12T08:07:40.756Z",
      "updatedAt": "2021-07-19T08:19:33.980Z",
      "version": 3,
      "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
      "workspaceId": "a26b69f4-c521-4719-9766-2da1c713b767",
      "head": {
        "id": 822397,
        "docId": "1826638e-ee66-47a2-9d5a-66395716d653",
        "content": "# Роли пользователя \n\n",
        "message": "",
        "created": "2021-07-12T08:08:22.562Z",
        "creators": [
          {
            "id": "b0568c88-bb34-4420-969e-41238089a0d4",
            "uniqueName": "google#113467622262670857280",
            "displayName": "Alexander Matviienko",
            "createdAt": "2021-05-10T19:50:11.968Z",
            "updatedAt": "2021-05-10T19:50:31.732Z"
          }
        ]
      }
    },
    {
      "id": "77e92182-c815-41b1-a802-d2bc08ba9f99",
      "emoji": null,
      "title": "Swagger",
      "content": "",
      "headId": 822393,
      "archivedAt": null,
      "folderPathname": "/Node.js/Nest",
      "parentFolderId": "8c517988-39d6-450c-81fb-4a945a1d4209",
      "teamId": "nhFMY3a5g",
      "generated": false,
      "createdAt": "2021-07-12T07:43:11.019Z",
      "updatedAt": "2021-07-19T08:19:33.980Z",
      "version": 9,
      "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
      "workspaceId": "a26b69f4-c521-4719-9766-2da1c713b767",
      "head": {
        "id": 822393,
        "docId": "77e92182-c815-41b1-a802-d2bc08ba9f99",
        "content": "# Swagger\n\nСтавится командой: ```npm i @nestjs/swagger swagger-ui-express```\n\nДалее в функции которая стартует сервер прописывам следующие\n\n``` ts\nasync function start() {\n    const PORT = process.env.PORT || 5000\n    // Создаем экземпляр приложения импортируя в функцию модуль\n    const app = await NestFactory.create(AppModule)\n    // Создаем объект в который передаем название, описание, версию, теги  и строим его\n    const config = new DocumentBuilder()\n        .setTitle('Урок по продвинотуму BACKEND')\n        .setDescription('Документакция REST API')\n        .setVersion('1.0.0')\n        .addTag('ULBU TV')\n        .build()\n    // Инициализируем документ передавая в функцию серверную переменную и объект с конфигурациями\n    const document = SwaggerModule.createDocument(app, config)\n    // Создаем документацию передавая в метод: фдресс по которму она будет доступна, серверную перменную\n    // и константу в которую мы инициализировали документ\n    SwaggerModule.setup('/api/docs', app, document)\n\n    await app.listen(PORT, () => {\n        console.log('Server start on port' + PORT)\n    })\n}\n```\n\n## Докуминтирование эндпоинтов в контролере:\n\n``` ts\n// Указываем группу роутеров для документации\n@ApiTags(\"Пользователи\")\n// в контролер пераем адресс по которому он будет доступен\n@Controller('users')\nexport class UsersController {\n    // Достаем сервис с которым будемр работать в этом контролоере\n    constructor(private usersService: UsersService) {}\n    //Конструкция ниже помогает указвать в свагер описание метода и\n    // так же какой статус он возвращает и какого типа данные (в тип передаем модель)\n    @ApiOperation({summary: \"Создание пользователя\"})\n    @ApiResponse({status: 200, type: User})\n    // Указываем метод запроса\n    @Post()\n    // Вызываем функцию create(имена придумываем сами) передаем ей Body (я так понимаю это тело запроса),\n    // и передаем dto, далее возвращаем вызов сервисной функции которой передаем dto\n    create(@Body() userDto: CreateUserDto){\n        return this.usersService.createUser(userDto)\n    }\n    @ApiOperation({summary: \"Получить всех пользователей\"})\n    // Тут мы указваем что возвращаем массив сущностей\n    @ApiResponse({status: 200, type: [User]})\n    @Get()\n    // тут мы Body не указывваем так как нам с тела запроса ничего доставать не надо\n    getAll(){\n        return this.usersService.getAllUser()\n    }\n}\n```\n\n## Документирование модели\n\n``` ts\n\n@Table({tableName: 'users'})\n// Кидаем в дженерик тип который будет у модели и тип данных для объектов\nexport class User extends Model<User, UserCreationAttrs>{\n    // Тут в принципе все понятно\n    // Кроме ApiProperty, он нужен для документации, в него мы передаем то как элемент данных должен выглядеть\n    // и так же его описание\n    @ApiProperty({example: '1', description: \"Уникальный индекс\"})\n    @Column({type: DataType.INTEGER, unique: true, autoIncrement: true, primaryKey: true})\n    id: number;\n\n    @ApiProperty({example: 'example@user.mail', description: \"Почтовый адресс\"})\n    @Column({type: DataType.STRING, unique: true, allowNull: false})\n    email: string;\n\n    @ApiProperty({example: '123456', description: \"Пароль\"})\n    @Column({type: DataType.STRING, allowNull: false})\n    password: string;\n\n    @ApiProperty({example: 'false', description: \"Забанен или нет\"})\n    @Column({type: DataType.BOOLEAN, defaultValue: false})\n    banned: boolean;\n\n    @ApiProperty({example: 'За хулиганство', description: \"Причина бана\"})\n    @Column({type: DataType.STRING, allowNull: true})\n    banReason: string;\n}\n```\n\n## Документирование dto\n\n``` ts\nexport class CreateUserDto {\n\n    @ApiProperty({example: 'user@example.com', description: \"Почтовый адресс\"})\n    readonly email: string;\n    @ApiProperty({example: '123456', description: \"Пароль\"})\n    readonly password: string;\n}\n```",
        "message": "",
        "created": "2021-07-12T08:07:07.688Z",
        "creators": [
          {
            "id": "b0568c88-bb34-4420-969e-41238089a0d4",
            "uniqueName": "google#113467622262670857280",
            "displayName": "Alexander Matviienko",
            "createdAt": "2021-05-10T19:50:11.968Z",
            "updatedAt": "2021-05-10T19:50:31.732Z"
          }
        ]
      }
    },
    {
      "id": "4c9a2f82-4656-4cf6-9645-9f891fa7f616",
      "emoji": null,
      "title": "Controllers",
      "content": "",
      "headId": 822086,
      "archivedAt": null,
      "folderPathname": "/Node.js/Nest/CRUD",
      "parentFolderId": "b7e5617f-346f-4dfb-a618-fe5347699a60",
      "teamId": "nhFMY3a5g",
      "generated": false,
      "createdAt": "2021-07-12T07:39:19.645Z",
      "updatedAt": "2021-07-19T08:19:33.980Z",
      "version": 4,
      "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
      "workspaceId": "a26b69f4-c521-4719-9766-2da1c713b767",
      "head": {
        "id": 822086,
        "docId": "4c9a2f82-4656-4cf6-9645-9f891fa7f616",
        "content": "# Controllers\n\nСоздаются такой командой: ```nest generate controller name```, имя как и положено соответсвует имени сущности во множественном числе\n\nПример файла контролера\n\n``` ts\nimport {Body, Controller, Get, Post } from '@nestjs/common';\nimport { CreateUserDto } from './dto/create-user.dto';\nimport {UsersService} from \"./users.service\";\n// в контролер передаем адресс по которому он будет доступен\n@Controller('users')\nexport class UsersController {\n    // Достаем сервис с которым будемр работать в этом контролоере\n    constructor(private usersService: UsersService) {}\n    // Указываем метод запроса\n    @Post()\n    // Вызываем функцию create(имена придумываем сами) передаем ей Body (я так понимаю это тело запроса),\n    // и передаем dto, далее возвращаем вызов сервисной функции которой передаем dto,\n    //так nest понимает какие данные передавать с тела запроса сервису\n    create(@Body() userDto: CreateUserDto){\n        return this.usersService.createUser(userDto)\n    }\n\n    @Get()\n    // тут мы Body не указывваем так как нам с тела запроса ничего доставать не надо\n    getAll(){\n        return this.usersService.getAllUser()\n    }\n}\n\n```",
        "message": "",
        "created": "2021-07-12T07:42:19.436Z",
        "creators": [
          {
            "id": "b0568c88-bb34-4420-969e-41238089a0d4",
            "uniqueName": "google#113467622262670857280",
            "displayName": "Alexander Matviienko",
            "createdAt": "2021-05-10T19:50:11.968Z",
            "updatedAt": "2021-05-10T19:50:31.732Z"
          }
        ]
      }
    },
    {
      "id": "88c4d06e-8011-42b6-af9f-af39bbec6c30",
      "emoji": null,
      "title": "Service",
      "content": "",
      "headId": 822066,
      "archivedAt": null,
      "folderPathname": "/Node.js/Nest/CRUD",
      "parentFolderId": "b7e5617f-346f-4dfb-a618-fe5347699a60",
      "teamId": "nhFMY3a5g",
      "generated": false,
      "createdAt": "2021-07-12T07:33:49.956Z",
      "updatedAt": "2021-07-19T08:19:33.980Z",
      "version": 5,
      "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
      "workspaceId": "a26b69f4-c521-4719-9766-2da1c713b767",
      "head": {
        "id": 822066,
        "docId": "88c4d06e-8011-42b6-af9f-af39bbec6c30",
        "content": "# Service\n\nНужны для логиики взаимодействия с БД и какаято обработка данных\nСоздаем их такой командой  ```nest generate service name``` главное что бы имя совпадало с имененм сущности во множественном числе\n\nПример файла сервисов\n\n``` ts\nimport { Injectable } from '@nestjs/common';\nimport {InjectModel} from \"@nestjs/sequelize\";\nimport {User} from \"./users.model\";\nimport {CreateUserDto} from \"./dto/create-user.dto\";\n\n@Injectable()\nexport class UsersService {\n// Таким макаром импортируем модель\n    constructor(@InjectModel(User) private userRepository: typeof User) {\n    }\n\n    // Дто необходимо создавать в папке dto которая в папке сущности\n  // данный файл описывает типы тех данных которые будут передаватся в сервис\n  // с контролера\n    async createUser(dto: CreateUserDto) {\n        const user = await this.userRepository.create(dto)\n        return user;\n    }\n\n    async getAllUser() {\n        const user = await this.userRepository.findAll()\n        return user;\n    }\n\n}\n\n```\n\n",
        "message": "",
        "created": "2021-07-12T07:39:00.241Z",
        "creators": [
          {
            "id": "b0568c88-bb34-4420-969e-41238089a0d4",
            "uniqueName": "google#113467622262670857280",
            "displayName": "Alexander Matviienko",
            "createdAt": "2021-05-10T19:50:11.968Z",
            "updatedAt": "2021-05-10T19:50:31.732Z"
          }
        ]
      }
    },
    {
      "id": "978261fc-ba94-42c8-b5e5-9292c3076aef",
      "emoji": null,
      "title": "Создание моделей",
      "content": "",
      "headId": 817543,
      "archivedAt": null,
      "folderPathname": "/Node.js/Nest/CRUD",
      "parentFolderId": "b7e5617f-346f-4dfb-a618-fe5347699a60",
      "teamId": "nhFMY3a5g",
      "generated": false,
      "createdAt": "2021-07-11T16:38:37.495Z",
      "updatedAt": "2021-07-19T08:19:33.980Z",
      "version": 6,
      "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
      "workspaceId": "a26b69f4-c521-4719-9766-2da1c713b767",
      "head": {
        "id": 817543,
        "docId": "978261fc-ba94-42c8-b5e5-9292c3076aef",
        "content": "# Создание моделей\n\n1. В папке сущности создаем файл __name.model.ts__\n2. Который в итоге должен будет выглядить как то так\n\n``` ts\nimport {Column, DataType, Model, Table} from \"sequelize-typescript\";\n// Тут указываем типы данных которые нам нужны для создания объекта\n// я так понял того объекта котрый будет идти клиенту? \ninterface UserCreationAttrs {\n    email: string;\n    password: string;\n}\n//Указываем имя таблицы\n@Table({tableName: 'users'})\n// Кидаем в дженерик тип который будет у модели и тип данных для объектов\nexport class User extends Model<User, UserCreationAttrs>{\n    // Тут в принципе все понятно\n    @Column({type: DataType.INTEGER, unique: true, autoIncrement: true, primaryKey: true})\n    id: number;\n\n    @Column({type: DataType.STRING, unique: true, allowNull: false})\n    email: string;\n\n    @Column({type: DataType.STRING, allowNull: false})\n    password: string;\n\n    @Column({type: DataType.BOOLEAN, defaultValue: false})\n    banned: boolean;\n\n    @Column({type: DataType.STRING, allowNull: true})\n    banReason: string;\n}\n```\n\n3. Импортируем это дело в глобальную модель в sequelize\n\n``` js\nmodels: [NameModel],\n```\n\n4. И в модуль сущности\n\n```js\n    imports: [\n        SequelizeModule.forFeature([User])\n    ]\n```",
        "message": "",
        "created": "2021-07-11T16:53:01.449Z",
        "creators": [
          {
            "id": "b0568c88-bb34-4420-969e-41238089a0d4",
            "uniqueName": "google#113467622262670857280",
            "displayName": "Alexander Matviienko",
            "createdAt": "2021-05-10T19:50:11.968Z",
            "updatedAt": "2021-05-10T19:50:31.732Z"
          }
        ]
      }
    },
    {
      "id": "3189ff41-7fc8-48c3-999e-4146c0e3f923",
      "emoji": null,
      "title": ".env",
      "content": "",
      "headId": 817372,
      "archivedAt": null,
      "folderPathname": "/Node.js/Nest",
      "parentFolderId": "8c517988-39d6-450c-81fb-4a945a1d4209",
      "teamId": "nhFMY3a5g",
      "generated": false,
      "createdAt": "2021-07-11T16:18:56.035Z",
      "updatedAt": "2021-07-19T08:19:33.980Z",
      "version": 3,
      "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
      "workspaceId": "a26b69f4-c521-4719-9766-2da1c713b767",
      "head": {
        "id": 817372,
        "docId": "3189ff41-7fc8-48c3-999e-4146c0e3f923",
        "content": "# .env\n\n1. Для работы с энвами нам необходимо установить ``` npm i cross-env``` \n2. После в глобальный модуль импортируем \n\n``` ts\nConfigModule.forRoot({\n            // Путь к файлу конфигураций\n            envFilePath: `.${process.env.NODE_ENV}.env`\n        }),\n```\n3. В корне проекта создаем файлы .env, .development.env, .production.env как понятно последние два для режимов разработки и продакшена. \n4. В package.json модифицурем команды запуска проектов\n\n``` ts\n\"start\": \"cross-env NODE_ENV=production nest start\",\n    \"start:dev\": \"cross-env NODE_ENV=development nest start --watch\",\n```\n5. Что бы получить доступ к env польземся такой командой \n\n``` ts\nprocess.env.ENV_NAME\n```\n\n## Список обязательных энвов\n```\nPORT=7000\nPOSTGRESS_HOST=localhost\nPOSTGRESS_USER=postgres\nPOSTGRESS_DB=nest-course\nPOSTGRESS_PASSWORD=postgres\nPOSTGRESS_PORT=5432\n```",
        "message": "",
        "created": "2021-07-11T16:24:56.517Z",
        "creators": [
          {
            "id": "b0568c88-bb34-4420-969e-41238089a0d4",
            "uniqueName": "google#113467622262670857280",
            "displayName": "Alexander Matviienko",
            "createdAt": "2021-05-10T19:50:11.968Z",
            "updatedAt": "2021-05-10T19:50:31.732Z"
          }
        ]
      }
    },
    {
      "id": "438ff955-75e2-4b86-8cb8-84ae488e9beb",
      "emoji": null,
      "title": "Полезные команды",
      "content": "",
      "headId": 842141,
      "archivedAt": null,
      "folderPathname": "/Node.js/Nest",
      "parentFolderId": "8c517988-39d6-450c-81fb-4a945a1d4209",
      "teamId": "nhFMY3a5g",
      "generated": false,
      "createdAt": "2021-07-11T15:51:32.041Z",
      "updatedAt": "2021-07-19T08:19:33.980Z",
      "version": 18,
      "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
      "workspaceId": "a26b69f4-c521-4719-9766-2da1c713b767",
      "head": {
        "id": 842141,
        "docId": "438ff955-75e2-4b86-8cb8-84ae488e9beb",
        "content": "# Полезные команды\nПри началке работы с какой либо сущностью прописываем все эти команды\n0. nest generate module roles \n1. nest generate module name - создает модуль тут кстати работае namespase, имя модлуля должно равнятся имени папки где потом создастся модуль \n2. nest generate service name - сервис\n3. nest generate controller name - контроле, все эти три товарища появятся в одной папке и будут сразу импортированы в основной модуль, файлы с флажками можно удалить\n4. npm i @nestjs/config - создает файл с конфигами для различных подключений в том числе и БД\n\n\n## CRUD\n\n1. $set - Метод $set позволяет перезаписать поле и сразу обновить это в БД. Полезен когда в сервисе прям на ходу надо приписать сущности поле и значение\n``` ts\nawait user.$set('roles', [role.id])\n```\n\n2. create - Создает запись в бд принимает dto с описанием того что из тела запроса придет\n``` ts\nconst user = await this.userRepository.create(dto)\n```\n\n3. findAll - Возвращает все записи с таблицы, аргументом может принимать параметр позволяющий включит в ответ все связанные модели либо выбранные\n``` ts\nconst users = await this.userRepository.findAll({include: {all: true}})\n```\n\n4. findOne - Помогает найти запись по определнным параметрам, вообще этот и верхний метод по приему  параметру очень схожи, просто один возвращает все а второй только первую попавшуюся запись\n``` ts\nasync getRoleByValue(value: string){\n        const role = await this.roleRepository.findOne({where: {value}})\n        return role;\n    }\n```\n5. findByPk - Находит запись по первичному ключу (как правило это иднефикатор)\n\n``` ts\nconst user = await this.userRepository.findByPk(dto.userId)\n```\n\n6. $add - добавляет к уже существующему значению в таблице новое значение\nПринимет в себя название поля и значение которое необходимо туда установить\n``` ts\nawait user.$add('role', role.id)\n```\n## Запрос-ответ\n\nПолучить запрос (объект запроса)\n\n``` ts\nconst req = context.switchToHttp().getRequest()\n```\n\n## Други полезные фичи\nforwardRef - используется в тех случаях когда мы импортируем два модуля друг у друга \none module\n``` ts\n    imports: [\n        SequelizeModule.forFeature([User, Role, UserRoles]),\n        RolesModule,\n        forwardRef(() => AuthModule)\n    ],\n```\ntwo module\n``` ts\n  imports: [\n      // Данный метод предотвращает кольцо экспортов\n      forwardRef(() => UsersModule),\n    })],\n```",
        "message": "",
        "created": "2021-07-14T09:13:45.145Z",
        "creators": [
          {
            "id": "b0568c88-bb34-4420-969e-41238089a0d4",
            "uniqueName": "google#113467622262670857280",
            "displayName": "Alexander Matviienko",
            "createdAt": "2021-05-10T19:50:11.968Z",
            "updatedAt": "2021-05-10T19:50:31.732Z"
          }
        ]
      }
    },
    {
      "id": "0c6a738e-829e-4777-a34a-cb0f9ae02c82",
      "emoji": null,
      "title": "Подключение Postgress",
      "content": "",
      "headId": 817374,
      "archivedAt": null,
      "folderPathname": "/Node.js/Nest",
      "parentFolderId": "8c517988-39d6-450c-81fb-4a945a1d4209",
      "teamId": "nhFMY3a5g",
      "generated": false,
      "createdAt": "2021-07-11T14:56:39.149Z",
      "updatedAt": "2021-07-19T08:19:33.980Z",
      "version": 11,
      "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
      "workspaceId": "a26b69f4-c521-4719-9766-2da1c713b767",
      "head": {
        "id": 817374,
        "docId": "0c6a738e-829e-4777-a34a-cb0f9ae02c82",
        "content": "# Подключение Postgress\nОдин тонкий момент, бывают проблемы с последней версий sequlize поэтому последеняя стабильная версия это \"sequelize\": \"6.6.2\"\nВ доке Nesta довольно подробно описано как подключать БД но лучше свой инструкции ничего не бывает. Мы будем использовать Sequelize для работы с Postgress\n\n1. Устанавливаем необходимые зависимости ```npm install --save @nestjs/sequelize sequelize sequelize-typescript mysql2``` и после выполняем ```npm install --save pg pg-hstore``` и остается ```npm install --save-dev @types/sequelize```\n2. В модуль-файл импортируем модуль sequelize если что он есть в доке. И меняем его под наши параметры.\n\n``` ts\nSequelizeModule.forRoot({\n            // Указываем БД на которой работаем\n            dialect: 'postgres',\n            host: process.env.POSTGRESS_HOST,\n            // Порт БД\n            port: Number(process.env.POSTGRESS_PORT),\n            // И данные для входа\n            username: process.env.POSTGRESS_USER,\n            password: process.env.POSTGRESS_PASSWORD,\n            database: process.env.POSTGRESS_DB,\n            models: [],\n            // Что бы sequelize создавал тоблицы на основе наших моделей\n            autoLoadModels: true\n        }),\n```\n\nи устанавливаем данные  в энвы\n\n```\nPOSTGRESS_HOST=localhost\nPOSTGRESS_USER=postgres\nPOSTGRESS_DB=nest-course\nPOSTGRESS_PASSWORD=postgres\nPOSTGRESS_PORT=5432\n```\n",
        "message": "",
        "created": "2021-07-11T16:26:16.196Z",
        "creators": [
          {
            "id": "b0568c88-bb34-4420-969e-41238089a0d4",
            "uniqueName": "google#113467622262670857280",
            "displayName": "Alexander Matviienko",
            "createdAt": "2021-05-10T19:50:11.968Z",
            "updatedAt": "2021-05-10T19:50:31.732Z"
          }
        ]
      }
    },
    {
      "id": "99c42fd1-f34f-44e7-92d0-90e937cec11b",
      "emoji": null,
      "title": "Базовая структура",
      "content": "",
      "headId": 817160,
      "archivedAt": null,
      "folderPathname": "/Node.js/Nest",
      "parentFolderId": "8c517988-39d6-450c-81fb-4a945a1d4209",
      "teamId": "nhFMY3a5g",
      "generated": false,
      "createdAt": "2021-07-11T14:55:32.448Z",
      "updatedAt": "2021-07-19T08:19:33.980Z",
      "version": 3,
      "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
      "workspaceId": "a26b69f4-c521-4719-9766-2da1c713b767",
      "head": {
        "id": 817160,
        "docId": "99c42fd1-f34f-44e7-92d0-90e937cec11b",
        "content": "# Базовая структура",
        "message": "",
        "created": "2021-07-11T14:56:15.079Z",
        "creators": [
          {
            "id": "b0568c88-bb34-4420-969e-41238089a0d4",
            "uniqueName": "google#113467622262670857280",
            "displayName": "Alexander Matviienko",
            "createdAt": "2021-05-10T19:50:11.968Z",
            "updatedAt": "2021-05-10T19:50:31.732Z"
          }
        ]
      }
    },
    {
      "id": "795c6e6a-7763-48bd-bf22-cf6444a7849b",
      "emoji": null,
      "title": "Get started",
      "content": "",
      "headId": 817158,
      "archivedAt": null,
      "folderPathname": "/Node.js/Nest",
      "parentFolderId": "8c517988-39d6-450c-81fb-4a945a1d4209",
      "teamId": "nhFMY3a5g",
      "generated": false,
      "createdAt": "2021-07-11T14:46:58.008Z",
      "updatedAt": "2021-07-19T08:19:33.980Z",
      "version": 6,
      "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
      "workspaceId": "a26b69f4-c521-4719-9766-2da1c713b767",
      "head": {
        "id": 817158,
        "docId": "795c6e6a-7763-48bd-bf22-cf6444a7849b",
        "content": "# Get started\n\nNest это ORM fraemwork по типу laravel для php только для Node :)\n\n## Установка\n1. Nest должен быть установлен глобально если его нет то выполняем ```npm i -g @nestjs/cli``` в консоли\n2. Теперь создаем сам проект выполнив в папке где будет создан проект следующую команду ```nest new project-name```\n3. Далее на ознакомительном этапе можно удалить папки и файлы: .eslintrc.js, .prettier, test и содержимое папки src\n\n## Инициализация\n1. ",
        "message": "",
        "created": "2021-07-11T14:55:34.294Z",
        "creators": [
          {
            "id": "b0568c88-bb34-4420-969e-41238089a0d4",
            "uniqueName": "google#113467622262670857280",
            "displayName": "Alexander Matviienko",
            "createdAt": "2021-05-10T19:50:11.968Z",
            "updatedAt": "2021-05-10T19:50:31.732Z"
          }
        ]
      }
    },
    {
      "id": "0ae087f9-e824-4428-9db2-dfa69b137400",
      "emoji": null,
      "title": "DragAndDrop",
      "content": "",
      "headId": 816868,
      "archivedAt": null,
      "folderPathname": "/React/TS/React + TS",
      "parentFolderId": "d3754cde-3f5d-4aa2-88c1-8a36ae226d1f",
      "teamId": "nhFMY3a5g",
      "generated": false,
      "createdAt": "2021-07-11T12:48:39.416Z",
      "updatedAt": "2021-07-11T12:51:15.343Z",
      "version": 2,
      "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
      "workspaceId": "4ae225f9-123d-4918-a49f-e0c91bd0b18a",
      "head": {
        "id": 816868,
        "docId": "0ae087f9-e824-4428-9db2-dfa69b137400",
        "content": "# DragAndDrop\n\nСписок событий и обработчиков которые помогут реализовать drag and drop\n\n``` ts\nimport React, {FC, useState} from 'react';\n\nconst EventsExample: FC = () => {\n// состояние которое преключается в зависимости от события\n    const [isDrag, setIsDrag] = useState<boolean>(false)\n\n// функции который срабатывают при том или ином событии\n    const dragHandler = (e: React.DragEvent<HTMLDivElement>) => {\n        console.log('DRAG')\n    }\n\n    const dragWithPreventHandler = (e: React.DragEvent<HTMLDivElement>) => {\n    e.preventDefault()\n        setIsDrag(true)\n    }\n\n    const leaveHandler = (e: React.DragEvent<HTMLDivElement>) => {\n        e.preventDefault()\n        setIsDrag(false)\n    }\n\n    const dropHandler = (e: React.DragEvent<HTMLDivElement>) => {\n        e.preventDefault()\n        setIsDrag(false)\n        console.log('DROP')\n    }\n\n    return (\n        <div>\n            <div\n                // Событие взятия элемента\n                onDrag={dragHandler}\n                draggable style={{width: 200, height: 200, background: 'red'}}></div>\n            <div\n                // Событие отпускания элемента над целью\n                onDrop={dropHandler}\n                // Событие когда элемент уходит за цель\n                onDragLeave={leaveHandler}\n                // Событие когда элемент завис над целью\n                onDragOver={dragWithPreventHandler}\n                style={{width: 200, height: 200, background: isDrag ? 'blue' : 'red' , marginTop: 15}}></div>\n        </div>\n    );\n};\n\nexport default EventsExample;\n```",
        "message": "",
        "created": "2021-07-11T12:51:15.333Z",
        "creators": [
          {
            "id": "b0568c88-bb34-4420-969e-41238089a0d4",
            "uniqueName": "google#113467622262670857280",
            "displayName": "Alexander Matviienko",
            "createdAt": "2021-05-10T19:50:11.968Z",
            "updatedAt": "2021-05-10T19:50:31.732Z"
          }
        ]
      }
    },
    {
      "id": "fb054368-5ba6-4f03-a688-3e08f7fba9ad",
      "emoji": null,
      "title": "Создание переиспользуемых компонентов",
      "content": "",
      "headId": 816846,
      "archivedAt": null,
      "folderPathname": "/React/TS/React + TS",
      "parentFolderId": "d3754cde-3f5d-4aa2-88c1-8a36ae226d1f",
      "teamId": "nhFMY3a5g",
      "generated": false,
      "createdAt": "2021-07-11T11:23:30.345Z",
      "updatedAt": "2021-07-11T12:12:57.644Z",
      "version": 6,
      "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
      "workspaceId": "4ae225f9-123d-4918-a49f-e0c91bd0b18a",
      "head": {
        "id": 816846,
        "docId": "fb054368-5ba6-4f03-a688-3e08f7fba9ad",
        "content": "# Создание переиспользуемых компонентов\nСмысл этих компоннентов в том что они являются такими типизироваными посредниками\nКоторый можно переиспользовать в других ситуациях.\n\n\n## Запись в доченрнем компоненте\n```ts\nimport React, {FC} from 'react';\n\n//В интерфейсе указываем что он может принимать любой тип\ninterface ListProps<T>{\n    // Элеменит любого типа мы и указывам\n    items: T[];\n    // А здесь прописываем функцию которая принимает этот универсальный жлемент и возвращает элемент реакта\n    renderItem: (item: T) => React.ReactNode\n}\n// Тут у нас выходит весьма своеобразная конструкция но смысл тот что мы создаем компонент в котором указываем что \n// он имеет универсальную типизацию, а так же он принимает пропсы которые мы затепизировали в интерфейсе выше\nexport default function  List<T> (props: ListProps<T>) {\n    return(\n        <div>\n            {/*Реализуем прокинутые пропсы которые являются функцией и элементом*/}\n            {props.items.map(props.renderItem)}\n        </div>\n    )\n    }\n\n\n```\n\n## Запись в родительском компоненте\n```ts\n// Тут как раз таки наши старания и вознаграждаются и мы вызываем этот унивирсальный компонент в который мы прокидываем\n// как элемент который может быть у нас чем угодно так ифункцию которая унас этот элемент обрабатывает и реализует\n    <List items={users} renderItem={(user: IUser) => <UserItem user={user} key={user.id}/>}/>\n     <List items={todos} renderItem={(todo: ITodo) => <TodoItem todo={todo} key={todo.id}/>}/>\n```\n\n## Вывод\n\nтеперь я понял, у нас получается есть переиспользуемый компонент List в который я могу кидать хоть списки пользователей хоть списки стран Шенгенсокй зоны.\nТакие компоненты можно создавать для чего угодно где нам надо реализовать схожий функционал.",
        "message": "",
        "created": "2021-07-11T12:12:57.634Z",
        "creators": [
          {
            "id": "b0568c88-bb34-4420-969e-41238089a0d4",
            "uniqueName": "google#113467622262670857280",
            "displayName": "Alexander Matviienko",
            "createdAt": "2021-05-10T19:50:11.968Z",
            "updatedAt": "2021-05-10T19:50:31.732Z"
          }
        ]
      }
    },
    {
      "id": "2df1040b-6bb9-4a74-bfb6-4b0cb6a39b05",
      "emoji": null,
      "title": "Особености",
      "content": "",
      "headId": 816966,
      "archivedAt": null,
      "folderPathname": "/React/TS/React + TS/React-Router",
      "parentFolderId": "4ce07670-5b5c-446d-a03e-53cb7b899eac",
      "teamId": "nhFMY3a5g",
      "generated": false,
      "createdAt": "2021-07-11T09:13:25.920Z",
      "updatedAt": "2021-07-11T13:55:48.998Z",
      "version": 5,
      "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
      "workspaceId": "4ae225f9-123d-4918-a49f-e0c91bd0b18a",
      "head": {
        "id": 816966,
        "docId": "2df1040b-6bb9-4a74-bfb6-4b0cb6a39b05",
        "content": "# Особености\n\nПо сути как и при использовании обычного js. Разве что могу привести вот этот пример\n\n``` js\ninterface UserItemPageParams {\n    id: string;\n}\n\nconst UserItemPage: FC = () => {\n    const [user, setUser] = useState<IUser | null>(null)\n    const params = useParams <UserItemPageParams>()\n\n```\n\nТут мы отдельно задаем тип того что нам надо получить с параметров, но это класическая система типизации хуков.",
        "message": "",
        "created": "2021-07-11T13:55:48.989Z",
        "creators": [
          {
            "id": "b0568c88-bb34-4420-969e-41238089a0d4",
            "uniqueName": "google#113467622262670857280",
            "displayName": "Alexander Matviienko",
            "createdAt": "2021-05-10T19:50:11.968Z",
            "updatedAt": "2021-05-10T19:50:31.732Z"
          }
        ]
      }
    },

  {
    "id": "323b1181-e4bd-4df2-825c-30a7a09840e6",
    "emoji": null,
    "title": "Типизация хуков",
    "content": "",
    "headId": 816875,
    "archivedAt": null,
    "folderPathname": "/React/TS/React + TS",
    "parentFolderId": "d3754cde-3f5d-4aa2-88c1-8a36ae226d1f",
    "teamId": "nhFMY3a5g",
    "generated": false,
    "createdAt": "2021-07-11T08:37:40.878Z",
    "updatedAt": "2021-07-11T12:57:45.238Z",
    "version": 7,
    "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
    "workspaceId": "4ae225f9-123d-4918-a49f-e0c91bd0b18a",
    "head": {
      "id": 816875,
      "docId": "323b1181-e4bd-4df2-825c-30a7a09840e6",
      "content": "# Тут описывается примение хуков с TS\n## useState\nТут желательно задать стейту что в нем будет лежать. И положить это в стейт еще при его создании.\nТо есть если это строка, то пустые кавычки, если число то 0 и т.д.\n``` ts\nconst [title, setTitle] = useState<string>('')\n```\n\n## useRef\nЕсли туда будет закидыватся html элемент, то выглядить это будет следующим образом\n\n``` ts\n const ref = useRef<HTMLInputElement>(null)\n \n const clickHandler = (e: React.MouseEvent<HTMLButtonElement>) => {\n   // Единственное если соберемся взаимодействовать с таким элементом надо поставить\n   // \"?\" после current так как он может быть null и TS будет трындеть\n        console.log(ref.current?.value)\n    }\n \n // ну и дальше по класике\n \n <input type=\"text\" ref={ref} onClick={clickHandler}/>\n```\n\n## useEffect\nТут все как и в js\n\n``` ts\nuseEffect(() => {\n        fetchTodos(page, limit)\n    }, [])\n```\n\n",
      "message": "",
      "created": "2021-07-11T12:57:45.227Z",
      "creators": [
        {
          "id": "b0568c88-bb34-4420-969e-41238089a0d4",
          "uniqueName": "google#113467622262670857280",
          "displayName": "Alexander Matviienko",
          "createdAt": "2021-05-10T19:50:11.968Z",
          "updatedAt": "2021-05-10T19:50:31.732Z"
        }
      ]
    }
  },
  {
    "id": "4cb1c93e-f3a1-4c8d-826b-5e39c9ce3918",
    "emoji": null,
    "title": "Инициализация",
    "content": "",
    "headId": 816075,
    "archivedAt": null,
    "folderPathname": "/React/TS/React + TS/React+TS+Redux/Redux-thunk",
    "parentFolderId": "22fd22ab-94bd-46dc-8712-d27a7347ac17",
    "teamId": "nhFMY3a5g",
    "generated": false,
    "createdAt": "2021-07-11T08:09:14.356Z",
    "updatedAt": "2021-07-11T08:35:01.468Z",
    "version": 7,
    "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
    "workspaceId": "4ae225f9-123d-4918-a49f-e0c91bd0b18a",
    "head": {
      "id": 816075,
      "docId": "4cb1c93e-f3a1-4c8d-826b-5e39c9ce3918",
      "content": "# Инициализация\n\nБуду тут показывать на примере стратовую сборку redux для ts\n\n## Store\nКак всегда создается в корне папки store под именем index\n``` ts\nimport {applyMiddleware, createStore} from \"redux\";\nimport thunk from \"redux-thunk\"\nimport {rootReducer} from \"./reducers\";\n\nexport const store = createStore(rootReducer, applyMiddleware(thunk))\n```\n\n## Global reducer\nТут уже используется отдельно в папке reducers\n\n``` ts\nimport {combineReducers} from \"redux\";\nimport {userReducer} from \"./userReducer\";\nimport {todoReducer} from \"./todoReducer\";\n\nexport const rootReducer = combineReducers({\n    user: userReducer,\n    todo: todoReducer\n})\n// Создаем тип нашего reducer что бы в дальнейшем создавать хук \nexport type RootState = ReturnType<typeof rootReducer>\n```\n\n## Reducer\nПо сути делится на 3 части, сам reducer, actions, и файл с типами для для первых двух товарищей.\n\n### Type for reducer & actions\n\n``` ts\n// Файл для типизации reducer\n// Интерфейс для состояния\nexport interface UserState {\n    users: any[];\n    loading: boolean;\n    error: null | string;\n}\n// Какя понял это альтернатива указания типов в константах в оьычном js\nexport enum UserActionTypes {\n    FETCH_USERS = \"FETCH_USERS\",\n    FETCH_USERS_SUCCESS = \"FETCH_USERS_SUCCESS\",\n    FETCH_USERS_ERROR = \"FETCH_USERS_ERROR\"\n}\n// Интерфейсы для экшенов\ninterface FetchUsersAction {\n    type: UserActionTypes.FETCH_USERS;\n}\n\ninterface FetchUsersSuccessAction {\n    type: UserActionTypes.FETCH_USERS_SUCCESS;\n    payload: any[];\n}\n\ninterface FetchUsersErrorAction {\n    type: UserActionTypes.FETCH_USERS_ERROR;\n    payload: string;\n}\n\n// Создаем тип с экшен интерфейсами\nexport type UserAction = FetchUsersAction | FetchUsersSuccessAction | FetchUsersErrorAction\n```\n\nКак видим тут по сути можно вывести следующие разделы\n1. Интерфейс с типами для initialState объясняющий типы которые могут хранится в сторе\n2. enum с типами для actions\n3. Интерфейсы для actions в которых указываются типы того что actions возвращают\n4. Идалее групируем \n\n### Some Reducer\n\n```ts\nimport {UserAction, UserActionTypes, UserState} from \"../../types/user\";\n\n\nconst initialState: UserState = {\n    users: [],\n    loading: false,\n    error: null\n}\n\n// Указываем типы состояния и экшена прокинутые из файлов типов\nexport const userReducer = (state = initialState, action: UserAction): UserState => {\n    switch (action.type) {\n        // тут вместо класических типов как раз и используем enum\n            // так же что примечательно возвращаемое состяние надо указывать прям явно\n            // перечисляя каждое свойство и его тип\n        case UserActionTypes.FETCH_USERS:\n            return {loading: true, error: null, users: []}\n        // и так же что интересно в зависимости от интерфейса экшена призодят разные типы\n        case UserActionTypes.FETCH_USERS_SUCCESS:\n            return {loading: false, error: null, users: action.payload}\n        case UserActionTypes.FETCH_USERS_ERROR:\n            return {loading: false, error: action.payload, users: []}\n        default:\n            return state\n    }\n}\n```\n\n### Actions\nТут action демонстрирует получение чего то от сервера\n```ts\nimport {UserAction, UserActionTypes} from \"../../types/user\";\nimport {Dispatch} from \"redux\";\nimport axios from \"axios\";\n// Экшен получения пользователей\nexport const fetchUser = () => {\n    // через redux-thunk вызываем dispatch с присвоения ему типа и передачей в него типа экшена\n    return async (dispatch: Dispatch<UserAction>) => {\n        // пакуем в try catch ибо функция асинхронная\n        try {\n            // вызываем dispatch который стаит загрузчик\n            dispatch({type: UserActionTypes.FETCH_USERS})\n            // делаем запрос на сервер\n            const response = await axios.get('https://jsonplaceholder.typicode.com/users')\n            // полученные данные предаем в dispatch который вызывает action по типу и так же\n            // передаем туда даные\n            dispatch({type: UserActionTypes.FETCH_USERS_SUCCESS, payload: response.data})\n        }catch (e) {\n            // в случае ошибки вызываем экшен ошибки с помощью заранее подготовленых типов\n            dispatch({type: UserActionTypes.FETCH_USERS_ERROR,\n                payload: \"Произошла ошибка при загрузке пользователей\"})\n        }\n    }\n}\n```\n\n### useSelector с типизацией\nСтандартный хук редакса для получения состояний не подходит для TS так что надо будет его модифицировать.\n\n1. В папке с хуками создаем файл с таким кодом\n\n``` ts\nimport {TypedUseSelectorHook, useSelector} from \"react-redux\";\nimport {RootState} from \"../store/reducers\";\n// Создаем типизированный аналог useSelector именуя новый тип и передавая в него новосозданный\n// тип редюсера\nexport const useTypedSelector: TypedUseSelectorHook<RootState> = useSelector\n```\n2. Далее создаем файл в сторе куда будем прокидывать типы экшенов\n\n``` ts\n// импортирем все с файла экшена и именуем \nimport * as UserActionCreators from './user'\nimport * as TodoActionCreators from './todo'\n// а здесь все это дело разворачиваем\nexport default {\n    ...TodoActionCreators,\n    ...UserActionCreators\n}\n```\n\n3. Примение\nВот так вот мы достаем занчения со стора с этим экшеном\n``` ts\nconst {users, error, loading} = useTypedSelector(state => state.user)\n```\n\n### Избавляемся от dispatch\n\nЧто бы не писать в компонентах на каждом шагу dispatch мы создадим хук который позволит нам взаимодействовать с экшенами на прямую\n\nИ так в паке с хуками создаем файл со следующим содержимым\n\n``` ts\nimport {useDispatch} from \"react-redux\";\nimport {bindActionCreators} from \"redux\";\n// Достьаем глобальную типизацию хуков котрую мы создавали для модификации useSelector\nimport ActionCreators from '../store/action-creator/index'\n// данный хук позволяет сделать необезательным вызов dispatch для взаимодействия с action\nexport const useAction = () => {\n    const dispatch = useDispatch()\n    return bindActionCreators(ActionCreators, dispatch)\n}\n```\n\nВсе хук создан, применятся он следующим образом\n\n``` ts\nconst {fetchUser} = useAction()\n\n    useEffect(()=> {\n        fetchUser()\n    }, [])\n```",
      "message": "",
      "created": "2021-07-11T08:35:01.459Z",
      "creators": [
        {
          "id": "b0568c88-bb34-4420-969e-41238089a0d4",
          "uniqueName": "google#113467622262670857280",
          "displayName": "Alexander Matviienko",
          "createdAt": "2021-05-10T19:50:11.968Z",
          "updatedAt": "2021-05-10T19:50:31.732Z"
        }
      ]
    }
  },
  {
    "id": "5cdfb4fe-2593-48e6-93c6-ccb57d1e51e9",
    "emoji": null,
    "title": "Список снипеттов",
    "content": "",
    "headId": 813625,
    "archivedAt": null,
    "folderPathname": "/Шаблонизация решений",
    "parentFolderId": "bf41ccc2-7e3f-48bf-97fe-8ce80f11c50f",
    "teamId": "nhFMY3a5g",
    "generated": false,
    "createdAt": "2021-07-10T15:26:40.206Z",
    "updatedAt": "2021-07-10T15:27:20.606Z",
    "version": 2,
    "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
    "workspaceId": "4ae225f9-123d-4918-a49f-e0c91bd0b18a",
    "head": {
      "id": 813625,
      "docId": "5cdfb4fe-2593-48e6-93c6-ccb57d1e51e9",
      "content": "# Список снипитов\n\n",
      "message": "",
      "created": "2021-07-10T15:27:20.598Z",
      "creators": [
        {
          "id": "b0568c88-bb34-4420-969e-41238089a0d4",
          "uniqueName": "google#113467622262670857280",
          "displayName": "Alexander Matviienko",
          "createdAt": "2021-05-10T19:50:11.968Z",
          "updatedAt": "2021-05-10T19:50:31.732Z"
        }
      ]
    }
  },
  {
    "id": "f57a0bfd-8a72-4337-b7b5-dd5330965b56",
    "emoji": null,
    "title": "Установка",
    "content": "",
    "headId": 813618,
    "archivedAt": null,
    "folderPathname": "/React/TS/React + TS",
    "parentFolderId": "d3754cde-3f5d-4aa2-88c1-8a36ae226d1f",
    "teamId": "nhFMY3a5g",
    "generated": false,
    "createdAt": "2021-07-10T15:18:06.599Z",
    "updatedAt": "2021-07-10T15:22:58.915Z",
    "version": 3,
    "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
    "workspaceId": "4ae225f9-123d-4918-a49f-e0c91bd0b18a",
    "head": {
      "id": 813618,
      "docId": "f57a0bfd-8a72-4337-b7b5-dd5330965b56",
      "content": "# Установка\nУстановка React + TS\n```\nnpx create-react-app . --template typescript\n```\n\nУстановка Redux Redux-thunk axios react-router-dom\n```\nnpm i @types/react-redux redux redux-thunk axios react-router-dom\n\n```\n\n## Файловая структура\n1. components - для компонентов\n2. store - для redux\n3. types - для типов",
      "message": "",
      "created": "2021-07-10T15:22:58.905Z",
      "creators": [
        {
          "id": "b0568c88-bb34-4420-969e-41238089a0d4",
          "uniqueName": "google#113467622262670857280",
          "displayName": "Alexander Matviienko",
          "createdAt": "2021-05-10T19:50:11.968Z",
          "updatedAt": "2021-05-10T19:50:31.732Z"
        }
      ]
    }
  },
  {
    "id": "024edb8b-a8fd-413f-b841-b7ac8671bed6",
    "emoji": null,
    "title": "Заповеди TS",
    "content": "",
    "headId": 816330,
    "archivedAt": null,
    "folderPathname": "/React/TS/React + TS",
    "parentFolderId": "d3754cde-3f5d-4aa2-88c1-8a36ae226d1f",
    "teamId": "nhFMY3a5g",
    "generated": false,
    "createdAt": "2021-07-10T12:16:21.571Z",
    "updatedAt": "2021-07-11T10:06:19.789Z",
    "version": 12,
    "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
    "workspaceId": "4ae225f9-123d-4918-a49f-e0c91bd0b18a",
    "head": {
      "id": 816330,
      "docId": "024edb8b-a8fd-413f-b841-b7ac8671bed6",
      "content": "# Заповеди TS\nТут будет приводится список общих принципов TS в React\n\n1. Задавай всегда тип аргументам в функции\n2. Задавай тип перменным и константам\n3. Всегда пиши тип компонента (в 80% случаев это __React.FC__)\n4. Задавай типы пропсам в generic\n5. В компоненте в типах пропсах фунркции указывай тип атрибуда если есть и что вернет или __void__ если ничего не вернет\n6. Создавать отдельно в корне файлы для интерфейсов \n7. Типы массивов указываются по принуципу прописвыыанию типа ихнего содержимого и \"[]\" в конце.\n8. Объектам типы интерфейсы указывают\n9. Передачу children-ов указывай \n",
      "message": "",
      "created": "2021-07-11T10:06:19.780Z",
      "creators": [
        {
          "id": "b0568c88-bb34-4420-969e-41238089a0d4",
          "uniqueName": "google#113467622262670857280",
          "displayName": "Alexander Matviienko",
          "createdAt": "2021-05-10T19:50:11.968Z",
          "updatedAt": "2021-05-10T19:50:31.732Z"
        }
      ]
    }
  },
  {
    "id": "13b85ff8-0596-44d9-bb88-9bc698ac31ec",
    "emoji": null,
    "title": "Сборка тонких моментов",
    "content": "",
    "headId": 816600,
    "archivedAt": null,
    "folderPathname": "/React/TS/React + TS",
    "parentFolderId": "d3754cde-3f5d-4aa2-88c1-8a36ae226d1f",
    "teamId": "nhFMY3a5g",
    "generated": false,
    "createdAt": "2021-07-10T11:58:56.928Z",
    "updatedAt": "2021-07-11T11:01:26.395Z",
    "version": 15,
    "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
    "workspaceId": "4ae225f9-123d-4918-a49f-e0c91bd0b18a",
    "head": {
      "id": 816600,
      "docId": "13b85ff8-0596-44d9-bb88-9bc698ac31ec",
      "content": "# Сборка тонких моментов\n\nЗдесь указываются моменты ради которых не особо охота отдельный документ выделять но тем не менее записать их надо\n\n## Прокидывание типов в стейт\nВместо <string> там спокойно можно указывать и number и bool и any вконце концов))\n  ``` ts\n    const [title, setTitle] = useState<string>('')\n  ```\n  \n## Указание типизации в useRef\n  Само собой это работает тольео если в  useRef будет html элемент\n  ```ts\n  const ref = useRef<HTMLInputElement>(null)\n  ```\n  \n## Прокидываем типы пропсов\n  Что бы прокинуть типы пропсов надо __React.FC__  __< generic >__ передать объкт с пропсами и типами\n  \n  Пример прокидывания пропса функции:\n  ``` ts\n  const TodoForm: React.FC<{onAdd(title: string): void}> = () => {\n  ```\n  Но так указывать типы не совсем красиво, поэтому мы можем указать их в интерфейсе или создав типы используя __type__ что предпочтительнее и затем прокинуть в __< generic >__\n  \n  ``` ts\n  interface TodoFormProps {\n    onAdd(title: string): void\n}\n\nconst TodoForm: React.FC<TodoFormProps> = () => {\n  ```\n  Знак вопроса, делает параметр необязательным\n  ``` ts\n  type TodoListProps = {\n    todos: any[]\n    onToggle(id: number): void\n    onRemove?(id: number): void\n}\n\nconst TodoList: React.FC<TodoListProps> = ({todos}) => {\n  ```\n  \n  ## Деларирование значений\n    Декларирование необходимо что бы достать метод допустим из сторонней либы и использовать самостоятельно. Так мы даем понять TS что мы знаем что делаем.\n  ``` ts\n  // Декларирование значений\ndeclare var confirm: (question: string) => boolean\n  ```\n  и мы теперь можем использовать метод без родителя\n  ``` ts\n  const shoudRemove = confirm('Вы уверены что хотите удалить элемент?')\n  // Вместо\n  const shoudRemove = window.confirm('Вы уверены что хотите удалить элемент?')\n  ```\n  \n  ## Пример выхода из деликатных ситуаций\n``` ts\n   const saved = JSON.parse(localStorage.getItem('todos') || '[]') as ITodo[]\n  ```\n  \n  Тут мы по любому ложим в константу массив что-бы не допустить ошибки по типизации. Хотя интересно что при этом TS пофиг на интерфейс\n  \n  ## Создание вариантов\n  \n  В ts можно реализовать функционал в зависисти от типов пропсов, подробнее разберем на примере\n  \n  ``` ts\n  enum CardVariant {\n    outlined = 'outlined',\n    primary = 'primary'\n}\n// типизация пропсов\ninterface CardProps {\n    variant: CardVariant;\n  }\n  \n  const Card:FC<CardProps> = ({variant}) => {\n    return (\n        <div style={{\n        border: variant === CardVariant.outlined ? '1px solid gray' : 'none',\n        background: variant === CardVariant.primary ? 'lightgray' : ''\n        }}\n       >\n        </div>\n    );\n};\n  ```\n  Прокидывание\n``` ts\n  import Card, {CardVariant} from \"./components/Card\";\n\nfunction App() {\n    return (\n        <div>\n            <Card  variant={CardVariant.outlined}>\n\n            </Card>\n        </div>\n    );\n}\n  ```\n  Как можно увидить, мы типизировали пропс и реализовали функциыонал вкомпонента в зависиомти от типа прокинутого пропса\n  \n  ## Axios запросы получения данных\n  \n  Этим примером я хочу сказать что желательно создавать интерфейсы для того что мы ждем от сервера и указывать их\n  \n  ``` ts\n      useEffect(() => {\n        fetchUsers()\n    }, [])\n\n    async function fetchUsers () {\n        try{\n            const response = await axios.get<IUser[]>('https://jsonplaceholder.typicode.com/users')\n            setUsers(response.data)\n        }catch (e) {\n            alert(e)\n        }\n    }\n  ```",
      "message": "",
      "created": "2021-07-11T11:01:26.379Z",
      "creators": [
        {
          "id": "b0568c88-bb34-4420-969e-41238089a0d4",
          "uniqueName": "google#113467622262670857280",
          "displayName": "Alexander Matviienko",
          "createdAt": "2021-05-10T19:50:11.968Z",
          "updatedAt": "2021-05-10T19:50:31.732Z"
        }
      ]
    }
  },
  {
    "id": "322bbd21-9b29-4b7f-9101-43396148d76d",
    "emoji": null,
    "title": "Типы событий",
    "content": "",
    "headId": 816854,
    "archivedAt": null,
    "folderPathname": "/React/TS/React + TS",
    "parentFolderId": "d3754cde-3f5d-4aa2-88c1-8a36ae226d1f",
    "teamId": "nhFMY3a5g",
    "generated": false,
    "createdAt": "2021-07-10T11:55:55.184Z",
    "updatedAt": "2021-07-11T12:33:45.904Z",
    "version": 6,
    "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
    "workspaceId": "4ae225f9-123d-4918-a49f-e0c91bd0b18a",
    "head": {
      "id": 816854,
      "docId": "322bbd21-9b29-4b7f-9101-43396148d76d",
      "content": "# Типы событий в React\n\nПри использовании функций принимающих события требуется задавать им типы, вроде того как показано на примере.\n\n``` js\n    const keyPressHandler = (event: React.KeyboardEvent) => {\n        if(event.key === 'Enter'){\n            console.log(title)\n        }\n    }\n```\n\nВсего выделют следующие типы событий:\n\n1. ChangeEvent - событие изменния чего либо\n2. KeyboardEvent - события клавиш\n3. MouseEvent - события мыши\n4. FormEvent - Событие, которое происходит всякий раз, когда форма или элемент формы получает / теряет фокус, значение элемента формы изменяется или форма отправляется.\n\nТут кстати если еще надо взаимодействовать с элементом на который сраблотало событие необходимо его задать следующим образом.\nТоесть по сути порчти на каждый html элемент в этой ситуации есть свой тип\n\n``` js\n    const changeHandler = (event: React.ChangeEvent<HTMLInputElement>) => {\n        setTitle(event.target.value)\n    }\n```\n\n# Вывод\n\nБуду делать обработчик формы обязательно загляну сюда.",
      "message": "",
      "created": "2021-07-11T12:33:45.895Z",
      "creators": [
        {
          "id": "b0568c88-bb34-4420-969e-41238089a0d4",
          "uniqueName": "google#113467622262670857280",
          "displayName": "Alexander Matviienko",
          "createdAt": "2021-05-10T19:50:11.968Z",
          "updatedAt": "2021-05-10T19:50:31.732Z"
        }
      ]
    }
  },
  {
    "id": "cb679140-bfba-4b7e-b8cc-b953e4c8716d",
    "emoji": null,
    "title": "Guards",
    "content": "",
    "headId": 812348,
    "archivedAt": null,
    "folderPathname": "/React/TS/Основы",
    "parentFolderId": "3d300bf6-0114-4176-861a-e42ee0cc0482",
    "teamId": "nhFMY3a5g",
    "generated": false,
    "createdAt": "2021-07-10T10:15:45.569Z",
    "updatedAt": "2021-07-10T10:17:24.401Z",
    "version": 4,
    "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
    "workspaceId": "4ae225f9-123d-4918-a49f-e0c91bd0b18a",
    "head": {
      "id": 812348,
      "docId": "cb679140-bfba-4b7e-b8cc-b953e4c8716d",
      "content": "# Guards\n\nЭти товарищи по сути дают возможность совершать какие либо действия в зависимости от типов даных\n\n``` js\n// В TS весьма актуально делать какие либо действия в зависимости от типа данного\nfunction strip(x: string | number) {\n    if (typeof x === \"number\"){\n        return x.toFixed(2)\n    }\n    return x.trim()\n}\n\n// Так же можно делать действия в зависимости от наследуемого объектом класса\nclass MyResponse {\n    header = 'response header'\n    result = 'response result'\n}\n\nclass MyError {\n    header = 'error header'\n    message = 'error result'\n}\n\nfunction handle(res: MyResponse | MyError) {\n    // Грубо го воря \"instanceof\" значит \"объект наследуется от класс\"\n    if (res instanceof MyResponse) {\n        // И спокойно можем возвращать свойства указанные в классе\n        return {\n            info: res.header + res.result\n        }\n    } else {\n        return {\n            info: res.header + res.message\n        }\n    }\n}\n\n// ==================================\n\n```",
      "message": "",
      "created": "2021-07-10T10:17:22.522Z",
      "creators": [
        {
          "id": "b0568c88-bb34-4420-969e-41238089a0d4",
          "uniqueName": "google#113467622262670857280",
          "displayName": "Alexander Matviienko",
          "createdAt": "2021-05-10T19:50:11.968Z",
          "updatedAt": "2021-05-10T19:50:31.732Z"
        }
      ]
    }
  },
  {
    "id": "3fbb46e6-7bd3-45f2-8cb8-1fc426d595a6",
    "emoji": null,
    "title": "Operators",
    "content": "",
    "headId": 1591301,
    "archivedAt": null,
    "folderPathname": "/React/TS/Основы",
    "parentFolderId": "3d300bf6-0114-4176-861a-e42ee0cc0482",
    "teamId": "nhFMY3a5g",
    "generated": false,
    "createdAt": "2021-07-10T10:14:59.133Z",
    "updatedAt": "2021-12-04T18:02:09.629Z",
    "version": 4,
    "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
    "workspaceId": "4ae225f9-123d-4918-a49f-e0c91bd0b18a",
    "head": {
      "id": 1591301,
      "docId": "3fbb46e6-7bd3-45f2-8cb8-1fc426d595a6",
      "content": "# Operators\n\n\n``` js\n interface Person {\n     name: string,\n     age: number\n }\n\n type PersonKeys = keyof Person // 'name' | 'age'\n\n let key: PersonKeys = 'name'\n key = 'age'\n\n type User = {\n    _id: number\n     name: string\n     email: string\n     createdAt: Date\n }\n\n// Создать тип наследуя от другого при этом исключив определенные свойства \n type UserKeysNoMeta1 = Exclude<keyof User, '_id' | 'createdAt'> // 'name' | 'email'\n   // Создать тип наследуя от другого при этом указав какие конкретно свойства необходимо унаследовать\n type UserKeysNoMeta2 = Pick<User, 'name' | 'email'> // 'name' | 'email'\n\n let u1: UserKeysNoMeta1 = 'name'\n```",
      "message": "",
      "created": "2021-12-04T18:02:09.618Z",
      "creators": [
        {
          "id": "b0568c88-bb34-4420-969e-41238089a0d4",
          "uniqueName": "google#113467622262670857280",
          "displayName": "Alexander Matviienko",
          "createdAt": "2021-05-10T19:50:11.968Z",
          "updatedAt": "2021-05-10T19:50:31.732Z"
        }
      ]
    }
  },
  {
    "id": "ee86d326-3fb9-4618-a8e9-9fc6964c386a",
    "emoji": null,
    "title": "Enum",
    "content": "",
    "headId": 812342,
    "archivedAt": null,
    "folderPathname": "/React/TS/Основы",
    "parentFolderId": "3d300bf6-0114-4176-861a-e42ee0cc0482",
    "teamId": "nhFMY3a5g",
    "generated": false,
    "createdAt": "2021-07-10T10:14:13.248Z",
    "updatedAt": "2021-07-10T10:17:42.664Z",
    "version": 3,
    "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
    "workspaceId": "4ae225f9-123d-4918-a49f-e0c91bd0b18a",
    "head": {
      "id": 812342,
      "docId": "ee86d326-3fb9-4618-a8e9-9fc6964c386a",
      "content": "# Enum\n\nТут в примере все свазано ))\n\n``` js\n// enum - сущность которая помогает лучше структурировать код\n// нахуя надо пока не совсем понятно\n\nenum  Membership {\n    Simple,\n    Standard,\n    Premium\n}\n\nconst membership = Membership.Standard\nconst membershipRevers = Membership[2]\nconsole.log(membership) // выведет 1\nconsole.log(membershipRevers) // выдаст Premium\n\nenum SocialMedia {\n    VK = 'VK',\n    FACEBOOK = 'FACEBOOK',\n    INSTAGRAM = 'INSTAGRAM'\n}\n\nconst social = SocialMedia.INSTAGRAM\nconsole.log(social) // выдаст INSTAGRAM\n```",
      "message": "",
      "created": "2021-07-10T10:15:01.160Z",
      "creators": [
        {
          "id": "b0568c88-bb34-4420-969e-41238089a0d4",
          "uniqueName": "google#113467622262670857280",
          "displayName": "Alexander Matviienko",
          "createdAt": "2021-05-10T19:50:11.968Z",
          "updatedAt": "2021-05-10T19:50:31.732Z"
        }
      ]
    }
  },
  {
    "id": "a80acf8a-472f-4473-b610-2c2dcc4c42fe",
    "emoji": null,
    "title": "Classes",
    "content": "",
    "headId": 812341,
    "archivedAt": null,
    "folderPathname": "/React/TS/Основы",
    "parentFolderId": "3d300bf6-0114-4176-861a-e42ee0cc0482",
    "teamId": "nhFMY3a5g",
    "generated": false,
    "createdAt": "2021-07-10T10:12:58.987Z",
    "updatedAt": "2021-07-10T10:17:41.056Z",
    "version": 3,
    "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
    "workspaceId": "4ae225f9-123d-4918-a49f-e0c91bd0b18a",
    "head": {
      "id": 812341,
      "docId": "a80acf8a-472f-4473-b610-2c2dcc4c42fe",
      "content": "# Classes\n\nСоздание классов в TS очень напоминает PHP, можно убидится в этом на примерах.\n\n``` js\nclass Typescript{\n    version: string\n\n    constructor(version: string) {\n        this.version = version\n    }\n\n    info(name: string) {\n        return `[${name}]: Typescript version is ${this.version}`\n    }\n}\n\n// class Car {\n//     // Свойство только для чтения\n//     readonly model: string\n//     readonly numberOfWheels: number = 4\n//\n//     constructor(theModal: string) {\n//         this.model = theModal\n//     }\n// }\n\nclass Car {\n    readonly numberOfWheels: number = 4\n    constructor(readonly model: string) {}\n}\n\n// =========================================\n\nclass Animal {\n    // Модификатор protected определяет поля и методы, которые из вне класса видны только в классах-наследниках:\n    protected  voice: string = ''\n    public color: string = 'black'\n    // private\n    // Если же к свойствам и методам применяется модификатор private, то к ним нельзя будет обратиться извне при создании объекта данного класса.\n    constructor() {\n    this.go()\n    }\n    private go() {\n        console.log('Go')\n    }\n}\n\nclass Cat extends Animal {\n    // Тут кстати есть прикол с инкапсуляцией, мы не можем обратится к \"voice\" извне так как она под\n    // типом \"protected\", поэтому мы создали метод который как бы задает ей значение изнутри, но за счет того что\n    // он \"public\" мы можем вызывать его у объекта\n    public setVoice(voice: string): void {\n        this.voice = voice\n    }\n}\n\nconst cat = new Cat()\ncat.setVoice('test')\nconsole.log(cat.color)\n\n// =========================================\n// Абстарактные классы что то вроде интерфейсов для объектов\n// Они указывают что в наследуемом классе должно 100% находится\nabstract class Component {\n    abstract render(): void\n    abstract info(): string\n}\n\nclass AppComponent extends Component {\n    render(): void {\n        console.log('Component in render')\n    }\n    info(): string {\n        return \"This is info\";\n    }\n\n}\n\n\n```",
      "message": "",
      "created": "2021-07-10T10:14:15.220Z",
      "creators": [
        {
          "id": "b0568c88-bb34-4420-969e-41238089a0d4",
          "uniqueName": "google#113467622262670857280",
          "displayName": "Alexander Matviienko",
          "createdAt": "2021-05-10T19:50:11.968Z",
          "updatedAt": "2021-05-10T19:50:31.732Z"
        }
      ]
    }
  },
  {
    "id": "4ff89923-8453-40c9-a1a9-203afe3e7c9f",
    "emoji": null,
    "title": "Function",
    "content": "",
    "headId": 812339,
    "archivedAt": null,
    "folderPathname": "/React/TS/Основы",
    "parentFolderId": "3d300bf6-0114-4176-861a-e42ee0cc0482",
    "teamId": "nhFMY3a5g",
    "generated": false,
    "createdAt": "2021-07-10T10:11:05.988Z",
    "updatedAt": "2021-07-10T10:17:32.182Z",
    "version": 3,
    "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
    "workspaceId": "4ae225f9-123d-4918-a49f-e0c91bd0b18a",
    "head": {
      "id": 812339,
      "docId": "4ff89923-8453-40c9-a1a9-203afe3e7c9f",
      "content": "# Function\n\nЗадача типизации функциям уже была затронута в разборе типов. Но здесь представлены более углубленные примеры. Вчастности задача условий возврата в зависимости от принятых аргументов.\n\n``` js\nfunction add(a: number, b: number): number {\n    return a + b\n}\n\nfunction toUpperCase (str: string) :string {\n    return str.trim().toUpperCase()\n}\n\n// Задача условий возвращения функции\n// 1. Создаем интерфейсы определюящие что функция должна возвращать\ninterface MyPosition {\n    x: number | undefined\n    y: number | undefined\n}\n// Можно даже их наследовать\ninterface MyPositionWithDefault extends MyPosition{\n    default: string\n}\n// 2. После создаем функцию, указываем атрибуты и их типы если надо и указываем в виде интерфейса\n// что она возвращает, можно спокойно применять несколько интерфейсов к одной функции и даже несколько вариаций атрибутов\nfunction position(): MyPosition\nfunction position(a: number): MyPositionWithDefault\nfunction position(a: number, b: number): MyPosition\n// 3. А после только создаем иело этой функции\nfunction position(a?: number, b?: number) {\n    if(!a && !b){\n        // Итут мы можем указывать что функция возвращает\n        // в зависимости от переданных интерфейсов\n        // Ебанный Маразм!!!\n        return {x: undefined, y: undefined}\n    }\n    if(a && !b){\n        return {x: a, y: undefined, default: a.toString()}\n    }\n    return {x: a, y: b}\n}\n// И в итоге мы можем одну функцию использовать для разных целей в зависмости к примеру от\n// переданных атрибутов.\n// Оно ж блять просто создать 3 отдельные функции религия не позволяет\n// надо блять все усложнить, СУКА!!! Я даже не ебу где я это могу применить в своей разработке\nconsole.log('Empty: ', position()) // = {x: undefined, y: undefined}\nconsole.log('One param: ', position(42)) // = {x: a, y: undefined, default: '42'}\nconsole.log('Two params: ', position(10, 15)) // = {x: 10, y: 15}\n```",
      "message": "",
      "created": "2021-07-10T10:13:00.892Z",
      "creators": [
        {
          "id": "b0568c88-bb34-4420-969e-41238089a0d4",
          "uniqueName": "google#113467622262670857280",
          "displayName": "Alexander Matviienko",
          "createdAt": "2021-05-10T19:50:11.968Z",
          "updatedAt": "2021-05-10T19:50:31.732Z"
        }
      ]
    }
  },
  {
    "id": "1f95e872-26ae-4d3c-b722-c3beb5eeb244",
    "emoji": null,
    "title": "Generic",
    "content": "",
    "headId": 1591307,
    "archivedAt": null,
    "folderPathname": "/React/TS/Основы",
    "parentFolderId": "3d300bf6-0114-4176-861a-e42ee0cc0482",
    "teamId": "nhFMY3a5g",
    "generated": false,
    "createdAt": "2021-07-10T10:09:04.525Z",
    "updatedAt": "2021-12-04T18:07:08.523Z",
    "version": 5,
    "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
    "workspaceId": "4ae225f9-123d-4918-a49f-e0c91bd0b18a",
    "head": {
      "id": 1591307,
      "docId": "1f95e872-26ae-4d3c-b722-c3beb5eeb244",
      "content": "# Generic\n\nСмысл примение данных товарищей является указание типа содержимого чего нибудь, во многом это массива.\n\n``` js\nconst arrayOfNumbers: Array<number> = [1, 1, 1, 2, 32, 9]\nconst arrayOfStrings: Array<string> = ['Hello', 'Vladilen']\n// Generic <T> - данный дженерик указывает что, что то может принимать любой тип данных\n// В данном примере мы указыветс что функция может принимать массив разных типов\nfunction reverse<T>(array: T[]): T[]{\n    return array.reverse()\n}\n\nreverse(arrayOfNumbers)\nreverse(arrayOfStrings)\n```\n\nПример наследования дженериками других типов \n\n``` ts\ninterface ILength {\n  length: number\n }\n\n function withCount<T extends ILength>(value: T): {value: T, count: string} {\n   return {\n     value,\n     count: `В этом объекте ${value.length} символов `\n  }\n }\n```\n\nПример указания объекта и его ключей в типах дженерика\n\n```ts\nfunction getObjectValue<T extends object, R extends keyof T>(obj: T, key: R){\n  return obj[key]\n}\n```\n\nПРимер использования дженериков в классах \n\n``` ts\nclass Collection<T extends number | string | boolean> {\n\n  constructor(private _items: T[] = []) {}\n\n  add(item: T){\n    this._items.push(item)\n  }\n\n  remove(item: T){\n    this._items = this._items.filter(i => i !== item)\n  }\n\n  get items(): T[]{\n    return this._items\n  }\n}\n```\n\nПример частичного наследования дженерика\n``` ts\n function createAndValidateCar(model: string, year: number): Car {\n  const car: Partial<Car> = {}\n\n   if (model.length > 3) {\n     car.model = model\n   }\n\n   if (year > 2000){\n     car.year = year\n   }\n\n   return car as Car\n }\n```\n\nПример указания типа только для чтения через дженерик \n\n``` ts\nconst cars: Readonly<Array<string>> = ['Ford', 'Audi']\n// cars.shift()\n// cars[1]\n\nconst ford: Readonly<Car> = {\n  model: 'Ford',\n  year: 2020\n}\n\n```",
      "message": "",
      "created": "2021-12-04T18:07:08.515Z",
      "creators": [
        {
          "id": "b0568c88-bb34-4420-969e-41238089a0d4",
          "uniqueName": "google#113467622262670857280",
          "displayName": "Alexander Matviienko",
          "createdAt": "2021-05-10T19:50:11.968Z",
          "updatedAt": "2021-05-10T19:50:31.732Z"
        }
      ]
    }
  },
  {
    "id": "bbb6fc1e-9cbb-4aa2-b951-054815e10111",
    "emoji": null,
    "title": "Интерфейсы",
    "content": "",
    "headId": 816499,
    "archivedAt": null,
    "folderPathname": "/React/TS/Основы",
    "parentFolderId": "3d300bf6-0114-4176-861a-e42ee0cc0482",
    "teamId": "nhFMY3a5g",
    "generated": false,
    "createdAt": "2021-07-10T10:07:35.523Z",
    "updatedAt": "2021-07-11T10:41:02.414Z",
    "version": 4,
    "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
    "workspaceId": "4ae225f9-123d-4918-a49f-e0c91bd0b18a",
    "head": {
      "id": 816499,
      "docId": "bbb6fc1e-9cbb-4aa2-b951-054815e10111",
      "content": "# Интерфейсы \nИнтерфейсы по сути нужны для задачи типов данных содержимому объектов. \n\nПримеры с объяснениями:\n\n``` js\n// interface - это тип который в основном служит для объектов или класов, где мы указываем\n// какие свойства и методы должны присутсвовать у этих методов.\n\ninterface NameInterface {\n    // readonly указывает что свойство только для чтения\n    readonly id: string\n    // знак \"?\" говорит о том что свойство необязателено\n    color?: string\n    // самое забавное что тип object по ходу не указывается, в отличие от тех же масивов\n    size: {\n        width: number\n        height: number\n    }\n}\n\n// Пример создания объекта на основе интерфейса\nconst nameObject: NameInterface = {\n    id: '1234',\n    size: {\n        width: 20,\n        height: 30\n    },\n    color: '#ccc'\n}\n\n// Здесь необязательный параметр не указывается\nconst nameObjectTwo: NameInterface = {\n    id: '12345',\n    size: {\n        width: 80,\n        height: 10\n    },\n}\n// Зато задается тут\nnameObjectTwo.color = 'black'\n\n// Еще варианты задачи типу (интерфейса) объекта\nconst rect3 = {} as NameInterface\nconst rect4 = <NameInterface>{}\n\n// ============================================\n// Наследования интерфейсов\ninterface RectWithArea extends NameInterface {\n    // Пример задачи типов методам\n    getArea: () => number\n}\n\nconst rect5: RectWithArea = {\n    id: '123',\n    size: {\n        width: 20,\n        height: 20\n    },\n    // Самое интересное тип методу задается как в интерфейсе так и в объекте\n    getArea(): number {\n        return this.size.width * this.size.height\n    }\n}\n\n// =====================================\n// Использование интерфейсов для наследования классами\n// Очень часто интерфейсы называют через большую букву \"I\" что говорит о том что это интерфейс\ninterface IClock {\n    // о а у даты есть свой тип))\n    time: Date\n    setTime(date: Date): void\n}\n\n// Пример наследования интерфейсов класами\nclass Clock implements  IClock {\n    time: Date = new Date()\n\n    setTime(date: Date): void {\n    this.time = date\n    }\n}\n// =====================================\n// Если к примеру нам надо весь объект заполнит одним типом данных\n// то можно применить следующую конструкци.\ninterface Styles{\n    // Тут необходимо указать как тип ключа, так и тип вложенных в него значений\n    [key: string]: string\n}\n\nconst css: Styles = {\n    border: '1px solid black',\n    marginTop:  '2px',\n    borderRadius: '5px'\n}\n```\n  Чтобы типизировать объект в объекте, для него необходимо создать отдельный интерфейс. Как на пример.\n  \n  ```ts\nexport interface IAddress {\n    street: string;\n    city: string;\n    zipcode: string;\n}\n\nexport interface IUser {\n    id: number;\n    name: string;\n    email: string;\n    address: IAddress;\n}\n```",
      "message": "",
      "created": "2021-07-11T10:41:02.402Z",
      "creators": [
        {
          "id": "b0568c88-bb34-4420-969e-41238089a0d4",
          "uniqueName": "google#113467622262670857280",
          "displayName": "Alexander Matviienko",
          "createdAt": "2021-05-10T19:50:11.968Z",
          "updatedAt": "2021-05-10T19:50:31.732Z"
        }
      ]
    }
  },
  {
    "id": "c2868d52-4edd-4358-aa0e-66139ca5f44d",
    "emoji": null,
    "title": "Типы данных",
    "content": "",
    "headId": 812326,
    "archivedAt": null,
    "folderPathname": "/React/TS/Основы",
    "parentFolderId": "3d300bf6-0114-4176-861a-e42ee0cc0482",
    "teamId": "nhFMY3a5g",
    "generated": false,
    "createdAt": "2021-07-10T10:03:33.340Z",
    "updatedAt": "2021-07-10T10:17:37.854Z",
    "version": 4,
    "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
    "workspaceId": "4ae225f9-123d-4918-a49f-e0c91bd0b18a",
    "head": {
      "id": 812326,
      "docId": "c2868d52-4edd-4358-aa0e-66139ca5f44d",
      "content": "# Типы данных\n\nСмысл TS заключается в опрделении типов данных, ниже приведены примеры задачи этих типов, так сказать на элементарных примерах.\n\nПримеры:\n``` js\nconst isFetching: boolean = true\nconst isLoading: boolean = false\n\nconst int: number = 42\nconst float: number = 4.2\nconst num: number = 3e10\n\nconst message: string = 'Hello Typescript'\n\nconst numberArray: number[] = [1, 2, 3, 4, 5, 1, 5, 9, 12]\n// <> - generic по сути этот синтаксис позволяет указать какого типа данные находятся в массиве, объекте, компоненте\nconst numberArray2: Array<number> = [1, 2, 3, 4, 5, 1, 5, 9, 12]\n\nconst words: string[] = ['Hello', 'Typescript']\n\n// Tuple - позволяет создать массив из разных типов данных\nconst contact: [string, number] = ['Vladilen', 1234567]\n\n// Any - неопределенный тип дапнных\n\nlet variable: any = 42\nvariable = 'New string'\n\n//====\n// Тип void значит что функция нам ничего не вернет\nfunction sayMyName (name: string): void{\n    console.log(name)\n}\n\nsayMyName('Hi')\n\n// Never - тип данных устананвливается на функцию в двух случаях:\n// 1. Когда она возвращает ошибку и не заканчивает свою работу. компилятор видит что функция 100% вернет ошибку то можно ставить этот тип\nfunction throwError(message: string): never {\n throw new Error(message)\n}\n// 2. Когда функция работает постоянно\nfunction infinite(): never {\n    while (true){\n\n    }\n}\n\n// Type (создание своих типов, на основе существующих)\n// Пример создания типа на основе одного стандартного типа\ntype Login = string\nconst login: Login = 'admin'\n// Пример создания типа на основе нескольких стандартных типов\ntype  ID = string | number\nconst id1: ID = 12345\nconst id2: ID = 'fewf'\n\n// null & undefined\nconst constNull: null = null;\n// Зачастую их используют для создания пользовательских типов\ntype SomeType = string | null | undefined\n\n// О а оказывается можно еще и так задавать типы\ntype AlertType = 'success' | 'danger' | 'warning'\n\nfunction setAlertType(type: AlertType) {\n    //...\n}\n\nsetAlertType('success')\nsetAlertType('warning')\n// setAlertType('chto_to') = не примет\n\n\n```",
      "message": "",
      "created": "2021-07-10T10:07:37.435Z",
      "creators": [
        {
          "id": "b0568c88-bb34-4420-969e-41238089a0d4",
          "uniqueName": "google#113467622262670857280",
          "displayName": "Alexander Matviienko",
          "createdAt": "2021-05-10T19:50:11.968Z",
          "updatedAt": "2021-05-10T19:50:31.732Z"
        }
      ]
    }
  },
  {
    "id": "a74d2640-26b8-42e7-974c-575468fb35f9",
    "emoji": null,
    "title": "Типизация пропсов",
    "content": "",
    "headId": 807712,
    "archivedAt": null,
    "folderPathname": "/React/TS/React + TS",
    "parentFolderId": "d3754cde-3f5d-4aa2-88c1-8a36ae226d1f",
    "teamId": "nhFMY3a5g",
    "generated": false,
    "createdAt": "2021-07-09T13:16:39.429Z",
    "updatedAt": "2021-07-10T10:44:41.476Z",
    "version": 9,
    "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
    "workspaceId": "4ae225f9-123d-4918-a49f-e0c91bd0b18a",
    "head": {
      "id": 807712,
      "docId": "a74d2640-26b8-42e7-974c-575468fb35f9",
      "content": "# Типизация пропсов\n\nСверху задаем делаем объект с задачей типизацией пропсам, далее указываем этот объект в аргументах.\n\nВажное замечание, если мы хотим в компонент прокидываеть еще компоненты, это так же надо указать в пропсах как в примере.\n\nПример:\n\n``` js\n// Желательно прокидывать FC\nimport React, {FC, useState} from 'react';\n// С помощью этого можно задать какие либо режимы или состояния\nexport enum CardVariant {\n    outlined = 'outlined',\n    primary ='primary'\n}\n// Задаем типизацию пропсам\ninterface CardProps {\n    // Знак \"?\" делает параметр не обязательным для передачи\n    width?: string;\n    height?: string;\n  // Передача режимов\n    variant: CardVariant\n    // А так задаются чилдрены компонента\n    children?: React.ReactChildren | React.ReactNode;\n    // Пример передачи функции,\n    // Прописываем тип аргумента если он таковой принимает\n    // если функция ничего не возвращает то\n    // прописываем \"void\" иначе \"string, number, bool ...\"\n    onClick: (num: number) => void;\n}\n\n// Указываем тип компонента и прокидываем ему тип пропсов\n// Указываем типизацию пропсам, да и этот children надо еще и пробросить чилдрен\nconst Card: FC<CardProps> =\n    ({\n         width,\n         height,\n         variant,\n        onClick,\n         children\n     }) => {\n    const [state, setState] = useState(0)\n\n        return (\n            <div style={{width, height,\n          //Использование режимов\n                border: variant === CardVariant.outlined ? '1px solid gray' : 'none',\n                background: variant === CardVariant.primary ? 'lightgray' : ''\n            }}\n                 // Так передаем функцию\n                 onClick={() => onClick(state)}\n\n            >\n                {children}\n            </div>\n        );\n    };\n\nexport default Card;\n```",
      "message": "",
      "created": "2021-07-09T13:55:59.551Z",
      "creators": [
        {
          "id": "b0568c88-bb34-4420-969e-41238089a0d4",
          "uniqueName": "google#113467622262670857280",
          "displayName": "Alexander Matviienko",
          "createdAt": "2021-05-10T19:50:11.968Z",
          "updatedAt": "2021-05-10T19:50:31.732Z"
        }
      ]
    }
  },
  {
    "id": "2d35276d-1b2a-49c7-964d-56c79a7bb703",
    "emoji": null,
    "title": "Back-end",
    "content": "",
    "headId": 807276,
    "archivedAt": null,
    "folderPathname": "/Шаблонизация решений",
    "parentFolderId": "bf41ccc2-7e3f-48bf-97fe-8ce80f11c50f",
    "teamId": "nhFMY3a5g",
    "generated": false,
    "createdAt": "2021-07-09T12:58:32.698Z",
    "updatedAt": "2021-07-09T12:59:22.474Z",
    "version": 2,
    "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
    "workspaceId": "4ae225f9-123d-4918-a49f-e0c91bd0b18a",
    "head": {
      "id": 807276,
      "docId": "2d35276d-1b2a-49c7-964d-56c79a7bb703",
      "content": "# Back-end\n1. установленные и проинициализированные node и fastify ",
      "message": "",
      "created": "2021-07-09T12:59:22.465Z",
      "creators": [
        {
          "id": "b0568c88-bb34-4420-969e-41238089a0d4",
          "uniqueName": "google#113467622262670857280",
          "displayName": "Alexander Matviienko",
          "createdAt": "2021-05-10T19:50:11.968Z",
          "updatedAt": "2021-05-10T19:50:31.732Z"
        }
      ]
    }
  },
  {
    "id": "fc918b8d-7af5-4d47-9e64-1bb63c204e1e",
    "emoji": null,
    "title": "Front-end",
    "content": "",
    "headId": 808120,
    "archivedAt": null,
    "folderPathname": "/Шаблонизация решений",
    "parentFolderId": "bf41ccc2-7e3f-48bf-97fe-8ce80f11c50f",
    "teamId": "nhFMY3a5g",
    "generated": false,
    "createdAt": "2021-07-09T12:56:56.300Z",
    "updatedAt": "2021-07-09T14:55:27.346Z",
    "version": 4,
    "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
    "workspaceId": "4ae225f9-123d-4918-a49f-e0c91bd0b18a",
    "head": {
      "id": 808120,
      "docId": "fc918b8d-7af5-4d47-9e64-1bb63c204e1e",
      "content": "Front-end\n\n1. Должен качатся чистый REact c уже удаленными ненужными файлами \n2. Уже с установленные Redux и Router и подключенные\n3. Так же класическая система компонентов для повсеместонго использования к примеру модалки, авторизацию и шаблоный роут",
      "message": "",
      "created": "2021-07-09T14:55:27.326Z",
      "creators": [
        {
          "id": "b0568c88-bb34-4420-969e-41238089a0d4",
          "uniqueName": "google#113467622262670857280",
          "displayName": "Alexander Matviienko",
          "createdAt": "2021-05-10T19:50:11.968Z",
          "updatedAt": "2021-05-10T19:50:31.732Z"
        }
      ]
    }
  },
  {
    "id": "83a73d10-4db3-4212-83b7-06ecaa113465",
    "emoji": null,
    "title": "CRUD",
    "content": "",
    "headId": 806898,
    "archivedAt": null,
    "folderPathname": "/PostgresSQL",
    "parentFolderId": "79b7473e-f0c5-4080-8b65-efbb523db130",
    "teamId": "nhFMY3a5g",
    "generated": false,
    "createdAt": "2021-07-09T10:58:37.878Z",
    "updatedAt": "2021-07-19T08:19:57.904Z",
    "version": 7,
    "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
    "workspaceId": "a26b69f4-c521-4719-9766-2da1c713b767",
    "head": {
      "id": 806898,
      "docId": "83a73d10-4db3-4212-83b7-06ecaa113465",
      "content": " # CRUD \n 1. Сделать запись\n``` js\nconst device = await Device.create({name, price, brandId, typeId, img: fileName})\n// или так \n DeviceInfo.create({\n                    title: i.title,\n                    description: i.description,\n                    deviceId: device.id\n                })\n```\n\n2. Пример постраничниго вывода\n\n``` js\n  async getAll(req, res) {\n        let {brandId, typeId, limit, page} = req.query\n        page = page || 1\n        limit = limit || 9\n        let offset = page * limit - limit\n        let devices;\n        if(!brandId && !typeId){\n            devices = await Device.findAndCountAll({limit, offset})\n        }\n        if (brandId && !typeId){\n            devices = await Device.findAndCountAll({where: {brandId}, limit, offset})\n        }\n        if (!brandId && typeId){\n            devices = await Device.findAndCountAll({where: {typeId}, limit, offset})\n        }\n        if (brandId && typeId){\n            devices = await Device.findAndCountAll({where: {brandId, typeId}, limit, offset})\n        }\n        return res.json(devices)\n    }\n\n```\n\n3. Пример одиночного вывода\n\n``` js\n    async getOne(req, res) {\n        const {id} = req.params\n        const device = await Device.findOne(\n            {\n                where: {id},\n              // Включение записей с связанной таблицы\n                include: [{model: DeviceInfo, as: 'info'}]\n            }\n        )\n        return res.json(device)\n    }\n```\n\n4. Пример вывода всего \n\n``` js\n    async getAll(req, res) {\n        // findAll - получение всех записей в таблице\n        const brands = await Brand.findAll()\n        return res.json(brands)\n    }\n```",
      "message": "",
      "created": "2021-07-09T11:34:16.128Z",
      "creators": [
        {
          "id": "b0568c88-bb34-4420-969e-41238089a0d4",
          "uniqueName": "google#113467622262670857280",
          "displayName": "Alexander Matviienko",
          "createdAt": "2021-05-10T19:50:11.968Z",
          "updatedAt": "2021-05-10T19:50:31.732Z"
        }
      ]
    }
  },
  {
    "id": "3a66659e-f170-41d3-889d-ed1ecb26a17b",
    "emoji": null,
    "title": "Получение файлов и их размещение",
    "content": "",
    "headId": 806404,
    "archivedAt": null,
    "folderPathname": "/Node.js/Алгоритмы полезных решений",
    "parentFolderId": "b977d91a-f699-49c7-a1e3-3f21a1c46592",
    "teamId": "nhFMY3a5g",
    "generated": false,
    "createdAt": "2021-07-09T09:39:57.751Z",
    "updatedAt": "2021-07-19T08:19:33.980Z",
    "version": 4,
    "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
    "workspaceId": "a26b69f4-c521-4719-9766-2da1c713b767",
    "head": {
      "id": 806404,
      "docId": "3a66659e-f170-41d3-889d-ed1ecb26a17b",
      "content": "# Получение файлов и их размещение \n0. Устанавливаем и регистриуем плагин для работы с файлами\n```npm i express-fileupload```\n\nРегистрация в index.js\n``` js\n// Импортируепм плагин для загрузки файлов\nconst fileUpload = require('express-fileupload')\n\n// Регистрируем плагин для загрузки файлов\napp.use(fileUpload({}))\n```\n1. В БД записываем имя файла\n2. Вытягиваем файл из запроса \n\nПример:\n``` js\nconst {img} = req.files\n```\n3. Генерируем имя файла, но для этого нам понадопится специальный плагин устанавливаем его ```npm i uuid ``` \n4. Подключаем в контролер \n\n``` js\nconst uuid = require('uuid')\n```\n5. И генерируем имя \n\nПример:\n``` js\nconst fileName = uuid.v4() + \".jpg\"\n```\n\n6. Создаем папку для сохранения файла (если еще не создали) и сохраняем файл в папке\n(только для создания универсального пути нам понадобится модуль __path__ который необходимпо подключить в начале файла\n\n``` js\nconst path = require('path')\n```\nПример:\n``` js\nimg.mv(path.resolve(__dirname, '..', 'static', fileName))\n```\n",
      "message": "",
      "created": "2021-07-09T09:50:29.927Z",
      "creators": [
        {
          "id": "b0568c88-bb34-4420-969e-41238089a0d4",
          "uniqueName": "google#113467622262670857280",
          "displayName": "Alexander Matviienko",
          "createdAt": "2021-05-10T19:50:11.968Z",
          "updatedAt": "2021-05-10T19:50:31.732Z"
        }
      ]
    }
  },
  {
    "id": "a34617b0-0138-4344-857c-f9f884eefa15",
    "emoji": null,
    "title": "Список будущиз заготовок",
    "content": "",
    "headId": 812545,
    "archivedAt": null,
    "folderPathname": "/Шаблонизация решений",
    "parentFolderId": "bf41ccc2-7e3f-48bf-97fe-8ce80f11c50f",
    "teamId": "nhFMY3a5g",
    "generated": false,
    "createdAt": "2021-07-09T09:10:47.628Z",
    "updatedAt": "2021-07-10T11:14:08.776Z",
    "version": 4,
    "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
    "workspaceId": "4ae225f9-123d-4918-a49f-e0c91bd0b18a",
    "head": {
      "id": 812545,
      "docId": "a34617b0-0138-4344-857c-f9f884eefa15",
      "content": "# Список шаблонов\n### Здесь я буду размещать список готовых решений которые я бы хотел разместить в будущем шаблоне.\n\n1. Класс отлова ошибок \n2. Еще не плохо засунть туда некоторые фичи из сборки фрилансера\n3. Придумать снипеты по созданию базовых компонентов",
      "message": "",
      "created": "2021-07-10T11:14:08.768Z",
      "creators": [
        {
          "id": "b0568c88-bb34-4420-969e-41238089a0d4",
          "uniqueName": "google#113467622262670857280",
          "displayName": "Alexander Matviienko",
          "createdAt": "2021-05-10T19:50:11.968Z",
          "updatedAt": "2021-05-10T19:50:31.732Z"
        }
      ]
    }
  },
  {
    "id": "b70cbc17-0585-499a-839d-8c47cbcab902",
    "emoji": null,
    "title": "Работа в Node",
    "content": "",
    "headId": 806139,
    "archivedAt": null,
    "folderPathname": "/PostgresSQL",
    "parentFolderId": "79b7473e-f0c5-4080-8b65-efbb523db130",
    "teamId": "nhFMY3a5g",
    "generated": false,
    "createdAt": "2021-07-09T06:52:17.669Z",
    "updatedAt": "2021-07-19T08:19:57.904Z",
    "version": 7,
    "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
    "workspaceId": "a26b69f4-c521-4719-9766-2da1c713b767",
    "head": {
      "id": 806139,
      "docId": "b70cbc17-0585-499a-839d-8c47cbcab902",
      "content": "# Работа в Node\n\n## Список плагинов\n1. __pg__ - нужен для работы БД c JS\n2. __pg-hstore__ - Модуль для сериализации и десериализации данных JSON в формат hstore\n3. __sequelize__ - Здоров ооблегчает работу при работе с БД с node. Тут и соединение, и модели, и связи.\n4. __dotenv__ - Для работы с env\n\n## Создание моделей и связей\nПроще всего будет разбор на примере\n``` js\n// импортируем инициализированную БД\nconst sequelize = require('../db.js')\n// импортируем инструмент для описания типа полей\nconst {DataTypes} = require('sequelize')\n// Пример создания модели, метод define принимает в себя 1. название таблицы, 2. объект с полями\nconst User = sequelize.define('user', {\n    // Создание id: 1. Тип, 2. Объявление первичным ключом, 3. Разрешаем послекдовательное автозаполнение\n    id: {type: DataTypes.INTEGER, primaryKey: true, autoIncrement: true},\n    // Создание почты: 1. Тип, 2. Всегда должен быть уникалльным\n    email: {type: DataTypes.STRING, unique: true},\n    password: {type: DataTypes.STRING},\n    // Поле роли пользователя: 1. тип, 2. Задача значения по умолчанию\n    role: {type: DataTypes.STRING, defaultValue: \"USER\"}\n})\n\nconst Device = sequelize.define('device', {\n    id: {type: DataTypes.INTEGER, primaryKey: true, autoIncrement: true},\n    // allowNull: false - указывает что поле не может быть пустым\n    name: {type: DataTypes.STRING, unique: true, allowNull: false},\n    price: {type: DataTypes.INTEGER, allowNull: false},\n    rating: {type: DataTypes.INTEGER, defaultValue: 0},\n    img: {type: DataTypes.STRING, allowNull: false},\n})\n\n// Промежуточная таблица для связи многие ко многим\nconst TypeBrand = sequelize.define('type_brand', {\n    id: {type: DataTypes.INTEGER, primaryKey: true, autoIncrement: true}\n})\n\n// Описание связей\n// Внешние ключи нода создает самостоятельно\n// Указываем связь\n// Пример связи многие к одному\nDevice.hasMany(DeviceInfo)\n// И обязательно указываем принадлежность\nDeviceInfo.belongsTo(Device)\n// Пример связи один к одному\nUser.hasOne(Basket)\nBasket.belongsTo(User)\n\n// Пример связи многие ко многим, в through указываем промежуточную таблицу\nType.belongsToMany(Brand, {through: TypeBrand})\nBrand.belongsToMany(Type, {through: TypeBrand})\n\n// Экспортируем все модели\nmodule.exports = {\n    User,\n    Basket,\n    BasketDevice,\n    Device,\n    Type,\n    Brand,\n    Rating,\n    DeviceInfo,\n    TypeBrand\n}\n```\n\n## Подключение к БД\n1. Создаем в корне .env если еще нету и заполняем данными\n```\nDB_NAME=online_store\nDB_USER=postgres\nDB_PASSWORD=postgres\nDB_HOST=localhost\nDB_PORT=5432\n```\n\n2. Так же создаем db.js и пробрасываем в него енвы следующим образом\n\n``` js\n// Подключаем ORM\nconst {Sequelize} = require('sequelize')\n// Экспортируем ORM\nmodule.exports = new Sequelize(\n    process.env.DB_NAME, // Название БД\n    process.env.DB_USER,  // Пользователь\n    process.env.DB_PASSWORD, // Пароль\n    {\n        dialect: 'postgres',\n        host: process.env.DB_HOST, // Хост БД\n        port: process.env.DB_PORT // И ее порт\n    }\n)\n```\n\n3. В index.js\n    1. Экспортируем sequelize ```const sequelize = require('./db') ```\n    2. Экспортируем файл с моделями ```const models = require('./models/models')```\n    3. Реализуем подключение в функции запуска сервера следующим образом:\n     ```js\n    const start = async () => {\n    try{\n        // Авторизируемся в БД\n        await sequelize.authenticate()\n        // Эта функция проверяет состояние БД со схемой БД\n        await sequelize.sync()\n        app.listen(PORT, () => console.log('Server start on port ' + PORT))\n    }catch (e){\n        console.log(e)\n    }\n    }\n     ```",
      "message": "",
      "created": "2021-07-09T09:05:53.254Z",
      "creators": [
        {
          "id": "b0568c88-bb34-4420-969e-41238089a0d4",
          "uniqueName": "google#113467622262670857280",
          "displayName": "Alexander Matviienko",
          "createdAt": "2021-05-10T19:50:11.968Z",
          "updatedAt": "2021-05-10T19:50:31.732Z"
        }
      ]
    }
  },
  {
    "id": "d4013a1c-0b55-4506-b245-dcdac2dd0c3a",
    "emoji": null,
    "title": "Ubuntu start",
    "content": "",
    "headId": 800095,
    "archivedAt": null,
    "folderPathname": "/PostgresSQL",
    "parentFolderId": "79b7473e-f0c5-4080-8b65-efbb523db130",
    "teamId": "nhFMY3a5g",
    "generated": false,
    "createdAt": "2021-07-08T14:28:44.231Z",
    "updatedAt": "2021-07-19T08:19:57.904Z",
    "version": 14,
    "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
    "workspaceId": "a26b69f4-c521-4719-9766-2da1c713b767",
    "head": {
      "id": 800095,
      "docId": "d4013a1c-0b55-4506-b245-dcdac2dd0c3a",
      "content": "# Ubuntu start\n1. Установка\n\n``` \nsudo apt install postgresql postgresql-contrib\n```\n2. Что бы войти в учетную запись суперпользователя и открыть консоль постгресса\n\n```\nsudo -i -u postgres\npsql\n```\n\n3. Список базовых команд\n      1. ```\\l``` - список БД\n      2. ```\\q``` - выйти из консоли postgress \n      3. ```createdb name_bd``` - создание БД\n      4. ```dropdb name_bd``` - удалить БД\n      5. ```\\du``` - список пользователей\n      6. ```CREATE USER username WITH PASSWORD 'password';``` - создать пользователя\n      7. ```ALTER USER username WITH SUPERUSER;``` - присвоение суперправ обычному пользоавателю\n      8. ```DROP USER username``` - удалить пользователя\n      9. ```man psql``` - справка по командам",
      "message": "",
      "created": "2021-07-08T14:54:20.393Z",
      "creators": [
        {
          "id": "b0568c88-bb34-4420-969e-41238089a0d4",
          "uniqueName": "google#113467622262670857280",
          "displayName": "Alexander Matviienko",
          "createdAt": "2021-05-10T19:50:11.968Z",
          "updatedAt": "2021-05-10T19:50:31.732Z"
        }
      ]
    }
  },
  {
    "id": "32fd8ebd-b259-402f-bfbb-d1f945bd5fe1",
    "emoji": null,
    "title": "CRUD",
    "content": "",
    "headId": 797702,
    "archivedAt": null,
    "folderPathname": "/MongoDB",
    "parentFolderId": "509409fc-0cb8-4aa4-9c3e-868b053fc28d",
    "teamId": "nhFMY3a5g",
    "generated": false,
    "createdAt": "2021-07-08T10:39:12.864Z",
    "updatedAt": "2021-10-10T15:56:06.285Z",
    "version": 5,
    "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
    "workspaceId": "4ae225f9-123d-4918-a49f-e0c91bd0b18a",
    "head": {
      "id": 797702,
      "docId": "32fd8ebd-b259-402f-bfbb-d1f945bd5fe1",
      "content": "# CRUD\n\nФункции для чтения, добавления, записи и удаления.\n\n``` js\n// Создание записи\nconst createdPost = await Post.create({...post, picture: fileName})\n// Находит все записи\nconst posts = await Post.find()\n// Находит по id\nconst post = await Post.findById(id)\n// Находит по id и меняет\nconst updatedPost = await Post.findByIdAndUpdate(post._id, post, {new: true})\n// Находит по id и удаляет\nconst post = await Post.findByIdAndDelete(id)\n```",
      "message": "",
      "created": "2021-07-08T10:43:37.827Z",
      "creators": [
        {
          "id": "b0568c88-bb34-4420-969e-41238089a0d4",
          "uniqueName": "google#113467622262670857280",
          "displayName": "Alexander Matviienko",
          "createdAt": "2021-05-10T19:50:11.968Z",
          "updatedAt": "2021-05-10T19:50:31.732Z"
        }
      ]
    }
  },
  {
    "id": "692ce532-c9fc-4ed2-a51c-8dd0d3f5c32d",
    "emoji": null,
    "title": "Создание модели",
    "content": "",
    "headId": 797624,
    "archivedAt": null,
    "folderPathname": "/MongoDB",
    "parentFolderId": "509409fc-0cb8-4aa4-9c3e-868b053fc28d",
    "teamId": "nhFMY3a5g",
    "generated": false,
    "createdAt": "2021-07-08T10:38:28.543Z",
    "updatedAt": "2021-10-10T15:56:06.285Z",
    "version": 4,
    "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
    "workspaceId": "4ae225f9-123d-4918-a49f-e0c91bd0b18a",
    "head": {
      "id": 797624,
      "docId": "692ce532-c9fc-4ed2-a51c-8dd0d3f5c32d",
      "content": "# Создание модели\n\n``` js\nimport mongoose from 'mongoose'\n// Создаем  схему которая будет описывать, какие поля и какого типа будет у таблицы\nconst Post = new mongoose.Schema({\n    // Поле указывает путем задачи имени в значении и в свойстве разворачиваем объект где указывываем тип и\n    // обязательность в заполнении\n    author: {type: String, required: true},\n    title: {type: String, required: true},\n    content: {type: String, required: true},\n    // Будем хранить имя картинки и по нему уже искать его\n    picture: {type: String}\n})\n\n// Экспортируем модель\nexport default mongoose.model('Post', Post)\n```",
      "message": "",
      "created": "2021-07-08T10:39:15.213Z",
      "creators": [
        {
          "id": "b0568c88-bb34-4420-969e-41238089a0d4",
          "uniqueName": "google#113467622262670857280",
          "displayName": "Alexander Matviienko",
          "createdAt": "2021-05-10T19:50:11.968Z",
          "updatedAt": "2021-05-10T19:50:31.732Z"
        }
      ]
    }
  },
  {
    "id": "ad5e7c46-441e-4215-9ec7-c8a81336495a",
    "emoji": null,
    "title": "Модели",
    "content": "",
    "headId": 797533,
    "archivedAt": null,
    "folderPathname": "/Node.js",
    "parentFolderId": "4a46bcc3-547b-4295-af7e-321b076c965e",
    "teamId": "nhFMY3a5g",
    "generated": false,
    "createdAt": "2021-07-08T10:15:56.752Z",
    "updatedAt": "2021-07-19T08:19:33.980Z",
    "version": 4,
    "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
    "workspaceId": "a26b69f4-c521-4719-9766-2da1c713b767",
    "head": {
      "id": 797533,
      "docId": "ad5e7c46-441e-4215-9ec7-c8a81336495a",
      "content": "# Модели\n\nНужны для инициализации БД. Обращение к ним происходи в сервисах.\n\n\n# Пример модели MongoDB\n``` js\nimport mongoose from 'mongoose'\n\n// Создаем  схему которая будет описывать, какие поля и какого типа будет у таблицы\nconst Post = new mongoose.Schema({\n    // Поле указывает путем задачи имени в значении и в свойстве разворачиваем объект где указывываем тип и\n    // обязательность в заполнении\n    author: {type: String, required: true},\n    title: {type: String, required: true},\n    content: {type: String, required: true},\n    // Будем хранить имя картинки и по нему уже искать его\n    picture: {type: String}\n})\n\n// Экспортируем модель\nexport default mongoose.model('Post', Post)\n```",
      "message": "",
      "created": "2021-07-08T10:18:10.773Z",
      "creators": [
        {
          "id": "b0568c88-bb34-4420-969e-41238089a0d4",
          "uniqueName": "google#113467622262670857280",
          "displayName": "Alexander Matviienko",
          "createdAt": "2021-05-10T19:50:11.968Z",
          "updatedAt": "2021-05-10T19:50:31.732Z"
        }
      ]
    }
  },
  {
    "id": "945f771e-dd9b-4a11-af3e-e457d4a162d2",
    "emoji": null,
    "title": "Сервисы",
    "content": "",
    "headId": 797522,
    "archivedAt": null,
    "folderPathname": "/Node.js",
    "parentFolderId": "4a46bcc3-547b-4295-af7e-321b076c965e",
    "teamId": "nhFMY3a5g",
    "generated": false,
    "createdAt": "2021-07-08T10:05:35.703Z",
    "updatedAt": "2021-07-19T08:19:33.980Z",
    "version": 4,
    "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
    "workspaceId": "a26b69f4-c521-4719-9766-2da1c713b767",
    "head": {
      "id": 797522,
      "docId": "945f771e-dd9b-4a11-af3e-e457d4a162d2",
      "content": "# Сервисы\n\nСодержат логику не касающиюся непосредственно запросов и ответов. То есть это может быть работа с БД или какая нибудь инная работа с БД. Вызывается в контролерах путем обращения к сервису и нужному методу.\n\n## Пример\n\n``` js\n// Сервисах ме реализуем чисто логику работы с данными не касаясь запросов и ответо\nimport Post from \"./Post.js\";\nimport fileService from \"./fileService.js\";\n\nclass PostService {\n    // Создаем функцию для создания постов, но это может быть любая другая функция обрабатывающая запрос ответ\n    async create(post, picture) {\n        //Сохраняем файл\n        const fileName = fileService.saveFile(picture)\n            // Тут мы их передаем в модель, все операции с базой данной асинхронные, поэтому await обязателен\n        // и на ходу добавляем имя файла к посту в БД\n        const createdPost = await Post.create({...post, picture: fileName})\n            return  createdPost\n    }\n\n    async getAll() {\n        // Находим и отдаем посту\n            const posts = await Post.find()\n            return posts\n    }\n\n    async getOne(id) {\n            // Делаем проверку, передан ли id в запросе\n            if (!id){\n                throw new Error('не указан ID')\n            }\n            // Вызываем функцию поиска по id\n            const post = await Post.findById(id)\n            // И возвращаем пост в ответе\n            return post\n    }\n\n    async update(post) {\n            // Проверяем пост на id, который нам нужен что бы найти старую версию поста в БД\n            if (!post._id){\n                // Возвращаем клиенту ответ  сообщение с указанием причины ошибки\n                    throw new Error('не указан ID')\n            }\n            // Тут используем функцию для поиска и изменния, в которую передаем id что бы найти пост в БД,\n            // далее передаем новую версию поста и 3-им аргументом подтиверждаем что мы хотим изменить запись в БД\n            const updatedPost = await Post.findByIdAndUpdate(post._id, post, {new: true})\n            // Ивозвращаем обновленную версию обратно\n            return updatedPost\n    }\n\n    async delete(id) {\n            // Делаем проверку, передан ли id в запросе\n            if (!id){\n                // Возвращаем клиенту ответ с статусом (ошибка из-за синтаксиса запроса) а так же\n                // сообщение с указанием причины ошибки\n                throw new Error('не указан ID')\n            }\n            // Вызываем у модели функцию для поиска записи в БД по id и удаления\n            const post = await Post.findByIdAndDelete(id)\n            return post\n    }\n}\n\nexport default new PostService()\n```\n\n",
      "message": "",
      "created": "2021-07-08T10:14:58.564Z",
      "creators": [
        {
          "id": "b0568c88-bb34-4420-969e-41238089a0d4",
          "uniqueName": "google#113467622262670857280",
          "displayName": "Alexander Matviienko",
          "createdAt": "2021-05-10T19:50:11.968Z",
          "updatedAt": "2021-05-10T19:50:31.732Z"
        }
      ]
    }
  },
  {
    "id": "e2e1305c-8259-4eb7-8d6f-8629f8a278ac",
    "emoji": null,
    "title": "Контролеры",
    "content": "",
    "headId": 797524,
    "archivedAt": null,
    "folderPathname": "/Node.js",
    "parentFolderId": "4a46bcc3-547b-4295-af7e-321b076c965e",
    "teamId": "nhFMY3a5g",
    "generated": false,
    "createdAt": "2021-07-08T10:00:04.080Z",
    "updatedAt": "2021-07-19T08:19:33.980Z",
    "version": 4,
    "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
    "workspaceId": "a26b69f4-c521-4719-9766-2da1c713b767",
    "head": {
      "id": 797524,
      "docId": "e2e1305c-8259-4eb7-8d6f-8629f8a278ac",
      "content": "# Контролеры\n\nНужны для обработки запросов.  Самое проще будет разобрать на примере. Вызываются в роутах путем обращения к контролеру и нужному методу.\n\n``` js\n// Создаем контроллер\n// Импортируем сервис\nimport PostService from \"./PostService.js\";\n\nclass PostController {\n    // Создаем функцию для создания постов, но это может быть любая другая функция обрабатывающая запрос ответ\n    async create(req, res) {\n        // Все запросы желательно оборачивать в try catch для отлавливания ошибок\n        console.log(req.body, req.files)\n        try {\n            console.log(req.body, req.files.picture)\n            // Тут мы их передаем в service данные которые он уже будет обрабатывать\n            const post = await PostService.create(req.body, req.files.picture)\n            //Ответ отправляем json\n            res.json(post)\n        } catch (e) {\n            res.status(500).json(e)\n        }\n    }\n\n    async getAll(req, res) {\n        try {\n            // Если функции find не передавать аргумента то он возвращает все записи\n            const posts = await PostService.getAll()\n            // Таким образом мы отдаем результат клиенту\n            return res.json(posts)\n        } catch (e) {\n            res.status(500).json(e)\n        }\n    }\n\n    async getOne(req, res) {\n        try {\n            // Вызываем функцию сервиса и пердаем её id поста который надо получить\n            const post = await PostService.getOne(req.params.id)\n            // И возвращаем пост в ответе\n            return res.json(post)\n        } catch (e) {\n            // Тут мы возвращаем сообщение из ошибки\n            res.status(500).json(e.message)\n        }\n    }\n\n    async update(req, res) {\n        try {\n            // Тут используем функцию для поиска и изменния, в которую передаем id что бы найти пост в БД,\n            // далее передаем новую версию поста и 3-им аргументом подтиверждаем что мы хотим изменить запись в БД\n            const updatedPost = await PostService.update(req.body)\n            // Ивозвращаем обновленную версию обратно\n            return res.json(updatedPost)\n        } catch (e) {\n            // Тут мы возвращаем сообщение из ошибки\n            res.status(500).json(e.message)\n        }\n    }\n\n    async delete(req, res) {\n        try {\n            // Вызываем у модели функцию для поиска записи в БД по id и удаления\n            const post = await PostService.delete(req.params.id)\n            return res.json(post)\n        } catch (e) {\n            // Тут мы возвращаем сообщение из ошибки\n            res.status(500).json(e.message)\n        }\n    }\n}\n\n// Незабываем экспортировать это дело\nexport default new PostController()\n```\n\nПо сути контролер состоит из:\n1. Объявление класса\n2. Создания функций принимающих запрос и отдающих ответ клиенту\n3. Конструкция try catch для отлова ошибок. \n4. В catch возврат ошибки 500 с телом ошибки в json\n5. Тело функции, как правило это обращение к сервисам\n6. Ответ как правило тоже в json формате. \n",
      "message": "",
      "created": "2021-07-08T10:15:46.970Z",
      "creators": [
        {
          "id": "b0568c88-bb34-4420-969e-41238089a0d4",
          "uniqueName": "google#113467622262670857280",
          "displayName": "Alexander Matviienko",
          "createdAt": "2021-05-10T19:50:11.968Z",
          "updatedAt": "2021-05-10T19:50:31.732Z"
        }
      ]
    }
  },
  {
    "id": "0a3d7776-d27a-40a4-ad7b-1d0661c7e921",
    "emoji": null,
    "title": "useLocalStorage",
    "content": "",
    "headId": 789535,
    "archivedAt": null,
    "folderPathname": "/React/Каталог Пользовательских Хуков",
    "parentFolderId": "095537d7-d1a5-44ef-92db-303bd995d871",
    "teamId": "nhFMY3a5g",
    "generated": false,
    "createdAt": "2021-07-07T13:22:00.179Z",
    "updatedAt": "2021-07-07T13:29:19.191Z",
    "version": 5,
    "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
    "workspaceId": "4ae225f9-123d-4918-a49f-e0c91bd0b18a",
    "head": {
      "id": 789535,
      "docId": "0a3d7776-d27a-40a4-ad7b-1d0661c7e921",
      "content": "# useLocalStorage\n\nСостояние синхронизации с локальным хранилищем, чтобы оно сохранялось при обновлении страницы. Использование аналогично useState, за исключением того, что мы передаем ключ локального хранилища, чтобы мы могли по умолчанию использовать это значение при загрузке страницы вместо указанного начального значения.\n\n## Создание\n\n``` js\nfunction useLocalStorage(key, initialValue) {\n  // State to store our value\n  // Pass initial state function to useState so logic is only executed once\n  const [storedValue, setStoredValue] = useState(() => {\n    try {\n      // Get from local storage by key\n      const item = window.localStorage.getItem(key);\n      // Parse stored json or if none return initialValue\n      return item ? JSON.parse(item) : initialValue;\n    } catch (error) {\n      // If error also return initialValue\n      console.log(error);\n      return initialValue;\n    }\n  });\n  // Return a wrapped version of useState's setter function that ...\n  // ... persists the new value to localStorage.\n  const setValue = (value) => {\n    try {\n      // Allow value to be a function so we have same API as useState\n      const valueToStore =\n        value instanceof Function ? value(storedValue) : value;\n      // Save state\n      setStoredValue(valueToStore);\n      // Save to local storage\n      window.localStorage.setItem(key, JSON.stringify(valueToStore));\n    } catch (error) {\n      // A more advanced implementation would handle the error case\n      console.log(error);\n    }\n  };\n  return [storedValue, setValue];\n}\n```\n\n## Примение\n\n``` js\nfunction App() {\n  // Подобно useState, но первый аргумент является ключом к значению в локальном хранилище.\n  const [name, setName] = useLocalStorage(\"name\", \"Bob\");\n  return (\n    <div>\n      <input\n        type=\"text\"\n        placeholder=\"Enter your name\"\n        value={name}\n        onChange={(e) => setName(e.target.value)}\n      />\n    </div>\n  );\n}\n```\n\n## Вывод\nЭтот хук действительно похож на useState только для вытягивания и изменний состояний LocalStorage",
      "message": "",
      "created": "2021-07-07T13:29:19.155Z",
      "creators": [
        {
          "id": "b0568c88-bb34-4420-969e-41238089a0d4",
          "uniqueName": "google#113467622262670857280",
          "displayName": "Alexander Matviienko",
          "createdAt": "2021-05-10T19:50:11.968Z",
          "updatedAt": "2021-05-10T19:50:31.732Z"
        }
      ]
    }
  },
  {
    "id": "06cd2e09-825e-4498-b387-5f52d9a61423",
    "emoji": null,
    "title": "useHover",
    "content": "",
    "headId": 789518,
    "archivedAt": null,
    "folderPathname": "/React/Каталог Пользовательских Хуков",
    "parentFolderId": "095537d7-d1a5-44ef-92db-303bd995d871",
    "teamId": "nhFMY3a5g",
    "generated": false,
    "createdAt": "2021-07-07T11:00:21.102Z",
    "updatedAt": "2021-07-07T13:22:02.790Z",
    "version": 3,
    "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
    "workspaceId": "4ae225f9-123d-4918-a49f-e0c91bd0b18a",
    "head": {
      "id": 789518,
      "docId": "06cd2e09-825e-4498-b387-5f52d9a61423",
      "content": "# useHover\nОпределите, наводит ли мышь на элемент. Хук возвращает ссылку и логическое значение, указывающее, находится ли в данный момент элемент с этой ссылкой. Просто добавьте возвращенную ссылку к любому элементу, состояние наведения которого вы хотите отслеживать. Одна потенциальная ошибка этого метода : если у вас есть логика, которая изменяет hoverRefдобавляемый элемент, тогда ваши прослушиватели событий не обязательно будут применяться к новому элементу. Если вам нужна эта функция, используйте эту альтернативную версию, в которой используется обратный вызов ref.\n\n## Создание\n\n``` js\nfunction useHover() {\n  const [value, setValue] = useState(false);\n  const ref = useRef(null);\n  const handleMouseOver = () => setValue(true);\n  const handleMouseOut = () => setValue(false);\n  useEffect(\n    () => {\n      const node = ref.current;\n      if (node) {\n        node.addEventListener(\"mouseover\", handleMouseOver);\n        node.addEventListener(\"mouseout\", handleMouseOut);\n        return () => {\n          node.removeEventListener(\"mouseover\", handleMouseOver);\n          node.removeEventListener(\"mouseout\", handleMouseOut);\n        };\n      }\n    },\n    [ref.current] // Recall only if ref changes\n  );\n  return [ref, value];\n}\n```\n\n## Применение\n\n``` js\nfunction App() {\n  //Хук возвращает ссылку на элемент и статус (неведен / не наведен)\n  const [hoverRef, isHovered] = useHover();\n  return <div ref={hoverRef}>{isHovered ? \"😁\" : \"☹️\"}</div>;\n}\n```\n\n## Вывод\n\nДанный хук можно спокойно реализовывать в случае необходимсоти создания каких либо действий при наведении на элемент",
      "message": "",
      "created": "2021-07-07T13:22:02.755Z",
      "creators": [
        {
          "id": "b0568c88-bb34-4420-969e-41238089a0d4",
          "uniqueName": "google#113467622262670857280",
          "displayName": "Alexander Matviienko",
          "createdAt": "2021-05-10T19:50:11.968Z",
          "updatedAt": "2021-05-10T19:50:31.732Z"
        }
      ]
    }
  },
  {
    "id": "0711bbc6-cc78-4365-a473-cb74e082c526",
    "emoji": null,
    "title": "useWindowsSize",
    "content": "",
    "headId": 788774,
    "archivedAt": null,
    "folderPathname": "/React/Каталог Пользовательских Хуков",
    "parentFolderId": "095537d7-d1a5-44ef-92db-303bd995d871",
    "teamId": "nhFMY3a5g",
    "generated": false,
    "createdAt": "2021-07-07T10:54:56.587Z",
    "updatedAt": "2021-07-07T11:00:19.760Z",
    "version": 3,
    "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
    "workspaceId": "4ae225f9-123d-4918-a49f-e0c91bd0b18a",
    "head": {
      "id": 788774,
      "docId": "0711bbc6-cc78-4365-a473-cb74e082c526",
      "content": "# useWindowsSize\n\nОчень распространенная потребность - получить текущий размер окна браузера. Этот хук возвращает объект, содержащий ширину и высоту окна. Если выполняется на стороне сервера (без оконного объекта), значение ширины и высоты будет неопределенным.\n\n## Создание\n\n``` js\nfunction useWindowSize() {\n  // Инициализировать состояние в которое будем ложить ширину и высоту\n  const [windowSize, setWindowSize] = useState({\n    width: undefined,\n    height: undefined,\n  });\n  useEffect(() => {\n    // Функция которая получает размер окна\n    function handleResize() {\n      // SУстанавливаем размеры в состояние\n      setWindowSize({\n        width: window.innerWidth,\n        height: window.innerHeight,\n      });\n    }\n    // Слушатель изменния размеров окна\n    window.addEventListener(\"resize\", handleResize);\n    // вызов обработчика\n    handleResize();\n    // Удаление при размонтировании\n    return () => window.removeEventListener(\"resize\", handleResize);\n  }, []); \n  return windowSize;\n}\n```\n\n## Применение\n\n``` js\nfunction App() {\n  // Вызываем хук и ложим размеры в константув\n  const size = useWindowSize();\n  return (\n    <div>\n      {size.width}px / {size.height}px\n    </div>\n  );\n}\n```\n\n## Вывод\nВесьма полезный хук, возможно частое примение",
      "message": "",
      "created": "2021-07-07T11:00:19.749Z",
      "creators": [
        {
          "id": "b0568c88-bb34-4420-969e-41238089a0d4",
          "uniqueName": "google#113467622262670857280",
          "displayName": "Alexander Matviienko",
          "createdAt": "2021-05-10T19:50:11.968Z",
          "updatedAt": "2021-05-10T19:50:31.732Z"
        }
      ]
    }
  },
  {
    "id": "caf8eff4-8204-44c5-8bb4-92948d8d8d28",
    "emoji": null,
    "title": "useOnClickOutside",
    "content": "",
    "headId": 788656,
    "archivedAt": null,
    "folderPathname": "/React/Каталог Пользовательских Хуков",
    "parentFolderId": "095537d7-d1a5-44ef-92db-303bd995d871",
    "teamId": "nhFMY3a5g",
    "generated": false,
    "createdAt": "2021-07-07T10:39:36.461Z",
    "updatedAt": "2021-07-07T10:51:54.372Z",
    "version": 4,
    "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
    "workspaceId": "4ae225f9-123d-4918-a49f-e0c91bd0b18a",
    "head": {
      "id": 788656,
      "docId": "caf8eff4-8204-44c5-8bb4-92948d8d8d28",
      "content": "# useOnClickOutside\n\nЭтот хук позволяет обнаруживать клики за пределами указанного элемента. В приведенном ниже примере мы используем его для закрытия модального окна при щелчке любого элемента вне модального окна. Преобразуя эту логику в ловушку, мы можем легко использовать ее во всех наших компонентах, которые нуждаются в такой функциональности (раскрывающиеся меню, всплывающие подсказки и т. Д.).\n\n## Создание\n\n``` js\n// Хук принимает элемент, вне которого надо отслеживать действие и действие которое должно быть совершено при клике вне цели\nfunction useOnClickOutside(ref, handler) {\n  // При загрузке компонента...\n  useEffect(\n    () => {\n      //Создаем обработчик\n      const listener = (event) => {\n        //Если событие произошло вне цели и \n        if (!ref.current || ref.current.contains(event.target)) {\n          return; //закончи функцию\n        }// вызываем действие\n        handler(event);\n      };\n      \n      document.addEventListener(\"mousedown\", listener);\n      document.addEventListener(\"touchstart\", listener);\n      return () => {\n        document.removeEventListener(\"mousedown\", listener);\n        document.removeEventListener(\"touchstart\", listener);\n      };\n    },\n    // Добавьте ссылку и обработчик для выполнения зависимостей\n    // Стоит отметить, что, поскольку в обработчике передается новая функция при каждом рендеринге, которая заставляет этот эффект обратного вызова / очистки запускать каждый рендер. Это не имеет большого значения, но для оптимизации вы можете обернуть обработчик в useCallback, прежде чем передавать его в этот хук.\n    [ref, handler]\n  );\n}\n```\n\n## Применение\n\n``` js\nfunction App() {\n  // Создаем реф для элемента \n  const ref = useRef();\n  // Состояние модалки\n  const [isModalOpen, setModalOpen] = useState(false);\n  // Передаем в вызванный хук цель (модалку) и действие которое должно быть совершено при клике вне цели\n  useOnClickOutside(ref, () => setModalOpen(false));\n  return (\n    <div>\n      {isModalOpen ? (\n        <div ref={ref}>\n          👋 Hey, I'm a modal. Click anywhere outside of me to close.\n        </div>\n      ) : (\n        <button onClick={() => setModalOpen(true)}>Open Modal</button>\n      )}\n    </div>\n  );\n}\n```\n\n## Вывод\nТоже довольно полезный хук осбенно для модалок.\n",
      "message": "",
      "created": "2021-07-07T10:51:54.298Z",
      "creators": [
        {
          "id": "b0568c88-bb34-4420-969e-41238089a0d4",
          "uniqueName": "google#113467622262670857280",
          "displayName": "Alexander Matviienko",
          "createdAt": "2021-05-10T19:50:11.968Z",
          "updatedAt": "2021-05-10T19:50:31.732Z"
        }
      ]
    }
  },
  {
    "id": "b3d5aeae-1126-4e63-970b-6e7b6b099074",
    "emoji": null,
    "title": "usePrevious",
    "content": "",
    "headId": 788643,
    "archivedAt": null,
    "folderPathname": "/React/Каталог Пользовательских Хуков",
    "parentFolderId": "095537d7-d1a5-44ef-92db-303bd995d871",
    "teamId": "nhFMY3a5g",
    "generated": false,
    "createdAt": "2021-07-07T10:34:02.681Z",
    "updatedAt": "2021-07-07T10:39:29.526Z",
    "version": 2,
    "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
    "workspaceId": "4ae225f9-123d-4918-a49f-e0c91bd0b18a",
    "head": {
      "id": 788643,
      "docId": "b3d5aeae-1126-4e63-970b-6e7b6b099074",
      "content": "# usePrevious\n\nХук для хранения предыдущих состояний  \n\nОдин из часто возникающих вопросов: «При использовании хуков, как мне получить предыдущее значение свойства или состояния?». С компонентами класса React у вас есть метод componentDidUpdate, который получает предыдущие реквизиты и состояние в качестве аргументов, или вы можете обновить переменную экземпляра (this.previous = value) и ссылаться на нее позже, чтобы получить предыдущее значение. Итак, как мы можем сделать это внутри функционального компонента, у которого нет методов жизненного цикла или экземпляра для хранения значений? Крючки на помощь! Мы можем создать собственный хук, который использует хук useRef внутри для хранения предыдущего значения. См. Рецепт ниже со встроенными комментариями. Вы также можете найти этот пример в официальном FAQ по React Hooks.\n\n## Создание\n\n``` js\n//Хук принимает значение\nfunction usePrevious(value) {\n  // Объект ref - это универсальный контейнер, текущее свойство которого изменяемо и может содержать любое значение, аналогично свойству экземпляра в классе.\n  const ref = useRef();\n  // Ложим значение в реф\n  useEffect(() => {\n    ref.current = value;\n  }, [value]); // Хук српабатывает при измкении значения\n  //Возвращаем реф\n  return ref.current;\n}\n```\n\n## Примение\n\n``` js\nfunction App() {\n  // Состояние хранящее числа\n  const [count, setCount] = useState(0);\n  // ЛПередаем состояние в хук, и указываем перменную в котрою положим предыдущее состояние\n  const prevCount = usePrevious(count);\n  // Display both current and previous count value\n  return (\n    <div>\n      <h1>\n        Now: {count}, before: {prevCount}\n      </h1>\n      <button onClick={() => setCount(count + 1)}>Increment</button>\n    </div>\n  );\n}\n```\n\n## Вывод\n\nПо сути это хук для запоминания предыдущих состояний, даже не могу так с лету привести пример где он может использоватся.",
      "message": "",
      "created": "2021-07-07T10:39:29.513Z",
      "creators": [
        {
          "id": "b0568c88-bb34-4420-969e-41238089a0d4",
          "uniqueName": "google#113467622262670857280",
          "displayName": "Alexander Matviienko",
          "createdAt": "2021-05-10T19:50:11.968Z",
          "updatedAt": "2021-05-10T19:50:31.732Z"
        }
      ]
    }
  },
  {
    "id": "028aa1ce-4d56-49e6-8822-6d3a4bdc2cd5",
    "emoji": null,
    "title": "useOnScreen",
    "content": "",
    "headId": 788436,
    "archivedAt": null,
    "folderPathname": "/React/Каталог Пользовательских Хуков",
    "parentFolderId": "095537d7-d1a5-44ef-92db-303bd995d871",
    "teamId": "nhFMY3a5g",
    "generated": false,
    "createdAt": "2021-07-07T09:36:07.537Z",
    "updatedAt": "2021-07-07T10:09:05.333Z",
    "version": 19,
    "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
    "workspaceId": "4ae225f9-123d-4918-a49f-e0c91bd0b18a",
    "head": {
      "id": 788436,
      "docId": "028aa1ce-4d56-49e6-8822-6d3a4bdc2cd5",
      "content": "# useOnScreen\n\nЭтот хук позволяет вам легко определить, когда элемент виден на экране, а также указать, какая часть элемента должна быть видна, прежде чем будет рассматриваться на экране. Идеально подходит для отложенной загрузки изображений или запуска анимации, когда пользователь прокрутил страницу до определенного раздела.\n\n## Создание\n\n``` js\n// Хук принимает ссылку на обертку элемента, и размер при котором изображение будет отображатся\nfunction useOnScreen(ref, rootMargin = \"0px\") {\n  // Состояние и установщик для хранения видимого элемента\n  const [isIntersecting, setIntersecting] = useState(false);\n  useEffect(() => {\n    const observer = new IntersectionObserver(\n      ([entry]) => {\n        // Обновляем наше состояние при срабатывании обратного вызова наблюдателя\n        setIntersecting(entry.isIntersecting);\n      },\n      {\n        rootMargin,\n      }\n    );\n    if (ref.current) {\n      observer.observe(ref.current);\n    }\n    return () => {\n      observer.unobserve(ref.current);\n    };\n  }, []);\n  return isIntersecting;\n}\n```\n\n## Применение\n\n``` js\nfunction App() {\n  // Ссылка для элемента, который мы хотим определить, отображается ли на экране\n  const ref = useRef();\n  // Вызовите перехватчик, передавая ref и root margin. В этом случае он будет считаться onScreen, только если виден элемент более 300 пикселей.\n  const onScreen = useOnScreen(ref, \"-300px\");\n  return (\n    <div>\n      <div style={{ height: \"100vh\" }}>\n        <h1>Scroll down to next section 👇</h1>\n      </div>\n      <div\n        ref={ref}\n        style={{\n          height: \"100vh\",\n          backgroundColor: onScreen ? \"#23cebd\" : \"#efefef\",\n        }}\n      >\n        // Если картинка прогрузилась то верни ее\n        {onScreen ? (\n          <div>\n            <h1>Hey I'm on the screen</h1>\n            <img src=\"https://i.giphy.com/media/ASd0Ukj0y3qMM/giphy.gif\" />\n          </div>\n        ) : (\n          <h1>Scroll down 300px from the top of this section 👇</h1>\n        )}\n      </div>\n    </div>\n  );\n}\n```\n\n## Вывод\n\nПрикольная штука дейстивтельно здорово поможет при загрузке больших картинок или анимаций. Что бы пользователь не видел ихнюю почастичную загрузку.",
      "message": "",
      "created": "2021-07-07T10:09:05.317Z",
      "creators": [
        {
          "id": "b0568c88-bb34-4420-969e-41238089a0d4",
          "uniqueName": "google#113467622262670857280",
          "displayName": "Alexander Matviienko",
          "createdAt": "2021-05-10T19:50:11.968Z",
          "updatedAt": "2021-05-10T19:50:31.732Z"
        }
      ]
    }
  },
  {
    "id": "d53c9f80-edf2-430a-b330-e56c9ee749e3",
    "emoji": null,
    "title": "useKeyPress",
    "content": "",
    "headId": 788195,
    "archivedAt": null,
    "folderPathname": "/React/Каталог Пользовательских Хуков",
    "parentFolderId": "095537d7-d1a5-44ef-92db-303bd995d871",
    "teamId": "nhFMY3a5g",
    "generated": false,
    "createdAt": "2021-07-07T09:27:03.859Z",
    "updatedAt": "2021-07-07T09:36:09.559Z",
    "version": 5,
    "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
    "workspaceId": "4ae225f9-123d-4918-a49f-e0c91bd0b18a",
    "head": {
      "id": 788195,
      "docId": "d53c9f80-edf2-430a-b330-e56c9ee749e3",
      "content": "# useKeyPress\nЭтот хук позволяет легко обнаружить, когда пользователь нажимает определенную клавишу на своей клавиатуре. Рецепт довольно прост, так как я хочу показать, как мало кода требуется, но я призываю всех читателей создать более продвинутую версию этой ловушки. Обнаружение одновременного нажатия нескольких клавиш было бы неплохим дополнением. Бонусные баллы: также необходимо, чтобы они удерживались в указанном порядке. Не стесняйтесь делиться всем, что вы создали по сути этого рецепта.\n\n## Создание\n\n``` js\n// Создаем хук который принимает целевую-клавишу\nfunction useKeyPress(targetKey) {\n  // Состояние для отслеживания того, нажата ли клавиша\n  const [keyPressed, setKeyPressed] = useState<boolean>(false);\n  // Если нажатая клавиша является нашей целевой клавишей, тогда установите значение true\n  function downHandler({ key }) {\n    if (key === targetKey) {\n      setKeyPressed(true);\n    }\n  }\n  // Если отпущенная клавиша является нашим целевым ключом, установите значение false.\n  const upHandler = ({ key }) => {\n    if (key === targetKey) {\n      setKeyPressed(false);\n    }\n  };\n  //Устанавливаем обработчик\n  useEffect(() => {\n    window.addEventListener(\"keydown\", downHandler);\n    window.addEventListener(\"keyup\", upHandler);\n    // Убираем при размонтирования компонента\n    return () => {\n      window.removeEventListener(\"keydown\", downHandler);\n      window.removeEventListener(\"keyup\", upHandler);\n    };\n  }, []); \n  return keyPressed;\n}\n```\n\n## Применение\n\n``` js\nfunction App() {\n  // Вызываем хук для каждой клавиши, которую мы хотим отслеживать.\n  // и вытягиваем состояние нажатой клавиши\n  const happyPress = useKeyPress(\"h\");\n  const sadPress = useKeyPress(\"s\");\n  const robotPress = useKeyPress(\"r\");\n  const foxPress = useKeyPress(\"f\");\n  return (\n    <div>\n      <div>h, s, r, f</div>\n      <div>\n    //Если нажали выводим следующий смайл\n        {happyPress && \"😊\"}\n        {sadPress && \"😢\"}\n        {robotPress && \"🤖\"}\n        {foxPress && \"🦊\"}\n      </div>\n    </div>\n  );\n}\n```\n## Вывод\nНе плохой такой хук, очень пригодится когда будет что то зависимое от клавиш",
      "message": "",
      "created": "2021-07-07T09:36:09.545Z",
      "creators": [
        {
          "id": "b0568c88-bb34-4420-969e-41238089a0d4",
          "uniqueName": "google#113467622262670857280",
          "displayName": "Alexander Matviienko",
          "createdAt": "2021-05-10T19:50:11.968Z",
          "updatedAt": "2021-05-10T19:50:31.732Z"
        }
      ]
    }
  },
  {
    "id": "d9a458f2-534d-406d-8a69-0a28c9047350",
    "emoji": null,
    "title": "useScript",
    "content": "",
    "headId": 788102,
    "archivedAt": null,
    "folderPathname": "/React/Каталог Пользовательских Хуков",
    "parentFolderId": "095537d7-d1a5-44ef-92db-303bd995d871",
    "teamId": "nhFMY3a5g",
    "generated": false,
    "createdAt": "2021-07-07T08:38:20.096Z",
    "updatedAt": "2021-07-07T09:26:05.268Z",
    "version": 10,
    "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
    "workspaceId": "4ae225f9-123d-4918-a49f-e0c91bd0b18a",
    "head": {
      "id": 788102,
      "docId": "d9a458f2-534d-406d-8a69-0a28c9047350",
      "content": "# useScript\n\nЭтот хук упрощает динамическую загрузку внешнего скрипта и позволяет узнать, когда он загружен. Это полезно, когда вам нужно взаимодействовать со сторонней библиотекой (Stripe, Google Analytics и т. Д.), И вы предпочитаете загружать скрипт при необходимости, а не включать его в заголовок документа для каждого запроса страницы. В приведенном ниже примере мы ждем, пока скрипт успешно загрузится, прежде чем вызывать функцию, объявленную в скрипте. Если вам интересно посмотреть, как это будет выглядеть, если будет реализовано как компонент более высокого порядка, проверьте источник response-script-loader-hoc. Я лично считаю, что это гораздо более читабельно, как крючок. Еще одно преимущество заключается в том, что вы можете использовать эту ловушку несколько раз в компоненте, нам не нужно добавлять поддержку для загрузки нескольких скриптов, и мы можем сохранить нашу логику ловушки простой и красивой.\n\n## Создание\n\n``` js\n// Создаем функцию принимающую путь к ресурсу\nfunction useScript(src) {\n  //Создаем стэйт для хранения статусов запросов (\"idle\", \"loading\", \"ready\", \"error\")\n  const [status, setStatus] = useState(src ? \"loading\" : \"idle\");\n  useEffect(\n    () => {\n      // Если src пустое, установить статус \"бездействие\" и выйди из хука\n      // \n      if (!src) {\n        setStatus(\"idle\");\n        return;\n      }\n      // Получаем элемент скрипта с помощью src\n      let script = document.querySelector(`script[src=\"${src}\"]`);\n      // если такого нет то мы создадим))\n      if (!script) {\n        // СОЗДАЕМ\n        script = document.createElement(\"script\");\n        script.src = src;\n        script.async = true;\n        script.setAttribute(\"data-status\", \"loading\");\n        // Добавляем\n        document.body.appendChild(script);\n        // Эта функция отслеживает состояние загрузки с ресурса\n        const setAttributeFromEvent = (event) => {\n          script.setAttribute(\n            \"data-status\",\n            event.type === \"load\" ? \"ready\" : \"error\"\n          );\n        };\n        script.addEventListener(\"load\", setAttributeFromEvent);\n        script.addEventListener(\"error\", setAttributeFromEvent);\n      } else {\n        // Получаем существующий статус скрипта из атрибута и устанавливаем его в состояние.\n        setStatus(script.getAttribute(\"data-status\"));\n      }\n      // Обработчик событий скрипта для обновления статуса в состоянии\n      // Примечание. Даже если сценарий уже существует, нам все равно нужно добавить обработчики событий для обновления состояния для * этого * хука.\n      const setStateFromEvent = (event) => {\n        setStatus(event.type === \"load\" ? \"ready\" : \"error\");\n      };\n      // Add event listeners\n      script.addEventListener(\"load\", setStateFromEvent);\n      script.addEventListener(\"error\", setStateFromEvent);\n      // Убираем обработчик при размонтировании компонента\n      return () => {\n        if (script) {\n          script.removeEventListener(\"load\", setStateFromEvent);\n          script.removeEventListener(\"error\", setStateFromEvent);\n        }\n      };\n    },\n    [src] // Запускается эта штука при измении src\n  );\n  return status;// и возвращает статус\n}\n```\n\n## Применение\n\n``` js\nfunction App() {\n  // Достаем статус вызываея хук и передавая туда источник\n  // Таким образом мы подключаем либу\n  const status = useScript(\n    \"https://pm28k14qlj.codesandbox.io/test-external-script.js\"\n  );\n  return (\n    <div>\n      <div>\n        Script status: <b>{status}</b>\n      </div>\n      {status === \"ready\" && (\n        <div>\n          Script function call response: <b>{TEST_SCRIPT.start()}</b>\n        </div>\n      )}\n    </div>\n  );\n}\n```\n\n## Вывод\n\nВесьма полезная штука если надо подключать библиотеку только на конкретной странице, надо взять этот хук на вооружение.",
      "message": "",
      "created": "2021-07-07T09:26:05.229Z",
      "creators": [
        {
          "id": "b0568c88-bb34-4420-969e-41238089a0d4",
          "uniqueName": "google#113467622262670857280",
          "displayName": "Alexander Matviienko",
          "createdAt": "2021-05-10T19:50:11.968Z",
          "updatedAt": "2021-05-10T19:50:31.732Z"
        }
      ]
    }
  },
  {
    "id": "865b880c-9979-4af6-803c-a379e83c7725",
    "emoji": null,
    "title": "useReducer",
    "content": "",
    "headId": 787676,
    "archivedAt": null,
    "folderPathname": "/React/Хуки",
    "parentFolderId": "7ecbea6c-7633-4400-b6cb-39a260c79980",
    "teamId": "nhFMY3a5g",
    "generated": false,
    "createdAt": "2021-07-07T08:04:45.933Z",
    "updatedAt": "2021-07-07T08:26:05.343Z",
    "version": 4,
    "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
    "workspaceId": "4ae225f9-123d-4918-a49f-e0c91bd0b18a",
    "head": {
      "id": 787676,
      "docId": "865b880c-9979-4af6-803c-a379e83c7725",
      "content": "# useReducer\n\nАльтернатива для useState. Принимает редюсер типа (state, action) => newState и возвращает текущее состояние в паре с методом dispatch. (Если вы знакомы с Redux, вы уже знаете, как это работает.)\n\nХук useReducer обычно предпочтительнее useState, когда у вас сложная логика состояния, которая включает в себя несколько значений, или когда следующее состояние зависит от предыдущего. useReducer также позволяет оптимизировать производительность компонентов, которые запускают глубокие обновления, поскольку вы можете передавать dispatch вместо колбэков.\n\n## Пример\n\n``` js\n// Инициализируем состояние\nconst initialState = {count: 0};\n\n// Создаем редюсер\nfunction reducer(state, action) {\n  switch (action.type) {\n    case 'increment':\n      return {count: state.count + 1};\n    case 'decrement':\n      return {count: state.count - 1};\n    default:\n      throw new Error();\n  }\n}\n\nfunction Counter() {\n  //Инициализируем редюсер и состояние в компоненте\n  const [state, dispatch] = useReducer(reducer, initialState);\n  return (\n    <>//Вывод состояния\n      Count: {state.count}\n//Применние dispatch с передачей типа экшена\n      <button onClick={() => dispatch({type: 'decrement'})}>-</button>\n      <button onClick={() => dispatch({type: 'increment'})}>+</button>\n    </>\n  );\n}\n```",
      "message": "",
      "created": "2021-07-07T08:26:05.332Z",
      "creators": [
        {
          "id": "b0568c88-bb34-4420-969e-41238089a0d4",
          "uniqueName": "google#113467622262670857280",
          "displayName": "Alexander Matviienko",
          "createdAt": "2021-05-10T19:50:11.968Z",
          "updatedAt": "2021-05-10T19:50:31.732Z"
        }
      ]
    }
  },
  {
    "id": "71c47113-e867-498e-b298-2e8b0748a7b7",
    "emoji": null,
    "title": "useHistory",
    "content": "",
    "headId": 787783,
    "archivedAt": null,
    "folderPathname": "/React/Каталог Пользовательских Хуков",
    "parentFolderId": "095537d7-d1a5-44ef-92db-303bd995d871",
    "teamId": "nhFMY3a5g",
    "generated": false,
    "createdAt": "2021-07-07T07:54:50.770Z",
    "updatedAt": "2021-07-07T08:38:09.146Z",
    "version": 13,
    "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
    "workspaceId": "4ae225f9-123d-4918-a49f-e0c91bd0b18a",
    "head": {
      "id": 787783,
      "docId": "71c47113-e867-498e-b298-2e8b0748a7b7",
      "content": "# useHistory\n\nЭтот хук позволяет очень легко добавить в ваше приложение функцию отмены / повтора. Наш рецепт - это простое приложение для рисования. Он генерирует сетку блоков, позволяет щелкнуть любой блок, чтобы переключить его цвет, и использует хук useHistory, чтобы мы могли отменить, повторить или очистить все изменения на холсте. Посмотрите нашу демонстрацию [https://codesandbox.io/s/32rqn6zq0p](url). В нашем хуке мы используем useReducer для хранения состояния вместо useState, что должно быть знакомо всем, кто использовал redux (подробнее об useReducer читайте в официальной документации). Код перехвата был скопирован с небольшими изменениями из отличной библиотеки use-undo, поэтому, если вы хотите добавить это в свой проект, вы также можете использовать эту библиотеку через npm.\n\n## Создание\n\n``` js\n// Начальное состояние, которое мы передаем в useReducer\nconst initialState = {\n  // Массив значений предыдущего состояния обновляется каждый раз, когда мы нажимаем новое состояние\n  past: [],\n  // Текущее значение состояния\n  present: null,\n  // Будет содержать \"будущие\" значения состояния, если мы отменим (чтобы мы могли повторить)\n  future: [],\n};\n// reducer для обработки изменений состояния на основе действия\nconst reducer = (state, action) => {\n  const { past, present, future } = state;\n  switch (action.type) {\n    case \"UNDO\":\n      const previous = past[past.length - 1];\n      const newPast = past.slice(0, past.length - 1);\n      return {\n        past: newPast,\n        present: previous,\n        future: [present, ...future],\n      };\n    case \"REDO\":\n      const next = future[0];\n      const newFuture = future.slice(1);\n      return {\n        past: [...past, present],\n        present: next,\n        future: newFuture,\n      };\n    case \"SET\":\n      const { newPresent } = action;\n      if (newPresent === present) {\n        return state;\n      }\n      return {\n        past: [...past, present],\n        present: newPresent,\n        future: [],\n      };\n    case \"CLEAR\":\n      const { initialPresent } = action;\n      return {\n        ...initialState,\n        present: initialPresent,\n      };\n  }\n};\n// Cоздаем функцию которая будет принимать в себя настоящее состояние\nconst useHistory = (initialPresent) => {\n  // Инициализируем состояния и редьюсер \n  // и так же устанавливаем нынешеннее состояние\n  const [state, dispatch] = useReducer(reducer, {\n    ...initialState,\n    present: initialPresent,\n  });\n  // Счетчики повтора и отмены\n  const canUndo = state.past.length !== 0;\n  const canRedo = state.future.length !== 0;\n  // \n  const undo = useCallback(() => {\n    if (canUndo) {\n      dispatch({ type: \"UNDO\" });\n    }\n  }, [canUndo, dispatch]);\n  const redo = useCallback(() => {\n    if (canRedo) {\n      dispatch({ type: \"REDO\" });\n    }\n  }, [canRedo, dispatch]);\n  const set = useCallback(\n    (newPresent) => dispatch({ type: \"SET\", newPresent }),\n    [dispatch]\n  );\n  const clear = useCallback(() => dispatch({ type: \"CLEAR\", initialPresent }), [\n    dispatch,\n  ]);\n  // Данный хук возвращает нынешнее состояние, установку нового, отмену, повтор, очистку, а так же счетчики повтора и отмены.\n  return { state: state.present, set, undo, redo, clear, canUndo, canRedo };\n};\n```\n\n## Применение\n\n``` js\nfunction App() {\n  const { state, set, undo, redo, clear, canUndo, canRedo } = useHistory({});\n  return (\n    <div className=\"container\">\n      <div className=\"controls\">\n        <div className=\"title\">👩‍🎨 Click squares to draw</div>\n        <button onClick={undo} disabled={!canUndo}>\n          Undo\n        </button>\n        <button onClick={redo} disabled={!canRedo}>\n          Redo\n        </button>\n        <button onClick={clear}>Clear</button>\n      </div>\n      <div className=\"grid\">\n        {((blocks, i, len) => {\n          // Генерация сетки блоков\n          while (++i <= len) {\n            const index = i;\n            blocks.push(\n              <div\n                // Установка класа активности\n                className={\"block\" + (state[index] ? \" active\" : \"\")}\n                // Настройка переключения\n                onClick={() => set({ ...state, [index]: !state[index] })}\n                key={i}\n              />\n            );\n          }\n          return blocks;\n        })([], 0, 625)}\n      </div>\n    </div>\n  );\n}\n```\n\n## Вывод\n\nПиздец какая сложная штука но ее блин стоить запомнить, так как мастерить такое самостоятельно я желания не имею. Так что сделаю вывод если мне надо где то реализовать функционал установки удаления повтора какого нибудь сложного функционала, я обращусь к этому хуку. На самом деле если подумать на его фоне можно мастерить страшные вещи))",
      "message": "",
      "created": "2021-07-07T08:38:09.134Z",
      "creators": [
        {
          "id": "b0568c88-bb34-4420-969e-41238089a0d4",
          "uniqueName": "google#113467622262670857280",
          "displayName": "Alexander Matviienko",
          "createdAt": "2021-05-10T19:50:11.968Z",
          "updatedAt": "2021-05-10T19:50:31.732Z"
        }
      ]
    }
  },
  {
    "id": "7638f922-710b-440f-94f5-f450f04a3c75",
    "emoji": null,
    "title": "useSpring",
    "content": "",
    "headId": 787370,
    "archivedAt": null,
    "folderPathname": "/React/Каталог Пользовательских Хуков",
    "parentFolderId": "095537d7-d1a5-44ef-92db-303bd995d871",
    "teamId": "nhFMY3a5g",
    "generated": false,
    "createdAt": "2021-07-07T07:30:09.618Z",
    "updatedAt": "2021-07-07T07:54:53.102Z",
    "version": 9,
    "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
    "workspaceId": "4ae225f9-123d-4918-a49f-e0c91bd0b18a",
    "head": {
      "id": 787370,
      "docId": "7638f922-710b-440f-94f5-f450f04a3c75",
      "content": "# useSpring\n\nЭтот хук является __частью библиотеки__ анимации react-spring, которая позволяет создавать высокопроизводительные анимации на основе физики. Я стараюсь избегать включения зависимостей в эти рецепты, но время от времени я собираюсь сделать исключение для хуков, которые раскрывают функциональность действительно полезных библиотек. Одна хорошая вещь в react-spring заключается в том, что она позволяет вам полностью пропустить цикл рендеринга React при применении анимации, что часто дает довольно существенный прирост производительности. В нашем рецепте ниже мы визуализируем ряд карточек и применяем эффект упругой анимации, связанный с положением мыши над любой данной карточкой. Чтобы эта работа работала, мы вызываем хук useSpring с массивом значений, которые мы хотим анимировать, визуализируем компонент animated.div (экспортированный с помощью response-spring), получаем положение мыши над карточкой с помощью события onMouseMove, затем вызываем setAnimatedProps (function возвращенный ловушкой), чтобы обновить этот набор значений в зависимости от положения мыши. Прочтите комментарии в приведенном ниже рецепте для получения более подробной информации или сразу переходите к демонстрации [https://codesandbox.io/s/6jlvz1j5q3](url). Мне настолько понравился этот эффект, что я в итоге использовал его на целевой странице своего стартапа 😎\n\n\n## Примение\n\n``` js\nimport { useState, useRef } from \"react\";\nimport { useSpring, animated } from \"react-spring\";\n// Отображаем ряд карточек\n// Хук используем внутри компонента <Card> \nfunction App() {\n  return (\n    <div className=\"container\">\n      <div className=\"row\">\n        {cards.map((card, i) => (\n          <div className=\"column\">\n            <Card>\n              <div className=\"card-title\">{card.title}</div>\n              <div className=\"card-body\">{card.description}</div>\n              <img className=\"card-image\" src={card.image} />\n            </Card>\n          </div>\n        ))}\n      </div>\n    </div>\n  );\n}\nfunction Card({ children }) {\n  // Мы добавляем эту ссылку в элемент карты и используем в событии onMouseMove для получения смещения и размеров элемента.\n  const ref = useRef();\n  // Переключатель при наведении\n  const [isHovered, setHovered] = useState(false);\n  // Вот и используем сам хук, который отдает состояние анимации и переключатель этого состояния на подобии useState\n  const [animatedProps, setAnimatedProps] = useSpring(() => {\n    return {\n      // Массив, содержащий значения[rotateX, rotateY, and scale].\n      // Мы храним под одним ключом (x y s) вместо отдельных ключей, так что мы можем использовать animatedProps.xys.interpolate (), чтобы легко сгенерировать значение преобразования css, указанное ниже.\n      xys: [0, 0, 1],\n      // Устанавливаем physics параметрв, как я понял они и отвечают за анимацию\n      config: { mass: 10, tension: 400, friction: 40, precision: 0.00001 },\n    };\n  });\n  return (\n    <animated.div\n      ref={ref}\n      className=\"card\"\n      onMouseEnter={() => setHovered(true)}\n      onMouseMove={({ clientX, clientY }) => {\n        // Получам x позицию курсора относительно карты\n        const x =\n          clientX -\n          (ref.current.offsetLeft -\n            (window.scrollX || window.pageXOffset || document.body.scrollLeft));\n        // Получам y позицию курсора относительно карты\n        const y =\n          clientY -\n          (ref.current.offsetTop -\n            (window.scrollY || window.pageYOffset || document.body.scrollTop));\n        // Установиливаем анимированные значения в зависимости от положения мыши и размеров карты\n        const dampen = 50; // Чем меньше число, тем меньше вращение\n        const xys = [\n          -(y - ref.current.clientHeight / 2) / dampen, // rotateX\n          (x - ref.current.clientWidth / 2) / dampen, // rotateY\n          1.07, // Scale\n        ];\n        // Обновляем значения для анимации\n        setAnimatedProps({ xys: xys });\n      }}\n      onMouseLeave={() => {\n        setHovered(false);\n        // Возвращает xys в исходное состояние\n        setAnimatedProps({ xys: [0, 0, 1] });\n      }}\n      style={{\n        // If hovered we want it to overlap other cards when it scales up\n        zIndex: isHovered ? 2 : 1,\n        // Функция интерполяции для обработки изменений css\n        transform: animatedProps.xys.interpolate(\n          (x, y, s) =>\n            `perspective(600px) rotateX(${x}deg) rotateY(${y}deg) scale(${s})`\n        ),\n      }}\n    >\n      {children}\n    </animated.div>\n  );\n}\n\n```\n\n## Доп. материалы\n1. [http://react-spring.surge.sh/](url) - Официальные документы с множеством забавных примеров анимации. См. Раздел о __useSpring__ здесь [http://react-spring.surge.sh/manual](url).\n2. [https://codesandbox.io/s/j1zol1nrq3](url) - Исходная демонстрация useSpring.\n3. [https://codesandbox.io/s/py912w5k6m](url) - Еще одна демонстрация useSpring, которая анимируется при прокрутке.\n\n\n## Вывод\nРазбиратся долго, но можно запомнить что если мне надо будет поставить какуюто сложную анимацию на элемент то это сюда.",
      "message": "",
      "created": "2021-07-07T07:54:53.044Z",
      "creators": [
        {
          "id": "b0568c88-bb34-4420-969e-41238089a0d4",
          "uniqueName": "google#113467622262670857280",
          "displayName": "Alexander Matviienko",
          "createdAt": "2021-05-10T19:50:11.968Z",
          "updatedAt": "2021-05-10T19:50:31.732Z"
        }
      ]
    }
  },
  {
    "id": "53c5334f-578b-4cc3-b333-98f1ea273513",
    "emoji": null,
    "title": "useTheme",
    "content": "",
    "headId": 787097,
    "archivedAt": null,
    "folderPathname": "/React/Каталог Пользовательских Хуков",
    "parentFolderId": "095537d7-d1a5-44ef-92db-303bd995d871",
    "teamId": "nhFMY3a5g",
    "generated": false,
    "createdAt": "2021-07-07T07:17:58.108Z",
    "updatedAt": "2021-07-07T07:30:11.612Z",
    "version": 5,
    "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
    "workspaceId": "4ae225f9-123d-4918-a49f-e0c91bd0b18a",
    "head": {
      "id": 787097,
      "docId": "53c5334f-578b-4cc3-b333-98f1ea273513",
      "content": "# useTheme\n\nЭтот хук упрощает динамическое изменение внешнего вида вашего приложения с помощью переменных CSS. Вы просто передаете объект, содержащий пары ключ / значение переменных CSS, которые вы хотите обновить, и ловушка обновляет каждую переменную в корневом элементе документа. Это полезно в ситуациях, когда вы не можете определить встроенные стили (без поддержки псевдоклассов) и слишком много перестановок стилей для включения каждой темы в вашу таблицу стилей (например, веб-приложение, которое позволяет пользователям настраивать внешний вид своего профиля). Стоит отметить, что многие библиотеки css-in-js поддерживают динамические стили из коробки, но интересно поэкспериментировать с тем, как это можно сделать с помощью только переменных CSS и React Hook. Приведенный ниже пример намеренно очень прост, но вы можете представить, что объект темы хранится в состоянии или извлекается из API. Обязательно ознакомьтесь с демонстрацией [https://codesandbox.io/s/15mko9187](url), чтобы получить более интересный пример и увидеть прилагаемую таблицу стилей.\n\n## Создание\n\n``` js\n// Создаем функцию принимающую объект темы\nfunction useTheme(theme) {\n  useLayoutEffect(\n    () => {\n      // Итерируем каждое значение в объекте темы\n      for (const key in theme) {\n        // Обновляем переменные css в корневом элементе документа\n        document.documentElement.style.setProperty(`--${key}`, theme[key]);\n      }\n    },\n    [theme] // Делаем вызов только при измении объекта темы\n  );\n}\n```\n\n## Применение\n\n``` js\n//объект темы, со свойствами\nconst theme = {\n  \"button-padding\": \"16px\",\n  \"button-font-size\": \"14px\",\n  \"button-border-radius\": \"4px\",\n  \"button-border\": \"none\",\n  \"button-color\": \"#FFF\",\n  \"button-background\": \"#6772e5\",\n  \"button-hover-border\": \"none\",\n  \"button-hover-color\": \"#FFF\",\n};\nfunction App() {\n  // Вызываем хук и передаем объект темы\n  useTheme(theme);\n  return (\n    <div>\n      <button className=\"button\">Button</button>\n    </div>\n  );\n}\n```\n\n## Вывод\n\nДля использования этого хука нам надо создать перменые scss далее объект с свойствами что бы передавть его в хук. Кароче перед применнием стоит ознакомится с примером в песеочниеце по ссылке в описании",
      "message": "",
      "created": "2021-07-07T07:30:11.590Z",
      "creators": [
        {
          "id": "b0568c88-bb34-4420-969e-41238089a0d4",
          "uniqueName": "google#113467622262670857280",
          "displayName": "Alexander Matviienko",
          "createdAt": "2021-05-10T19:50:11.968Z",
          "updatedAt": "2021-05-10T19:50:31.732Z"
        }
      ]
    }
  },
  {
    "id": "5538ac8c-48cc-44b1-aeea-beb67804d639",
    "emoji": null,
    "title": "useLayoutEffect",
    "content": "",
    "headId": 786888,
    "archivedAt": null,
    "folderPathname": "/React/Хуки",
    "parentFolderId": "7ecbea6c-7633-4400-b6cb-39a260c79980",
    "teamId": "nhFMY3a5g",
    "generated": false,
    "createdAt": "2021-07-07T07:02:13.717Z",
    "updatedAt": "2021-07-07T07:04:15.716Z",
    "version": 2,
    "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
    "workspaceId": "4ae225f9-123d-4918-a49f-e0c91bd0b18a",
    "head": {
      "id": 786888,
      "docId": "5538ac8c-48cc-44b1-aeea-beb67804d639",
      "content": "# useLayoutEffect\n\nСогласно официальной документации хук useLayoutEffect по своим параметрам (сигнатуре) полностью идентичен хуку useEffect. Главное же отличие заключается в том, что useLayoutEffect вызывается синхронно, после всех изменений в DOM. Также сами разработчики React рекомендуют использовать useLayoutEffect только в случае острой необходимости, чтобы вдруг не возникло проблем с правильным рендерингом компонентов. Хук useLayoutEffect можно использовать в случаях, когда необходимо произвести какие-то вычисления либо замеры в реальном DOM или провести синхронно мутацию (изменения).\n\n## Пример \n``` js\nimport React, { useState, useEffect } from \"react\";\nimport ReactDOM from \"react-dom\";\n\nconst Component = () => {\n  const [value, setValue] = useState(0);\n\n  useEffect(() => {\n    if (value === 0) {\n      setValue(Math.random() * 99 + 99);\n    }\n  }, [value]);\n\n  console.log(\"render\", value);\n  return <div onClick={() => setValue(0)}>value: {value}</div>;\n};\n\nReactDOM.render(<Component />, document.querySelector(«#root»));\n```\n\nВ данном примере после клика на значение можно увидеть небольшое мигание. Дело в том, что по умолчанию в setValue передается 0, а затем в хуке useEffect происходит повторный вызов данной функции с рандомным значением. Вызов useEffect происходит асинхронно, что приводит к последовательному рендеру компонента и как следствие миганию.\n\nДавайте теперь заменим useEffect на useLayoutEffect.\n\n## Пример\n``` js\nimport React, { useState, useLayoutEffect } from \"react\";\nimport ReactDOM from \"react-dom\";\n\nconst Component = () => {\n  const [value, setValue] = useState(0);\n\n  useLayoutEffect(() => {\n    if (value === 0) {\n      setValue(Math.random() * 99 + 99);\n    }\n  }, [value]);\n\n  console.log(\"render\", value);\n  return <div onClick={() => setValue(0)}>value: {value}</div>;\n};\n\nReactDOM.render(<Component />, document.querySelector(\"#root\"));\n```\n\nПо клику на value теперь можно увидеть, что мигание пропало. Так как хук useLayoutEffect вызывается синхронно, то после вызова setValue с 0 сразу идет вызов setValue с рандомным значением. Благодаря хуку useLayoutEffect происходит «группировка» этих значений и как результат в DOM сразу попадает последнее в цепочке вызовов. Перерендеривание компонента происходит не последовательно, а одномоментно, тем самым исключая появление мигания.",
      "message": "",
      "created": "2021-07-07T07:04:15.708Z",
      "creators": [
        {
          "id": "b0568c88-bb34-4420-969e-41238089a0d4",
          "uniqueName": "google#113467622262670857280",
          "displayName": "Alexander Matviienko",
          "createdAt": "2021-05-10T19:50:11.968Z",
          "updatedAt": "2021-05-10T19:50:31.732Z"
        }
      ]
    }
  },
  {
    "id": "d09d2868-2dad-4138-ac3a-5e0270f5e9be",
    "emoji": null,
    "title": "useLockBodyScroll",
    "content": "",
    "headId": 787057,
    "archivedAt": null,
    "folderPathname": "/React/Каталог Пользовательских Хуков",
    "parentFolderId": "095537d7-d1a5-44ef-92db-303bd995d871",
    "teamId": "nhFMY3a5g",
    "generated": false,
    "createdAt": "2021-07-07T06:58:51.245Z",
    "updatedAt": "2021-07-07T07:18:00.179Z",
    "version": 5,
    "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
    "workspaceId": "4ae225f9-123d-4918-a49f-e0c91bd0b18a",
    "head": {
      "id": 787057,
      "docId": "d09d2868-2dad-4138-ac3a-5e0270f5e9be",
      "content": "# useLockBodyScroll\n\nИногда вы хотите, чтобы ваши пользователи не могли прокручивать тело вашей страницы, в то время как определенный компонент абсолютно расположен над вашей страницей (подумайте о модальном или полноэкранном мобильном меню). Видеть прокрутку фонового содержимого под модальным окном может сбивать с толку, особенно если вы намеревались прокрутить область внутри модального окна. Что ж, этот крючок решает эту проблему! Просто вызовите ловушку useLockBodyScroll в любом компоненте, и прокрутка тела будет заблокирована до тех пор, пока этот компонент не будет отключен. Посмотрите его в действии в демонстрации [https://codesandbox.io/s/yvkol51m81](url).\n\n## Создание\n\n``` js\nfunction useLockBodyScroll() {\n  useLayoutEffect(() => {\n    // Получа body overflow\n    const originalStyle = window.getComputedStyle(document.body).overflow;\n    // Отключаем скролл body\n    document.body.style.overflow = \"hidden\";\n    // При размонтировании компонента возвращаем скролл body обратно\n    return () => (document.body.style.overflow = originalStyle);\n  }, []); // Пустой массив гарантирует, что эффект будет выполняться только при монтировании и размонтировании.\n}\n```\n\n## Применение\n\n``` js\nfunction App() {\n  // Состояние переключения модального окна\n  const [modalOpen, setModalOpen] = useState(false);\n  return (\n    <div>\n      <button onClick={() => setModalOpen(true)}>Show Modal</button>\n      <Content />\n      {modalOpen && (\n        <Modal\n          title=\"Try scrolling\"\n          content=\"I bet you you can't! Muahahaha 😈\"\n          onClose={() => setModalOpen(false)}\n        />\n      )}\n    </div>\n  );\n}\nfunction Modal({ title, content, onClose }) {\n  // Хук интегруется прямо в компонент модального окна\n  useLockBodyScroll();\n  return (\n    <div className=\"modal-overlay\" onClick={onClose}>\n      <div className=\"modal\">\n        <h2>{title}</h2>\n        <p>{content}</p>\n      </div>\n    </div>\n  );\n}\n```\n\n## Вывод\n\nУдобно, благодаря этому хуку можно забыть о проблеме скролла при вызове модального окна.",
      "message": "",
      "created": "2021-07-07T07:18:00.151Z",
      "creators": [
        {
          "id": "b0568c88-bb34-4420-969e-41238089a0d4",
          "uniqueName": "google#113467622262670857280",
          "displayName": "Alexander Matviienko",
          "createdAt": "2021-05-10T19:50:11.968Z",
          "updatedAt": "2021-05-10T19:50:31.732Z"
        }
      ]
    }
  },
  {
    "id": "2088ad38-052b-4b5d-b44a-1554c6a1e9fa",
    "emoji": null,
    "title": "useMedia",
    "content": "",
    "headId": 786851,
    "archivedAt": null,
    "folderPathname": "/React/Каталог Пользовательских Хуков",
    "parentFolderId": "095537d7-d1a5-44ef-92db-303bd995d871",
    "teamId": "nhFMY3a5g",
    "generated": false,
    "createdAt": "2021-07-06T15:49:34.685Z",
    "updatedAt": "2021-07-07T06:53:49.677Z",
    "version": 16,
    "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
    "workspaceId": "4ae225f9-123d-4918-a49f-e0c91bd0b18a",
    "head": {
      "id": 786851,
      "docId": "2088ad38-052b-4b5d-b44a-1554c6a1e9fa",
      "content": "# useMedia\n\nЭтот хук упрощает использование медиа-запросов в логике вашего компонента. В нашем примере ниже мы визуализируем разное количество столбцов в зависимости от того, какой медиа-запрос соответствует текущей ширине экрана, а затем распределяем изображения между столбцами таким образом, чтобы ограничить разницу в высоте столбцов (мы не хотим, чтобы один столбец был длиннее остальных. ). Вы можете создать хук, который напрямую измеряет ширину экрана вместо использования медиа-запросов, но этот метод хорош тем, что упрощает обмен медиа-запросами между JS и вашей таблицей стилей. Посмотрите его в действии в демонстрации [https://codesandbox.io/s/6jlmpjq9vw](url).\n\n## Создание\n\n```js\n//Создаем функцию которая принимает массив медиа-запросов, значение, значение по умолчанию\nfunction useMedia(queries, values, defaultValue) {\n  // Создаем массив который содержит список объектов медизапросов \n  const mediaQueryLists = queries.map((q) => window.matchMedia(q));\n  // Функция, которая получает значение на основе соответствующего медиа-запроса\n  const getValue = () => {\n    //Получить индекс первого совпадающего с нынешним разрешением медиа-запросом\n    //это проверяется с помощью mql.matches, которая возвращает true если медиазапрос соответсвует разрешению\n    const index = mediaQueryLists.findIndex((mql) => mql.matches);\n    // Вернуть значение индексу которого соответсвует индекс акутального медиазапроса если такового нет то возвращаем значение по умолчанию \n    return typeof values[index] !== \"undefined\" ? values[index] : defaultValue;\n  };\n  // Устанавливаем полученное значение в состояние\n  const [value, setValue] = useState(getValue);\n  useEffect(\n    () => {\n      // Тут мы вызываем прослушиватель событий\n      // Создаем обработчик, который ставит состояние в зависимости от разрешения\n      const handler = () => setValue(getValue);\n      // Вешаем на массив медиазапросов через прослушиватель расширения такой обработчик\n      mediaQueryLists.forEach((mql) => mql.addListener(handler));\n      // Удаляем при размонтировании компонента\n      return () =>\n        mediaQueryLists.forEach((mql) => mql.removeListener(handler));\n    },\n    [] // Пустой массив гарантирует, что эффект будет выполняться только при монтировании и размонтировании.\n  );\n  //Возвращаем значение которое актуально при данном расширении\n  return value;\n}\n```\n\n## Применение\n\n``` js\nfunction App() {\n  //Инициализируем хук мекдиазапросов\n  const columnCount = useMedia(\n    // Медиазапросы\n    [\"(min-width: 1500px)\", \"(min-width: 1000px)\", \"(min-width: 600px)\"],\n    // Количество столбцов (относится к вышеуказанным медиа-запросам по индексу массива)\n    [5, 4, 3],\n    // Количество столбцов по умолчанию\n    2\n  );\n  // Создаем массив соответствующий длине значения полученого с хука и заполняем его нклями\n  let columnHeights = new Array(columnCount).fill(0);\n  // Создаем массив содержащий масивы в которые в дальнейшем будут вложены свойства для будущих колонок\n  let columns = new Array(columnCount).fill().map(() => []);\n  // data содержит url картинки, а так же высоту и ширину\n  data.forEach((item) => {\n    // Получаем индекс самого короткого столбца\n    const shortColumnIndex = columnHeights.indexOf(Math.min(...columnHeights));\n    // Добавляем в него item\n    columns[shortColumnIndex].push(item);\n    // Увеличиваем высоту\n    columnHeights[shortColumnIndex] += item.height;\n  });\n  \n  // Render columns and items\n  return (\n    <div className=\"App\">\n      <div className=\"columns is-mobile\">\n        {columns.map((column) => (\n          <div className=\"column\">\n            {column.map((item) => (\n              <div\n                className=\"image-container\"\n                style={{\n                  // Size image container to aspect ratio of image\n                  paddingTop: (item.height / item.width) * 100 + \"%\",\n                }}\n              >\n                <img src={item.image} alt=\"\" />\n              </div>\n            ))}\n          </div>\n        ))}\n      </div>\n    </div>\n  );\n}\n```\n\n## Вывод\nПрименние данного хука не ограничивается только кодом в примере, его суть заключается в том что он может возвращать значения в зависимости от разрешения экрана.",
      "message": "",
      "created": "2021-07-07T06:53:49.664Z",
      "creators": [
        {
          "id": "b0568c88-bb34-4420-969e-41238089a0d4",
          "uniqueName": "google#113467622262670857280",
          "displayName": "Alexander Matviienko",
          "createdAt": "2021-05-10T19:50:11.968Z",
          "updatedAt": "2021-05-10T19:50:31.732Z"
        }
      ]
    }
  },
  {
    "id": "cad45d95-9de6-4e94-9ea4-c260d094f85e",
    "emoji": null,
    "title": "useDarkMode",
    "content": "",
    "headId": 781837,
    "archivedAt": null,
    "folderPathname": "/React/Каталог Пользовательских Хуков",
    "parentFolderId": "095537d7-d1a5-44ef-92db-303bd995d871",
    "teamId": "nhFMY3a5g",
    "generated": false,
    "createdAt": "2021-07-06T15:18:48.677Z",
    "updatedAt": "2021-07-06T15:47:01.542Z",
    "version": 10,
    "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
    "workspaceId": "4ae225f9-123d-4918-a49f-e0c91bd0b18a",
    "head": {
      "id": 781837,
      "docId": "cad45d95-9de6-4e94-9ea4-c260d094f85e",
      "content": "# useDarkMode\n\nЭтот хук обрабатывает всю логику с отслеживанием состояния, необходимую для добавления переключателя темного режима на ваш сайт. Он использует localStorage для запоминания выбранного пользователем режима, по умолчанию используется его браузер или настройка уровня ОС с использованием медиа-запроса prefers-color-scheme и управляет настройкой .dark-mode className в теле для применения ваших стилей. Этот пост также помогает проиллюстрировать силу композиции хуков. Синхронизация состояния с localStorage выполняется нашим хуком useLocalStorage. Обнаружение предпочтений темного режима пользователя обрабатывается нашим хуком useMedia. Оба этих крючка были созданы для других сценариев использования, но здесь мы составили их, чтобы создать очень полезный крючок в относительно небольшом количестве строк кода. Это почти как если бы хуки привносили композиционную мощь компонентов React в логику с отслеживанием состояния! \n\n## Создание\n\n``` js\nfunction useDarkMode() {\n  // Используйте наш перехватчик useLocalStorage для сохранения состояния при обновлении страницы. Прочтите рецепт этого хука, чтобы узнать больше: usehooks.com/useLocalStorage\n  const [enabledState, setEnabledState] = useLocalStorage(\"dark-mode-enabled\");\n  // Посмотрите, установил ли пользователь настройку темного режима в браузере или ОС. Ловушка usePrefersDarkMode составляет хук useMedia (см. Код ниже).\n  const prefersDarkMode = usePrefersDarkMode();\n  // Если включен параметр enabledState, используйте его, в противном случае используйте параметр prefersDarkMode. Это позволяет пользователю переопределить настройку уровня ОС на нашем веб-сайте.\n  const enabled =\n    typeof enabledState !== \"undefined\" ? enabledState : prefersDarkMode;\n  // useEffect который срабатывает при изменении состояния переключателя dark-mode\n  useEffect(\n    () => {\n      const className = \"dark-mode\";\n      const element = window.document.body;\n      if (enabled) {\n        element.classList.add(className);\n      } else {\n        element.classList.remove(className);\n      }\n    },\n    [enabled] \n  );\n  // Возврат состояния переключателя и состояния \n  return [enabled, setEnabledState];\n}\n//Составьте наш хук useMedia для определения предпочтений темного режима.\n// API для useMedia выглядит немного странно, но это потому, что он был разработан для поддержки нескольких медиа-запросов и возвращаемых значений.\n// Благодаря композиции хуков мы можем скрыть эту дополнительную сложность!\n// Прочтите рецепт использования useMedia, чтобы узнать больше: usehooks.com/useMedia\nfunction usePrefersDarkMode() {\n  return useMedia([\"(prefers-color-scheme: dark)\"], [true], false);\n}\n```\n\n## Применение\n\n``` js\nfunction App() {\n  // Инизиализация переключателя\n  const [darkMode, setDarkMode] = useDarkMode();\n  return (\n    <div>\n      <div className=\"navbar\">\n    //Передаем состояние и переключатель в компонент переключения режима \n        <Toggle darkMode={darkMode} setDarkMode={setDarkMode} />\n      </div>\n      <Content />\n    </div>\n  );\n}\n```\n\n## Вывод\nНу я теперь приблизительно представляю как реализовать переключение режимов с темного на светлый.",
      "message": "",
      "created": "2021-07-06T15:47:01.524Z",
      "creators": [
        {
          "id": "b0568c88-bb34-4420-969e-41238089a0d4",
          "uniqueName": "google#113467622262670857280",
          "displayName": "Alexander Matviienko",
          "createdAt": "2021-05-10T19:50:11.968Z",
          "updatedAt": "2021-05-10T19:50:31.732Z"
        }
      ]
    }
  },
  {
    "id": "4d016b4b-2f98-4752-a5bb-9ea93000d9c2",
    "emoji": null,
    "title": "Информация по созданию пользовательских хуков",
    "content": "",
    "headId": 781608,
    "archivedAt": null,
    "folderPathname": "/React/Каталог Пользовательских Хуков",
    "parentFolderId": "095537d7-d1a5-44ef-92db-303bd995d871",
    "teamId": "nhFMY3a5g",
    "generated": false,
    "createdAt": "2021-07-06T14:57:58.780Z",
    "updatedAt": "2021-07-06T15:11:36.027Z",
    "version": 4,
    "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
    "workspaceId": "4ae225f9-123d-4918-a49f-e0c91bd0b18a",
    "head": {
      "id": 781608,
      "docId": "4d016b4b-2f98-4752-a5bb-9ea93000d9c2",
      "content": "# Информация по созданию пользовательских хуков\n\n1. Хуки по сути являются функции, следовательно я спокойно могу создавать свои хуки.\n2. Несмотря на то что пользовательские хуки создаются вне компонентов, в них спокойно можно вызывать стандартные реактовские хуки и комбинировать их между собой как душе угодно.\n3. При создании хука следует думать в ключе, \"какой функционал я хочу в видеть в компоненте\"",
      "message": "",
      "created": "2021-07-06T15:11:36.014Z",
      "creators": [
        {
          "id": "b0568c88-bb34-4420-969e-41238089a0d4",
          "uniqueName": "google#113467622262670857280",
          "displayName": "Alexander Matviienko",
          "createdAt": "2021-05-10T19:50:11.968Z",
          "updatedAt": "2021-05-10T19:50:31.732Z"
        }
      ]
    }
  },
  {
    "id": "7552ac15-47f8-4830-9db9-f95e13f23b71",
    "emoji": null,
    "title": "Recat.memo",
    "content": "",
    "headId": 781454,
    "archivedAt": null,
    "folderPathname": "/React/Полезные фичи",
    "parentFolderId": "c6484bea-b2af-4ec6-acc0-8711f7ea8942",
    "teamId": "nhFMY3a5g",
    "generated": false,
    "createdAt": "2021-07-06T14:44:15.872Z",
    "updatedAt": "2021-09-18T12:03:08.656Z",
    "version": 4,
    "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
    "workspaceId": "4ae225f9-123d-4918-a49f-e0c91bd0b18a",
    "head": {
      "id": 781454,
      "docId": "7552ac15-47f8-4830-9db9-f95e13f23b71",
      "content": "# React.memo\n\nReact.memo лучше использовать на компонентах, которые сложнее чем обычный вывод пропсов, где используется какая-то +- сложная логика и повторный рендер с одинаковыми props ощутимо влияет на производительность (например компоненты с построением графиков и тп)\n\nmemo хранит каждый компонент в памяти, соответственно чем больше сохраненных компонентов, тем больше памяти занято",
      "message": "",
      "created": "2021-07-06T14:48:19.956Z",
      "creators": [
        {
          "id": "b0568c88-bb34-4420-969e-41238089a0d4",
          "uniqueName": "google#113467622262670857280",
          "displayName": "Alexander Matviienko",
          "createdAt": "2021-05-10T19:50:11.968Z",
          "updatedAt": "2021-05-10T19:50:31.732Z"
        }
      ]
    }
  },
  {
    "id": "fa954d57-a6a1-4228-86aa-abf054d070ae",
    "emoji": null,
    "title": "useWhyDidYouUpdate",
    "content": "",
    "headId": 781628,
    "archivedAt": null,
    "folderPathname": "/React/Каталог Пользовательских Хуков",
    "parentFolderId": "095537d7-d1a5-44ef-92db-303bd995d871",
    "teamId": "nhFMY3a5g",
    "generated": false,
    "createdAt": "2021-07-06T14:41:57.509Z",
    "updatedAt": "2021-07-06T15:16:06.747Z",
    "version": 12,
    "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
    "workspaceId": "4ae225f9-123d-4918-a49f-e0c91bd0b18a",
    "head": {
      "id": 781628,
      "docId": "fa954d57-a6a1-4228-86aa-abf054d070ae",
      "content": "# useWhyDidYouUpdate\n\nЭтот хук позволяет легко увидеть, какие изменения свойств вызывают повторный рендеринг компонента. Если выполнение функции особенно дорого, и вы знаете, что она дает те же результаты при тех же реквизитах, вы можете использовать компонент React.memo более высокого порядка, как мы сделали с компонентом Counter в приведенном ниже примере. В этом случае, если вы все еще видите повторные рендеры, которые кажутся ненужными, вы можете добавить хук useWhyDidYouUpdate и проверить свою консоль, чтобы увидеть, какие реквизиты изменились между рендерами, и просмотреть их предыдущие / текущие значения. Довольно изящно, да? Огромное спасибо Бруно Лемосу за идею и оригинальный код. Вы также можете увидеть это в действии в демонстрации [https://codesandbox.io/s/kx83n7201o](url).\n\n## Создание\n\n``` js\n//Создаем функцию с возможностью передачи туда имени и свойств\nfunction useWhyDidYouUpdate(name, props) {\n  // Получаем изменяемый объект ref, в котором мы можем хранить реквизиты для сравнения при следующем запуске этого хука.\n  const previousProps = useRef();\n  useEffect(() => {\n    if (previousProps.current) {\n      // Получаем все ключи из предыдущего и текущего состояни\n      const allKeys = Object.keys({ ...previousProps.current, ...props });\n      // Используйте этот объект, чтобы отслеживать измененные свойства\n      const changesObj = {};\n      // Перебираем ключи\n      allKeys.forEach((key) => {\n        // Если предыдущее отличается от текущего\n        if (previousProps.current[key] !== props[key]) {\n          // Добавляем его в changesObj\n          changesObj[key] = {\n            from: previousProps.current[key],\n            to: props[key],\n          };\n        }\n      });\n      // Если changesObj не пустой, вывести на консоль\n      if (Object.keys(changesObj).length) {\n        console.log(\"[why-did-you-update]\", name, changesObj);\n      }\n    }\n    // Наконец, обновите предыдущие реквизиты текущими реквизитами для следующего вызова хука\n    previousProps.current = props;\n  });\n}\n```\n\n## Применение\n\n``` js\nconst Counter = React.memo((props) => {\n  // Вызываем хук, передавая в неого имя для вывода в консольку, и пропсы, что бы вычислить какой вызывает ререндер\n  useWhyDidYouUpdate(\"Counter\", props);\n  return <div style={props.style}>{props.count}</div>;\n});\nfunction App() {\n  const [count, setCount] = useState(0);\n  const [userId, setUserId] = useState(0);\n  // Наш вывод в консоль сообщает use, что свойство style для <Counter> изменяется при каждом рендеринге, даже когда мы меняем только состояние userId, нажимая кнопку «переключить пользователя». О Конечно! Это потому, что объект counterStyle воссоздается при каждом рендеринге. Благодаря нашему хуку мы выяснили это и поняли, что, вероятно, нам следует переместить этот объект за пределы тела компонента.\n  const counterStyle = {\n    fontSize: \"3rem\",\n    color: \"red\",\n  };\n  return (\n    <div>\n      <div className=\"counter\">\n        <Counter count={count} style={counterStyle} />\n        <button onClick={() => setCount(count + 1)}>Increment</button>\n      </div>\n      <div className=\"user\">\n        <img src={`http://i.pravatar.cc/80?img=${userId}`} />\n        <button onClick={() => setUserId(userId + 1)}>Switch User</button>\n      </div>\n    </div>\n  );\n}\n```\n\n## Вывод\nПолезная штука, для диагностики производительности. В принипе может войти в топ хуков для использования в каждом проекте",
      "message": "",
      "created": "2021-07-06T15:16:06.739Z",
      "creators": [
        {
          "id": "b0568c88-bb34-4420-969e-41238089a0d4",
          "uniqueName": "google#113467622262670857280",
          "displayName": "Alexander Matviienko",
          "createdAt": "2021-05-10T19:50:11.968Z",
          "updatedAt": "2021-05-10T19:50:31.732Z"
        }
      ]
    }
  },
  {
    "id": "b1d780f5-5061-4b69-8716-df3f6367d79b",
    "emoji": null,
    "title": "useEventListener",
    "content": "",
    "headId": 781391,
    "archivedAt": null,
    "folderPathname": "/React/Каталог Пользовательских Хуков",
    "parentFolderId": "095537d7-d1a5-44ef-92db-303bd995d871",
    "teamId": "nhFMY3a5g",
    "generated": false,
    "createdAt": "2021-07-06T13:11:20.126Z",
    "updatedAt": "2021-07-06T14:41:38.446Z",
    "version": 16,
    "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
    "workspaceId": "4ae225f9-123d-4918-a49f-e0c91bd0b18a",
    "head": {
      "id": 781391,
      "docId": "b1d780f5-5061-4b69-8716-df3f6367d79b",
      "content": "# useEventListener\nЕсли вы обнаружите, что добавляете много прослушивателей событий с помощью useEffect, вы можете подумать о переносе этой логики в настраиваемый обработчик. В приведенном ниже рецепте мы создаем хук useEventListener, которая проверяет, поддерживается ли addEventListener, добавляет прослушиватель событий и удаляет при очистке. Посмотрите его в действии в демонстрации [https://codesandbox.io/s/z64on3ypm](url).\n\n## Создание\n\n``` js\n// Создаем функцию с возможностью передачи в нее: имени событияб обработчика, и элемент к которому будет применятся обработчик, это не обязательно window, спокойно может быть и любой другой элемент который можно достать с помощью useRef\nfunction useEventListener(eventName, handler, element = window) {\n  // Ссылка, которая хранит обработчик\n  const savedHandler = useRef();\n  // Обновляем значение ref.current если обработчик изменился.\n  // Это позволяет useEffeсt, приведенному ниже, всегда получать последний обработчик без необходимости передавать его в массиве effect deps и потенциально вызывать повторный запуск эффекта при каждом рендере.\n  useEffect(() => {\n    savedHandler.current = handler;\n  }, [handler]);\n  useEffect(\n    () => {\n      // Проверка, поддерживает ли элемент addEventListener\n      const isSupported = element && element.addEventListener;\n      if (!isSupported) return;\n      //Создаем прослушиватель событий, который вызывает функцию обработчика, хранящуюся в ref\n      const eventListener = (event) => savedHandler.current(event);\n      // Создаем событие с передачей туда имени и прослушивателя\n      element.addEventListener(eventName, eventListener);\n      // Удалить прослушиватель событий при удаление компонента, нам же когда\n      // мы перешли на другую страницу, не нужен же запущенный обработчик событий\n      return () => {\n        element.removeEventListener(eventName, eventListener);\n      };\n    },\n    [eventName, element] // Повторить запуск, если eventName или элемент изменится\n  );\n}\n```\n\n## Применение (пример)\n\n``` js\nfunction App() {\n  // Состояние для хранения координат мыши\n  const [coords, setCoords] = useState({ x: 0, y: 0 });\n  // Обработчик событий использует useCallback, чтобы ссылка никогда не менялась.\n  const handler = useCallback(\n  // Передаем новые кординаты, доставая их из объекта события которое мы достанем в хуке\n    ({ clientX, clientY }) => {\n      // Устанавливаем новые кординаты \n      setCoords({ x: clientX, y: clientY });\n    },//Ставим зависимость в виде функции, что бы обработчик не обновлялся\n    [setCoords]\n  );\n  // Добавляем прослушиватель событий с помощью нашего хука\n  useEventListener(\"mousemove\", handler);\n  return (\n    <h1>\n    //Выводим кординаты\n      The mouse position is ({coords.x}, {coords.y})\n    </h1>\n  );\n}\n```\n\n## Вывод \n\nЕсли мне надо создать слушатель событий и при этом мне не подходят стандартные реакт события, то данный хук мой выбор. ",
      "message": "",
      "created": "2021-07-06T14:41:38.423Z",
      "creators": [
        {
          "id": "b0568c88-bb34-4420-969e-41238089a0d4",
          "uniqueName": "google#113467622262670857280",
          "displayName": "Alexander Matviienko",
          "createdAt": "2021-05-10T19:50:11.968Z",
          "updatedAt": "2021-05-10T19:50:31.732Z"
        }
      ]
    }
  },
  {
    "id": "a18d9ac4-b004-48d2-9d25-0287881c81b0",
    "emoji": null,
    "title": "Основная задумка",
    "content": "",
    "headId": 780455,
    "archivedAt": null,
    "folderPathname": "/Шаблонизация решений",
    "parentFolderId": "bf41ccc2-7e3f-48bf-97fe-8ce80f11c50f",
    "teamId": "nhFMY3a5g",
    "generated": false,
    "createdAt": "2021-07-06T12:48:27.957Z",
    "updatedAt": "2021-07-06T13:10:28.385Z",
    "version": 4,
    "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
    "workspaceId": "4ae225f9-123d-4918-a49f-e0c91bd0b18a",
    "head": {
      "id": 780455,
      "docId": "a18d9ac4-b004-48d2-9d25-0287881c81b0",
      "content": "# Основная задумка\nОсновная задумка шаблонизации состоит в создании готовых решений который можно будет максимально применить в стеке технологий React-Redux.\n\nПланируемые шаблоны\n1. Авторизация\n2. Модальные окна\n3. Окна с предупреждениями \n\nОн должен подгружать докер, а так же возможно придумать интерфейс для выбора зависимостей\n\nЭто должно быть что то на подобии Лары",
      "message": "",
      "created": "2021-07-06T13:10:28.376Z",
      "creators": [
        {
          "id": "b0568c88-bb34-4420-969e-41238089a0d4",
          "uniqueName": "google#113467622262670857280",
          "displayName": "Alexander Matviienko",
          "createdAt": "2021-05-10T19:50:11.968Z",
          "updatedAt": "2021-05-10T19:50:31.732Z"
        }
      ]
    }
  },
  {
    "id": "4b87d737-4d00-4c3f-913e-6325813cb469",
    "emoji": null,
    "title": "Роут с проверкой на аутинтификацию",
    "content": "",
    "headId": 780445,
    "archivedAt": null,
    "folderPathname": "/React/React Router/Роуты",
    "parentFolderId": "d49458d9-d2a2-48b5-919b-ee4e1d1c1438",
    "teamId": "nhFMY3a5g",
    "generated": false,
    "createdAt": "2021-07-06T12:41:34.692Z",
    "updatedAt": "2021-07-06T13:08:33.070Z",
    "version": 6,
    "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
    "workspaceId": "4ae225f9-123d-4918-a49f-e0c91bd0b18a",
    "head": {
      "id": 780445,
      "docId": "4b87d737-4d00-4c3f-913e-6325813cb469",
      "content": "# Роут с проверкой на аутинтификацию\n\nДанный роут при переходе на его адресс проверяет аутинтифицирован ли пользователь, если нет то перенаправляет на страницу регистрации.\n\n## Создание\n\n``` js\nimport React from \"react\";\nimport {Redirect, Route, useLocation} from \"react-router-dom\";\nimport {useSelector} from \"react-redux\";\nimport Layout from \"../components/Layout/index\";\n\nconst PrivateRoute = ({component: Component, ...rest}) => {\n  // Получаем информацию об авторизованности пользователя из Redux\n  const auth = useSelector(({Auth}) => Auth.auth)\n  const location = useLocation()\n  // Получаем нынешний адресс и обрезаем его \n  const query = location.pathname.slice(1)\n\n  return (\n    //Если пользователь авторизирован\n    <Route {...rest} render={props => auth ?\n      (//Разрешаем ему пройти по указанному адресу\n        <Layout>\n          <Component {...props} />\n        </Layout>\n      )//Иначе редирект на страницу входа\n      : <Redirect to={`/sign-in?redirect=${query}`}/>}/>\n  )\n}\n\nexport default PrivateRoute\n```\n\n## Применение \n\n``` js\nimport './App.css';\nimport UseRedirect from \"./hooks/useRedirect\";\nimport Profile from \"./pages/Profile\";\n\nimport Settings from \"./pages/Settings\";\n\n\nconst App = () => {\n  return (\n    <BrowserRouter>\n    \n// Разворачивается как обычный роут, указывается адресс и передается компонент на который будет совершен редирект в случае если пользователь авторизирован\n        <PrivateRoute exact path=\"/profile\" component={Profile} />\n        <PrivateRoute path=\"/settings\" component={Settings} />\n          \n    </BrowserRouter>\n  );\n}\n\nexport default App;\n```",
      "message": "",
      "created": "2021-07-06T13:08:33.061Z",
      "creators": [
        {
          "id": "b0568c88-bb34-4420-969e-41238089a0d4",
          "uniqueName": "google#113467622262670857280",
          "displayName": "Alexander Matviienko",
          "createdAt": "2021-05-10T19:50:11.968Z",
          "updatedAt": "2021-05-10T19:50:31.732Z"
        }
      ]
    }
  },
  {
    "id": "b3d33b91-d5d1-4f3f-a040-403210e861b0",
    "emoji": null,
    "title": "useAuth",
    "content": "",
    "headId": 780318,
    "archivedAt": null,
    "folderPathname": "/React/Firebase",
    "parentFolderId": "680b73ad-52a8-406e-9d8b-9817c9470077",
    "teamId": "nhFMY3a5g",
    "generated": false,
    "createdAt": "2021-07-06T11:37:50.492Z",
    "updatedAt": "2021-07-06T13:05:37.190Z",
    "version": 10,
    "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
    "workspaceId": "4ae225f9-123d-4918-a49f-e0c91bd0b18a",
    "head": {
      "id": 780318,
      "docId": "b3d33b91-d5d1-4f3f-a040-403210e861b0",
      "content": "# useAuth\n\nОчень распространенный сценарий - у вас есть набор компонентов, которые необходимо отображать по-разному в зависимости от того, вошел ли текущий пользователь в систему и иногда вызывают методы аутентификации, такие как вход, выход, sendPasswordResetEmail и т. Д. Это идеальный вариант использования useAuth, который позволяет любому компоненту получить текущее состояние аутентификации и повторно выполнить рендеринг в случае его изменения. Вместо того, чтобы каждый экземпляр  useAuth извлекал текущего пользователя, он просто вызывает useContext для получения данных с более высокого уровня в дереве компонентов. Настоящая магия происходит в нашем компоненте <ProvideAuth> и в нашем хуке useProvideAuth, который охватывает все наши методы аутентификации (в данном случае мы используем Firebase), а затем с помощью React Context делаем текущий объект аутентификации доступным для всех дочерних компонентов, вызывающих useAuth.  Еще одна причина, по которой мне нравится этот метод, заключается в том, что он аккуратно абстрагируется от нашего фактического поставщика аутентификации (Firebase), что значительно упрощает смену поставщиков в будущем.\n  \n  ## Создание\n  \n  ``` js\n  import React, { useState, useEffect, useContext, createContext } from \"react\";\nimport * as firebase from \"firebase/app\";\nimport \"firebase/auth\";\n// Добавляем учетные данный Firebase\nfirebase.initializeApp({\n  apiKey: \"\",\n  authDomain: \"\",\n  projectId: \"\",\n  appID: \"\",\n});\nconst authContext = createContext();\n// Создаем компонент провайдера, который обертывает ваше приложение и создает объект аутентификации доступен любому дочернему компоненту, который вызывает useAuth().\nexport function ProvideAuth({ children }) {\n  const auth = useProvideAuth();\n  return <authContext.Provider value={auth}>{children}</authContext.Provider>;\n}\n// Перехватчик для дочерних компонентов, чтобы получить объект аутентификации и повторно отрендерить, когда он изменится.\nexport const useAuth = () => {\n  return useContext(authContext);\n};\n// Хук провайдер, который создает объект аутентификации и обрабатывает состояние\nfunction useProvideAuth() {\n  const [user, setUser] = useState(null);\n  // Оберните любые методы Firebase, которые мы хотим использовать. чтобы сохранить пользователя в состояние.\n  const signin = (email, password) => {\n    return firebase\n      .auth()\n      .signInWithEmailAndPassword(email, password)\n      .then((response) => {\n        setUser(response.user);\n        return response.user;\n      });\n  };\n  const signup = (email, password) => {\n    return firebase\n      .auth()\n      .createUserWithEmailAndPassword(email, password)\n      .then((response) => {\n        setUser(response.user);\n        return response.user;\n      });\n  };\n  const signout = () => {\n    return firebase\n      .auth()\n      .signOut()\n      .then(() => {\n        setUser(false);\n      });\n  };\n  const sendPasswordResetEmail = (email) => {\n    return firebase\n      .auth()\n      .sendPasswordResetEmail(email)\n      .then(() => {\n        return true;\n      });\n  };\n  const confirmPasswordReset = (code, password) => {\n    return firebase\n      .auth()\n      .confirmPasswordReset(code, password)\n      .then(() => {\n        return true;\n      });\n  };\n  // Подпишитесь на пользователя на монтировании\n  // Поскольку это устанавливает состояние в обратном вызове, это приведет к повторному рендерингу любого компонента, который использует этот хук, с использованием последнего объекта аутентификации.\n  useEffect(() => {\n    const unsubscribe = firebase.auth().onAuthStateChanged((user) => {\n      if (user) {\n        setUser(user);\n      } else {\n        setUser(false);\n      }\n    });\n    // Подписка на очистку при размонтировании\n    return () => unsubscribe();\n  }, []);\n  // Вернет объект пользователя и методы аутентификации\n  return {\n    user,\n    signin,\n    signup,\n    signout,\n    sendPasswordResetEmail,\n    confirmPasswordReset,\n  };\n}\n  ```\n  \n  ## Примение\n  \n  ``` js\n  // Компонент верхнего уровня (короче самый главный после индекса)\nimport React from \"react\";\nimport { ProvideAuth } from \"./use-auth.js\";\nfunction App(props) {\n  return (\n    <ProvideAuth>\n      {/*\n        Маршрутизируйте компоненты здесь, в зависимости от того, как структурировано ваше приложение.\n        Если использовать Next.js, это будет /pages/_app.js\n      */}\n    </ProvideAuth>\n  );\n}\n// Компоненты, которые требуется для отслеживания состояния аутентификации\nimport React from \"react\";\nimport { useAuth } from \"./use-auth.js\";\nfunction Navbar(props) {\n  // Получить состояние аутентификации и повторно выполнить рендеринг если оно изменится\n  const auth = useAuth();\n  return (\n    <NavbarContainer>\n      <Logo />\n      <Menu>\n        <Link to=\"/about\">About</Link>\n        <Link to=\"/contact\">Contact</Link>\n        {auth.user ? (\n          <Fragment>\n            <Link to=\"/account\">Account ({auth.user.email})</Link>\n            <Button onClick={() => auth.signout()}>Signout</Button>\n          </Fragment>\n        ) : (\n          <Link to=\"/signin\">Signin</Link>\n        )}\n      </Menu>\n    </NavbarContainer>\n  );\n}\n  ```\n  \n  ## Вывод, если мне понадобится аутентификация работающая сfirebase? она у меня есть))",
      "message": "",
      "created": "2021-07-06T12:36:45.329Z",
      "creators": [
        {
          "id": "b0568c88-bb34-4420-969e-41238089a0d4",
          "uniqueName": "google#113467622262670857280",
          "displayName": "Alexander Matviienko",
          "createdAt": "2021-05-10T19:50:11.968Z",
          "updatedAt": "2021-05-10T19:50:31.732Z"
        }
      ]
    }
  },
  {
    "id": "49f3737e-ac75-4cdd-b2c0-0e9425ef8938",
    "emoji": null,
    "title": "useRouteMatch",
    "content": "",
    "headId": 779929,
    "archivedAt": null,
    "folderPathname": "/React/React Router/Хуки",
    "parentFolderId": "e8c09fe9-6d10-4e7e-8e77-2587c7fbf841",
    "teamId": "nhFMY3a5g",
    "generated": false,
    "createdAt": "2021-07-06T11:21:28.047Z",
    "updatedAt": "2021-07-06T11:31:42.214Z",
    "version": 4,
    "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
    "workspaceId": "4ae225f9-123d-4918-a49f-e0c91bd0b18a",
    "head": {
      "id": 779929,
      "docId": "49f3737e-ac75-4cdd-b2c0-0e9425ef8938",
      "content": "# useRouteMatch\n\nХук useRouteMatch пытается сопоставить текущий URL так же, как и <Route>. В основном это полезно для получения доступа к данным соответствия без фактического рендеринга <Route>. Короче оно сравнивает идентичность адреса компонента указанного в роуте и адреса в адресной строке. \n  \n### Теперь вместо\n  \n``` js\nimport { Route } from \"react-router-dom\";\n\nfunction BlogPost() {\n  return (\n    <Route\n      path=\"/blog/:slug\"\n      render={({ match }) => {\n        // Do whatever you want with the match...\n        return <div />;\n      }}\n    />\n  );\n}\n  ```\n      \n      \n### Можно просто\n``` js\n  import { useRouteMatch } from \"react-router-dom\";\n\nfunction BlogPost() {\n  let match = useRouteMatch(\"/blog/:slug\");\n\n  // Do whatever you want with the match...\n  return <div />;\n}    \n```",
      "message": "",
      "created": "2021-07-06T11:31:42.200Z",
      "creators": [
        {
          "id": "b0568c88-bb34-4420-969e-41238089a0d4",
          "uniqueName": "google#113467622262670857280",
          "displayName": "Alexander Matviienko",
          "createdAt": "2021-05-10T19:50:11.968Z",
          "updatedAt": "2021-05-10T19:50:31.732Z"
        }
      ]
    }
  },
  {
    "id": "e42fc4fe-7241-4bcd-ac1b-3d3187c82c16",
    "emoji": null,
    "title": "useLocation",
    "content": "",
    "headId": 779849,
    "archivedAt": null,
    "folderPathname": "/React/React Router/Хуки",
    "parentFolderId": "e8c09fe9-6d10-4e7e-8e77-2587c7fbf841",
    "teamId": "nhFMY3a5g",
    "generated": false,
    "createdAt": "2021-07-06T11:19:32.541Z",
    "updatedAt": "2021-07-06T11:22:51.325Z",
    "version": 3,
    "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
    "workspaceId": "4ae225f9-123d-4918-a49f-e0c91bd0b18a",
    "head": {
      "id": 779849,
      "docId": "e42fc4fe-7241-4bcd-ac1b-3d3187c82c16",
      "content": "# useLocation\n\nХук useLocation возвращает объект местоположения (текущий URL). Вы можете думать об этом как об useState, который возвращает новое местоположение при изменении URL-адреса.\n\nПример\n``` js\nfunction usePageViews() {\n  let location = useLocation();\n  React.useEffect(() => {\n    ga.send([\"pageview\", location.pathname]);\n  }, [location]);\n}\n\n```",
      "message": "",
      "created": "2021-07-06T11:22:51.317Z",
      "creators": [
        {
          "id": "b0568c88-bb34-4420-969e-41238089a0d4",
          "uniqueName": "google#113467622262670857280",
          "displayName": "Alexander Matviienko",
          "createdAt": "2021-05-10T19:50:11.968Z",
          "updatedAt": "2021-05-10T19:50:31.732Z"
        }
      ]
    }
  },
  {
    "id": "9c784c80-e3a5-4f52-ab95-821d62004909",
    "emoji": null,
    "title": "useRouter",
    "content": "",
    "headId": 779940,
    "archivedAt": null,
    "folderPathname": "/React/Каталог Пользовательских Хуков",
    "parentFolderId": "095537d7-d1a5-44ef-92db-303bd995d871",
    "teamId": "nhFMY3a5g",
    "generated": false,
    "createdAt": "2021-07-06T10:28:16.020Z",
    "updatedAt": "2021-07-06T11:37:52.749Z",
    "version": 10,
    "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
    "workspaceId": "4ae225f9-123d-4918-a49f-e0c91bd0b18a",
    "head": {
      "id": 779940,
      "docId": "9c784c80-e3a5-4f52-ab95-821d62004909",
      "content": "# useRouter\n\n????\n\n!!!_В этом хуке так же используется queryString это либа для обработки URL запросов_!!!\n\n## Создание\n\n``` js\nimport { useMemo } from \"react\";\nimport {\n  useParams,\n  useLocation,\n  useHistory,\n  useRouteMatch,\n} from \"react-router-dom\";\nimport queryString from \"query-string\";\n\nexport function useRouter() {\n  const params = useParams();\n  const location = useLocation();\n  const history = useHistory();\n  const match = useRouteMatch();\n  // Этот хук возвращает объект который содержит сборную солянку полезных в роутинге \n  // свойств и методов\n  // Здесь применено useMemo для того что бы данный объект обновлялся только при изменниее указанных ниже компонентов.\n  return useMemo(() => {\n    return {\n      // Методы для перенаправления, \n      push: history.push,\n      replace: history.replace,\n      pathname: location.pathname,\n      // Здесь происзодит изьятие параметров из URL и размещение их в объекте\n      // Example: /:topic?sort=popular -> { topic: \"react\", sort: \"popular\" }\n      query: {\n        ...queryString.parse(location.search), // Convert string to object\n        ...params,\n      },\n      // Так же ложим сюда хуки роута, таким образом useRoter предоставляет\n      // нам целый швейцарский нож для работы с роутами\n      match,\n      location,\n      history,\n    };\n  }, [params, match, location, history]);\n}\n```\n\n## Применение\n\n``` js\nfunction MyComponent() {\n  // Получаем объект роута, который предоставляет нам хук \n  const router = useRouter();\n  // Получаем значение из строки запроса (?postId=123) или параметр маршрута (/:postId)\n  console.log(router.query.postId);\n  // Получаме текущий адрес\n  console.log(router.pathname);\n  // Ложим переход router.push()\n  return <button onClick={(e) => router.push(\"/about\")}>About</button>;\n}\n```\n\n## Вывод \nПо сути этот хук предоставляет целый швейцарский нож для работы с роутингом. Данный хук тоже замечательно подходит для применния в каждом проекте. Он может делать все что касается переходв и адресной строки.",
      "message": "",
      "created": "2021-07-06T11:37:52.725Z",
      "creators": [
        {
          "id": "b0568c88-bb34-4420-969e-41238089a0d4",
          "uniqueName": "google#113467622262670857280",
          "displayName": "Alexander Matviienko",
          "createdAt": "2021-05-10T19:50:11.968Z",
          "updatedAt": "2021-05-10T19:50:31.732Z"
        }
      ]
    }
  },
  {
    "id": "3059d1b2-f71a-4049-9523-d3b8329af793",
    "emoji": null,
    "title": "Когда задача только появилась",
    "content": "",
    "headId": 779560,
    "archivedAt": null,
    "folderPathname": "/Общее решения",
    "parentFolderId": "1b0abfc2-935b-4ae6-a795-8ab1af7ab6d8",
    "teamId": "nhFMY3a5g",
    "generated": false,
    "createdAt": "2021-07-06T10:20:23.879Z",
    "updatedAt": "2021-07-06T10:25:53.472Z",
    "version": 3,
    "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
    "workspaceId": "4ae225f9-123d-4918-a49f-e0c91bd0b18a",
    "head": {
      "id": 779560,
      "docId": "3059d1b2-f71a-4049-9523-d3b8329af793",
      "content": "# Когда задача только появилась\n\nОписанное ниже может здорово помоч в тех случаях когда только дали проект, либо при решение задач в ходе выполннеия проекта, либо вообще когда что то плнаируешь.\n\n1. Создать блоксхему.\n2. Написать в ней задачу.\n3. Просто, не думая об их соединении создать блоки с компонентами которые могут помочь решить эту задачу. Это могут быть различные зависимости, либы, идеи и т.д. \nПросто создаю квадратики со всеми этими делами.\n4. И только после того как у меня в рабочей области созданы так сказать все компоненты для решения этой задачи можно уже думать над тем ка это все соединять. ",
      "message": "",
      "created": "2021-07-06T10:25:53.465Z",
      "creators": [
        {
          "id": "b0568c88-bb34-4420-969e-41238089a0d4",
          "uniqueName": "google#113467622262670857280",
          "displayName": "Alexander Matviienko",
          "createdAt": "2021-05-10T19:50:11.968Z",
          "updatedAt": "2021-05-10T19:50:31.732Z"
        }
      ]
    }
  },
  {
    "id": "ddab4a97-03bc-4386-a5f5-e6e6a450d62b",
    "emoji": null,
    "title": "useRequireAuth",
    "content": "",
    "headId": 779562,
    "archivedAt": null,
    "folderPathname": "/React/Firebase",
    "parentFolderId": "680b73ad-52a8-406e-9d8b-9817c9470077",
    "teamId": "nhFMY3a5g",
    "generated": false,
    "createdAt": "2021-07-06T10:01:28.740Z",
    "updatedAt": "2021-07-06T13:05:37.190Z",
    "version": 9,
    "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
    "workspaceId": "4ae225f9-123d-4918-a49f-e0c91bd0b18a",
    "head": {
      "id": 779562,
      "docId": "ddab4a97-03bc-4386-a5f5-e6e6a450d62b",
      "content": "# useRequireAuth\n\nРаспространенной потребностью является способ перенаправления пользователя, если он вышел из системы и пытается просмотреть страницу, которая должна требовать от него аутентификации. Этот пример показывает, как вы можете легко скомпоновать наши хуки useAuth и useRouter для создания нового хука useRequireAuth, который делает именно это. Конечно, эту функциональность можно было бы добавить непосредственно к нашему хуку useAuth, но тогда нам нужно будет сделать так, чтобы этот хук знал о логике нашего маршрутизатора. Используя мощь композиции хуков, мы можем сделать два других хука максимально простыми и просто использовать наш новый useRequireAuth, когда требуется перенаправление.\n\n## Создание\n\n``` js\nimport { useEffect } from \"react\";\nimport { useAuth } from \"./use-auth.js\";\nimport { useRouter } from \"./use-router.js\";\n// Создаем хук, котороый принимает в себя аргументом \n// адресс роута на который надо сделать редирект\nfunction useRequireAuth(redirectUrl = \"/signup\") {\n  // Ложим сюда результат вызова useAuth\n  const auth = useAuth();\n  // Ложим сюда результат вызова useRouter\n  const router = useRouter();\n  // Если auth.user = false, это означает, пользователь не\n  // авторизовался и его перенаправляют на страницу .\n  useEffect(() => {\n    if (auth.user === false) {\n      router.push(redirectUrl);\n    }\n  }, [auth, router]);\n  return auth;\n}\n```\n\n## Применение\n\n``` js\nfunction DashboardPage(props) {\n  //Ложим в переменную вызов хука\n  const auth = useRequireAuth();\n  // Кароче смысл заключается в том что \n  // если пользоватлеь не \n  if (!auth) {\n    return <Loading />;\n  }\n  return <Dashboard auth={auth} />;\n}\n```\n\n## Вывод \nИ еще один очень полезный хук, который может пригодится в любом проекте , так как авторизация есть везде и вот так вот просто можено сделать проверку на то авторизирован ли пользователь.",
      "message": "",
      "created": "2021-07-06T10:27:47.720Z",
      "creators": [
        {
          "id": "b0568c88-bb34-4420-969e-41238089a0d4",
          "uniqueName": "google#113467622262670857280",
          "displayName": "Alexander Matviienko",
          "createdAt": "2021-05-10T19:50:11.968Z",
          "updatedAt": "2021-05-10T19:50:31.732Z"
        }
      ]
    }
  },
  {
    "id": "1bec2c9e-3e0f-4d49-96b5-bd28c48c0aee",
    "emoji": null,
    "title": "useAsync",
    "content": "",
    "headId": 779423,
    "archivedAt": null,
    "folderPathname": "/React/Каталог Пользовательских Хуков",
    "parentFolderId": "095537d7-d1a5-44ef-92db-303bd995d871",
    "teamId": "nhFMY3a5g",
    "generated": false,
    "createdAt": "2021-07-06T09:40:16.909Z",
    "updatedAt": "2021-07-06T09:56:45.349Z",
    "version": 9,
    "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
    "workspaceId": "4ae225f9-123d-4918-a49f-e0c91bd0b18a",
    "head": {
      "id": 779423,
      "docId": "1bec2c9e-3e0f-4d49-96b5-bd28c48c0aee",
      "content": "# useAsync\n\nОбычно рекомендуется указывать пользователям статус любого асинхронного запроса. Примером может быть выборка данных из API и отображение индикатора загрузки перед отображением результатов. Другим примером может быть форма, в которой вы хотите отключить кнопку отправки, когда отправка находится на рассмотрении, а затем отображать сообщение об успешном завершении или об ошибке после ее завершения. Вместо того, чтобы засорять ваши компоненты кучей вызовов useState для отслеживания состояния асинхронной функции, вы можете использовать наш настраиваемый хук, который принимает асинхронную функцию в качестве входных данных и возвращает значения, значения ошибок и статуса, которые нам нужны должным образом. обновите наш интерфейс. Возможные значения для status prop: \"idle - неактивно\", \"pending - в ожидании\", \"success - успех\", \"error - ошибка\". Как вы увидите в приведенном ниже коде, наш хук позволяет как немедленное выполнение, так и отложенное выполнение с использованием возвращенной функции выполнения.\n\n## Создание\n``` js\n// Хук применяет в себя: асинхронную функцию и переключатель который\n// необходим для срабатывания функции которая обрабатывает асинхронных\n// код либо сразу при вызове либо в другой момент\nconst useAsync = (asyncFunction, immediate = true) => {\n  //Создаем состояния: статус, данные, ошибки\n  const [status, setStatus] = useState(\"idle\");\n  const [value, setValue] = useState(null);\n  const [error, setError] = useState(null);\n  // Функция execute обертывает asyncFunction и\n  // обрабатывает состояние  ожидания, успеха и ошибки.\n  // useCallback гарантирует, что указанный ниже useEffect не вызывается\n  // при каждом рендеринге, а только при изменении asyncFunction.\n  const execute = useCallback(() => {\n    setStatus(\"pending\");\n    setValue(null);\n    setError(null);\n    return asyncFunction()\n      .then((response) => {\n        setValue(response);\n        setStatus(\"success\");\n      })\n      .catch((error) => {\n        setError(error);\n        setStatus(\"error\");\n      });\n  }, [asyncFunction]);\n  // Вызовите execute, если мы хотим запустить его сразу.\n  // В противном случае execute может быть вызван позже, например\n  // в обработчике onClick.\n  useEffect(() => {\n    if (immediate) {\n      execute();\n    }\n  }, [execute, immediate]);\n  // Этот хук возвращает объект содержащий функцию обработчик,\n  // статус, данные и ошибки\n  return { execute, status, value, error };\n};\n```\n\n## Применение\n``` js\nfunction App() {\n  // Достаем результат вызова хука в который передали асинхронную функцию\n  // и указали что нам не надо мгновенное срабатывание функции обработчика\n  const { execute, status, value, error } = useAsync(myFunction, false);\n  return (\n    <div>\n      {status === \"idle\" && <div>Start your journey by clicking a button</div>}\n      {status === \"success\" && <div>{value}</div>}\n      {status === \"error\" && <div>{error}</div>}\n  // Пример асинхронного вызова функции отладчика\n      <button onClick={execute} disabled={status === \"pending\"}>\n        {status !== \"pending\" ? \"Click me\" : \"Loading...\"}\n      </button>\n    </div>\n  );\n}\n// Асинхронная функция для тестирования хука.\n// Будет успешно срабатывать в 50% случаев.\nconst myFunction = () => {\n  return new Promise((resolve, reject) => {\n    setTimeout(() => {\n      const rnd = Math.random() * 10;\n      rnd <= 5\n        ? resolve(\"Submitted successfully 🙌\")\n        : reject(\"Oh no there was an error 😞\");\n    }, 2000);\n  });\n};\n```\n\n## Вывод\nОчень полезный хук, применние которому можно найти в каждом проекте где есть какой либо асинхронный код, в том числе и общение с сервером. ",
      "message": "",
      "created": "2021-07-06T09:56:45.341Z",
      "creators": [
        {
          "id": "b0568c88-bb34-4420-969e-41238089a0d4",
          "uniqueName": "google#113467622262670857280",
          "displayName": "Alexander Matviienko",
          "createdAt": "2021-05-10T19:50:11.968Z",
          "updatedAt": "2021-05-10T19:50:31.732Z"
        }
      ]
    }
  },
  {
    "id": "c178f139-f825-42a3-85b6-3f7bebfbb2cb",
    "emoji": null,
    "title": "useMemoCompare",
    "content": "",
    "headId": 779264,
    "archivedAt": null,
    "folderPathname": "/React/Firebase",
    "parentFolderId": "680b73ad-52a8-406e-9d8b-9817c9470077",
    "teamId": "nhFMY3a5g",
    "generated": false,
    "createdAt": "2021-07-06T07:20:29.407Z",
    "updatedAt": "2021-07-06T13:05:37.190Z",
    "version": 17,
    "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
    "workspaceId": "4ae225f9-123d-4918-a49f-e0c91bd0b18a",
    "head": {
      "id": 779264,
      "docId": "c178f139-f825-42a3-85b6-3f7bebfbb2cb",
      "content": "# useMemoCompare\n\nЭтот хук похож на useMemo, но вместо передачи массива зависимостей мы передаем настраиваемую функцию сравнения, которая получает предыдущее и новое значение. Затем функция сравнения может сравнивать вложенные свойства, вызывать методы объекта или что-либо еще, чтобы определить равенство. Если функция сравнения возвращает истину, то ловушка возвращает старую ссылку на объект. Стоит отметить, что, в отличие от useMemo, этот хук не предназначен для избежания дорогостоящих вычислений. Ему необходимо передать вычисленное значение, чтобы оно могло сравнить его со старым значением. Это пригодится, если вы хотите предложить библиотеку другим разработчикам, и было бы неприятно заставить их запоминать объект перед передачей его в вашу библиотеку. Если этот объект создается в теле компонента (часто бывает, если он основан на реквизитах), то он будет новым объектом при каждой визуализации. Если этот объект является зависимостью useEffect, то он вызовет срабатывание эффекта при каждом рендеринге, что может привести к проблемам или даже к бесконечному циклу. Этот хук позволяет избежать этого сценария, используя старую ссылку на объект вместо новой, если ваша пользовательская функция сравнения считает их равными. Прочтите рецепт и комментарии ниже. Чтобы получить более практический пример, обязательно ознакомьтесь с нашим хуком useFirestoreQuery.\n\n## Создание\n```js\n//Объявляем функцию которая принимает аргументами следующие значение \n// и функцию сравнения, которую по всей видимости еще надо создать))\nfunction useMemoCompare(next, compare) {\n  // Ссылка для сохранения предыдущего значения\n  const previousRef = useRef();\n  const previous = previousRef.current;\n  // Передаем предыдущее и следующее значение для функции сравнения\n  // чтобы определить явялются ли они равными\n  const isEqual = compare(previous, next);\n  // Если не равно, обновить предыдущую ссылку до следующего значения.\n  // Мы обновляем только если они не равны, чтобы этот хук продолжал возвращать\n  // то же старое значение, если сравнение продолжает возвращать истину.\n  useEffect(() => {\n    if (!isEqual) {\n      previousRef.current = next;\n    }\n  });\n  // Если они равны то верни предыдущие значение\n  return isEqual ? previous : next;\n}\n```\n\n## Использование\n``` js\n//Компонент принимает в свойствах какой-то объект\nfunction MyComponent({ obj }) {\n  const [state, setState] = useState();\n  // Ложим в константу результат вызова useMemoCompare, в него передаем\n  // объект принятый через пропсы, а так же функцию которая возвращает результат\n  // сравнения прошлого и нынешнего объекта по id\n  const objFinal = useMemoCompare(obj, (prev, next) => {\n    return prev && prev.id === next.id;\n  });\n  // Здесь мы хотим активировать useEffect при изменении objFinal.\n  // Если бы мы использовали obj напрямую без вышеупомянутого хука, и obj \n  //технически был новый объект при каждом рендере, тогда useEffect будет срабатывать при каждом рендере, что влияет на производительность.\n  // Что еще хуже если useEffect вызывает изменение состояния, то это\n  // спровоцирует бесконечный цикл\n  useEffect(() => {\n    // Здесь как раз и продемонстрирован такой момент, этот useEffect\n    // меняет состояние но благодаря тому что он срабатывает только когда меняется \n    // objFinal, а не состояние и useMemoCompare\n    return objFinal.someMethod().then((value) => setState(value));\n  }, [objFinal]);\n\n  return <div> ... </div>;\n}\n```\n\n## Вывод\n\nДанный хук мне пока сложно понять, видимо сказывается отсутсвие опыта с Firebase и мне сложно представить его применение где нибудь еще (все таки он нужен в первую очередь для работы с хуком useFirestoreQuery), так что просто его запомню и все. ",
      "message": "",
      "created": "2021-07-06T09:39:32.215Z",
      "creators": [
        {
          "id": "b0568c88-bb34-4420-969e-41238089a0d4",
          "uniqueName": "google#113467622262670857280",
          "displayName": "Alexander Matviienko",
          "createdAt": "2021-05-10T19:50:11.968Z",
          "updatedAt": "2021-05-10T19:50:31.732Z"
        }
      ]
    }
  },
  {
    "id": "5ba33a1c-9a9e-42dc-8fcb-e19fa6fc3786",
    "emoji": null,
    "title": "useFirestoreQuery",
    "content": "",
    "headId": 779266,
    "archivedAt": null,
    "folderPathname": "/React/Firebase",
    "parentFolderId": "680b73ad-52a8-406e-9d8b-9817c9470077",
    "teamId": "nhFMY3a5g",
    "generated": false,
    "createdAt": "2021-07-05T14:19:12.292Z",
    "updatedAt": "2021-07-06T13:05:37.190Z",
    "version": 18,
    "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
    "workspaceId": "4ae225f9-123d-4918-a49f-e0c91bd0b18a",
    "head": {
      "id": 779266,
      "docId": "5ba33a1c-9a9e-42dc-8fcb-e19fa6fc3786",
      "content": "# useFirestoreQuery\n\nЭтот хук упрощает подписку на данные в базе данных Firestore, не беспокоясь об управлении состоянием. Вместо вызова метода query.onSnapshot () Firestore вы просто передаете запрос в useFirestoreQuery () и получаете обратно все, что вам нужно, включая статус, данные и ошибку. Ваш компонент будет повторно отображен при изменении данных, и ваша подписка будет автоматически удалена при отключении компонента. В нашем примере даже поддерживаются зависимые запросы, в которых вы можете дождаться получения необходимых данных, передав ловушке ложное значение. Прочтите рецепт и комментарии ниже, чтобы узнать, как это работает.\n\n\n## Создание\n\n``` js\nfunction useFirestoreQuery(query) {\n// Создаем состояние которое будет хранить в себе следующие свойства:\n  //1. Статус запроса (загрузка/бездействие) в зависимости от его булевого состояния.\n  //2. Данные которые приходят с запросом\n  //3. Ошибки \n  const initialState = {\n    status: query ? \"loading\" : \"idle\",\n    data: undefined,\n    error: undefined,\n  };\n  // Вызов useReducer для установки состояния и функции его меняющей\n  const [state, dispatch] = useReducer(reducer, initialState);\n  // Получить кэшированного объекта запроса Firestore с помощью useMemoCompare (https://usehooks.com/useMemoCompare)\n  // Он нужен для того что-бы firestore.collection(\"profiles\").doc(uid) возвращал новый объект\n  //  Запуская хук мы -> обновляем состояние -> обновляем компонент -> срабатывает useEffect -> etc ...\n  // Это лучше, чем требовать всегда запоминать запрос с помощью useMemo.\n  const queryCached = useMemoCompare(query, (prevQuery) => {\n    // Используйте встроенный метод Firestore isEqual, чтобы определить, \"соответствие\"\n    return prevQuery && query && query.isEqual(prevQuery);\n  });\n  useEffect(() => {\n    // В зависимости от результата срабатывает соответсвующий экшен, для загрузки \n    // или для бездействия\n    if (!queryCached) {\n      dispatch({ type: \"idle\" });\n      return;\n    }\n    dispatch({ type: \"loading\" });\n    // Подписываемся на запрос onSnapshot\n    // Отпишется при очистке, так как это возвращает функцию отписки\n    return queryCached.onSnapshot(\n      (response) => {\n        // Если данные получены \n        const data = response.docs\n          ? getCollectionData(response)\n          : getDocData(response);\n        dispatch({ type: \"success\", payload: data });\n      },\n      (error) => {\n        dispatch({ type: \"error\", payload: error });\n      }\n    );\n  }, [queryCached]); \n  return state;\n}\n// Полученные данные объединям с doc.id\nfunction getDocData(doc) {\n  return doc.exists === true ? { id: doc.id, ...doc.data() } : null;\n}\n// Получить массив данных из коллекции\nfunction getCollectionData(collection) {\n  return collection.docs.map(getDocData);\n}\n```\n\n## Использование\n\n``` js\nfunction ProfilePage({ uid }) {\n  // Подпиcываемся на  Firestore\n  const { data, status, error } = useFirestoreQuery(\n    firestore.collection(\"profiles\").doc(uid)\n  );\n  if (status === \"loading\") {\n    return \"Loading...\";\n  }\n  if (status === \"error\") {\n    return `Error: ${error.message}`;\n  }\n  return (\n    <div>\n      <ProfileHeader avatar={data.avatar} name={data.name} />\n      <Posts posts={data.posts} />\n    </div>\n  );\n}\n// Reducer изменений состояния\nconst reducer = (state, action) => {\n  switch (action.type) {\n    case \"idle\":\n      return { status: \"idle\", data: undefined, error: undefined };\n    case \"loading\":\n      return { status: \"loading\", data: undefined, error: undefined };\n    case \"success\":\n      return { status: \"success\", data: action.payload, error: undefined };\n    case \"error\":\n      return { status: \"error\", data: undefined, error: action.payload };\n    default:\n      throw new Error(\"invalid action\");\n  }\n};\n```\n\n## Вывод\n\nДанный хук мне пока сложно понять, видимо сказывается отсутсвие опыта с Firebase и мне сложно представить его применение где нибудь еще, так что просто его запомню и все. Мол есть хук, помогает подключатся к Firestore и на этом пока все.",
      "message": "",
      "created": "2021-07-06T09:40:18.837Z",
      "creators": [
        {
          "id": "b0568c88-bb34-4420-969e-41238089a0d4",
          "uniqueName": "google#113467622262670857280",
          "displayName": "Alexander Matviienko",
          "createdAt": "2021-05-10T19:50:11.968Z",
          "updatedAt": "2021-05-10T19:50:31.732Z"
        }
      ]
    }
  },
  {
    "id": "b4e0be30-bcb2-46fe-923b-0ad067b90086",
    "emoji": null,
    "title": "useToggle",
    "content": "",
    "headId": 770918,
    "archivedAt": null,
    "folderPathname": "/React/Каталог Пользовательских Хуков",
    "parentFolderId": "095537d7-d1a5-44ef-92db-303bd995d871",
    "teamId": "nhFMY3a5g",
    "generated": false,
    "createdAt": "2021-07-05T13:53:49.582Z",
    "updatedAt": "2021-07-05T14:19:14.394Z",
    "version": 5,
    "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
    "workspaceId": "4ae225f9-123d-4918-a49f-e0c91bd0b18a",
    "head": {
      "id": 770918,
      "docId": "b4e0be30-bcb2-46fe-923b-0ad067b90086",
      "content": "# useToggle\n\nПо сути, этот хук делает то, что он принимает параметр со значением true или false и переключает это значение на противоположное. Это полезно, когда мы хотим выполнить какое-либо действие с противоположным действием, например: показать и скрыть модальное окно, показать больше / показать меньше текста, открыть / закрыть боковое меню.\n\n\n## Создание\n``` js\n// Атрибут является булевым со значением по умолчанию \"false\".\nconst useToggle = (initialState = false) => {\n    // Инициализация хука useState\n    const [state, setState] = useState(initialState);\n    // Определение и запоминание функции переключателя на случай, если мы передадим компонент, \n    // Эта функция изменяет логическое значение на противоположное значение\n    const toggle = useCallback(() => setState(state => !state), []);\n    \n    return [state, toggle]\n}\n```\n\n## Использование\n``` js\nimport { useCallback, useState } from 'react';\n// Использование\nfunction App() {\n    // Вызов хука, который возвращает, текущее значение и функцию переключатель\n    const [isTextChanged, setIsTextChanged] = useToggle();\n    \n    return (\n      //Применение хука\n        <button onClick={setIsTextChanged}>{isTextChanged ? 'Toggled' : 'Click to Toggle'}</button>\n    );\n}\n```",
      "message": "",
      "created": "2021-07-05T14:19:14.381Z",
      "creators": [
        {
          "id": "b0568c88-bb34-4420-969e-41238089a0d4",
          "uniqueName": "google#113467622262670857280",
          "displayName": "Alexander Matviienko",
          "createdAt": "2021-05-10T19:50:11.968Z",
          "updatedAt": "2021-05-10T19:50:31.732Z"
        }
      ]
    }
  },
  {
    "id": "162a5721-fc7b-451c-bf40-b0ecdb3415ba",
    "emoji": null,
    "title": "Деструктуризация свойств",
    "content": "",
    "headId": 770673,
    "archivedAt": null,
    "folderPathname": "/React/Полезные фичи",
    "parentFolderId": "c6484bea-b2af-4ec6-acc0-8711f7ea8942",
    "teamId": "nhFMY3a5g",
    "generated": false,
    "createdAt": "2021-07-05T13:31:20.931Z",
    "updatedAt": "2021-07-05T13:42:12.473Z",
    "version": 7,
    "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
    "workspaceId": "4ae225f9-123d-4918-a49f-e0c91bd0b18a",
    "head": {
      "id": 770673,
      "docId": "162a5721-fc7b-451c-bf40-b0ecdb3415ba",
      "content": "# Деструктуризация свойств\n\nПомимо класической передачи свйойств в компанент в вот таком виде:\n``` js\n<input type=\"text\" onChange={e => {setValue(event.target.value)} value={value}/>\n```\n\nВозможен еще и такой вариант:\n``` js\n \nimport React, {useEffect, useState} from 'react'\n\nfunction useLogger(value) {\n  useEffect(() => {\n    console.log('Value changed: ', value)\n  }, [value])\n}\n\nfunction useInput(initialValue) {\n  const [value, setValue] = useState(initialValue)\n//Функция которая пойдет в объект с свойствами\n  const onChange = event => {\n    setValue(event.target.value)\n  }\n\n  const clear = () => setValue('')\n\n  return {\n    //Объект с свойствами\n    bind: {value, onChange},\n    value,\n    clear\n  }\n}\n\nfunction App() {\n  const input = useInput('')\n\n  useLogger(input.value)\n\n  return (\n    <div className={'container pt-3'}>\n    //Разворачивания объекта свойств\n      <input type=\"text\" {...input.bind} />\n    </div>\n  )\n}\n```\n\nТо есть в компоненте можно развернуть объект с свойствами для него. При этом свойства этого объекта должны иметь такое же названия как и зарезервированные свойства компонента",
      "message": "",
      "created": "2021-07-05T13:42:12.464Z",
      "creators": [
        {
          "id": "b0568c88-bb34-4420-969e-41238089a0d4",
          "uniqueName": "google#113467622262670857280",
          "displayName": "Alexander Matviienko",
          "createdAt": "2021-05-10T19:50:11.968Z",
          "updatedAt": "2021-05-10T19:50:31.732Z"
        }
      ]
    }
  },
  {
    "id": "07a4be83-20f8-48d7-9925-6e8bb27fdf9d",
    "emoji": null,
    "title": "Создание своих хуков",
    "content": "",
    "headId": 770170,
    "archivedAt": null,
    "folderPathname": "/React/Хуки",
    "parentFolderId": "7ecbea6c-7633-4400-b6cb-39a260c79980",
    "teamId": "nhFMY3a5g",
    "generated": false,
    "createdAt": "2021-07-05T12:19:12.171Z",
    "updatedAt": "2021-07-05T12:48:48.498Z",
    "version": 8,
    "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
    "workspaceId": "4ae225f9-123d-4918-a49f-e0c91bd0b18a",
    "head": {
      "id": 770170,
      "docId": "07a4be83-20f8-48d7-9925-6e8bb27fdf9d",
      "content": "# Создание своих хуков\n\nФишка кастомных хуков состоит в том что, это результат конструирования пользовательских функций из реактовских хуков вне компонента.\n\n## Пример таких хуков:\n```js\nfunction useLogger(value) {\n  useEffect(() => {\n    console.log('Value changed: ', value)\n  }, [value])\n}\n\n//========================================\n\nfunction useInput(initialValue) {\n  const [value, setValue] = useState(initialValue)\n\n  const onChange = event => {\n    setValue(event.target.value)\n  }\n\n  const clear = () => setValue('')\n\n  return {\n    bind: {value, onChange},\n    value,\n    clear\n  }\n}\n```\n\n## Пример применения хуков\n``` js\nfunction App() {\n  // Здесь мы ложим в переменную результат вызова хука\n  // это довольно спокойно можно сделать так как по сути хук это \n  //обычная функция\n  const input = useInput('')\n\n  useLogger(input.value)\n\n  return (\n    <div className={'container pt-3'}>\n      <input type=\"text\" {...input.bind} />\n\n      <button className=\"btn btn-warning\" onClick={() => input.clear()}>Очистить</button>\n      <hr />\n      <h1>{input.value}</h1>\n    </div>\n  )\n}\n\nexport default App\n```",
      "message": "",
      "created": "2021-07-05T12:48:46.168Z",
      "creators": [
        {
          "id": "b0568c88-bb34-4420-969e-41238089a0d4",
          "uniqueName": "google#113467622262670857280",
          "displayName": "Alexander Matviienko",
          "createdAt": "2021-05-10T19:50:11.968Z",
          "updatedAt": "2021-05-10T19:50:31.732Z"
        }
      ]
    }
  },
  {
    "id": "f1a0affb-5a31-46b6-83c6-fc9631783d34",
    "emoji": null,
    "title": "useContext",
    "content": "",
    "headId": 769849,
    "archivedAt": null,
    "folderPathname": "/React/Хуки",
    "parentFolderId": "7ecbea6c-7633-4400-b6cb-39a260c79980",
    "teamId": "nhFMY3a5g",
    "generated": false,
    "createdAt": "2021-07-05T11:09:07.753Z",
    "updatedAt": "2021-07-05T12:49:05.834Z",
    "version": 10,
    "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
    "workspaceId": "4ae225f9-123d-4918-a49f-e0c91bd0b18a",
    "head": {
      "id": 769849,
      "docId": "f1a0affb-5a31-46b6-83c6-fc9631783d34",
      "content": "# useContext\n\nЯвляется как бы облегченная версия редакса позволяющая использовать состояния заданные в __App.js__ по всем компонентам.\n\nСоздание: \n``` js\n//Создаем сам контекст\nconst AlertContext = React.createContext()\n//Создаем функцию вызов которой будет возвращать контекст\nexport const useAlert = () => {\n    return useContext(AlertContext)\n}\n```\n\nПример элемента кнтекст-обертки:\n\n``` js\nconst AlertProvider = ({children}) => {\n    const [alert, setAlert] = useState(false)\n\n    const toggle = () => setAlert(prev => !prev)\n\n    return (\n      // Передаем данные в контекст\n        <AlertContext.Provider value={{\n        visible: alert,\n            toggle\n        }}>\n            {children}\n        </AlertContext.Provider>\n    );\n};\n```\n\nИспользование контекста\n\n1. Оборачиваем элементы в контекст-обертку\n\n``` js\nfunction App() {\n\n  return (\n      //Передача данных в контекст\n      <AlertProvider >\n          <div className={'container pt-3'}>\n              <Alert/>\n              <Main/>\n          </div>\n      </AlertProvider>\n  );\n}\n```\n\n2. Вызов внутри компонента\n\n```js\n//Импорт функции возвращающей данные из контекста\nimport {useAlert} from \"../alert/AlertContext\";\n\nconst Alert = () => {\n    //Вызов функции возвращающей данные из контекста и передача данных в переменную\n    const alert = useAlert()\n    //Использование этих самых данных\n    if(!alert.visible) return null\n\n    return (\n        <div>\n    //Использование этих самых данных\n           <div className=\"alert alert-danger\" onClick={alert.toggle}>\n               Это очень важное сообщение\n           </div>\n        </div>\n    );\n};\n```\n\n3. Пример использования с useReducer\n\nuseReducer помогает не только брать данные из контекста но и изменять их\n\nПример создания контекста с useReducer\n``` js\nimport React, {useContext, useReducer} from 'react'\n// Объявление контекста\nconst AlertContext = React.createContext()\n// Функция которая будет возваращать данные из контекста\nexport const useAlert = () => {\n  return useContext(AlertContext)\n}\n// Это для типов экшена\nconst SHOW_ALERT = 'show'\nconst HIDE_ALERT = 'hide'\n// Сам редюсер, по сути тоже самое что и в Redux\nconst reducer = (state, action) => {\n  switch (action.type) {\n    case SHOW_ALERT: return {...state, visible: true, text: action.text}\n    case HIDE_ALERT: return {...state, visible: false}\n    default: return state\n  }\n}\n\nexport const AlertProvider = ({ children }) => {\n  // Инициализация useReducer первый элемент это данные, второй это\n  // по сути тот же самый диспатч что и вредаксе, useReducer первым \n  // аргументом принимает созданный выше редюсер а вторым объект-хрнаилище\n  const [state, dispatch] = useReducer(reducer, {\n    visible: false,\n    text: ''\n  })\n//Создание функций для изменнеия состояния контекста, типичные экшены\n  //состоят из объявленного типа экшена и если нада то предачи контента\n  const show = text => dispatch({ type: SHOW_ALERT, text })\n  const hide = () => dispatch({ type: HIDE_ALERT })\n\n  return (\n    <AlertContext.Provider value={{\n      visible: state.visible,\n      text: state.text,\n      show, hide\n    }}>\n        { children }\n    </AlertContext.Provider>\n  )\n}\n```\n\nПриминение:\n``` js\nexport default function Main() {\n  // Достаем данные \n  const {show} = useAlert()\n  return (\n    <>\n      <h1>Привет в примере с Context</h1>\n    //Применяем данные ))\n      <button onClick={() => show('Этот текст из Main.js')} className=\"btn btn-success\">Показать alert</button>\n    </>\n  )\n}\n```\n",
      "message": "",
      "created": "2021-07-05T12:18:21.379Z",
      "creators": [
        {
          "id": "b0568c88-bb34-4420-969e-41238089a0d4",
          "uniqueName": "google#113467622262670857280",
          "displayName": "Alexander Matviienko",
          "createdAt": "2021-05-10T19:50:11.968Z",
          "updatedAt": "2021-05-10T19:50:31.732Z"
        }
      ]
    }
  },
  {
    "id": "33d51d42-53c4-4ff3-9bb4-c3c90e68f25e",
    "emoji": null,
    "title": "useCallback",
    "content": "",
    "headId": 781057,
    "archivedAt": null,
    "folderPathname": "/React/Хуки",
    "parentFolderId": "7ecbea6c-7633-4400-b6cb-39a260c79980",
    "teamId": "nhFMY3a5g",
    "generated": false,
    "createdAt": "2021-07-05T10:56:57.225Z",
    "updatedAt": "2021-07-06T14:07:45.299Z",
    "version": 8,
    "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
    "workspaceId": "4ae225f9-123d-4918-a49f-e0c91bd0b18a",
    "head": {
      "id": 781057,
      "docId": "33d51d42-53c4-4ff3-9bb4-c3c90e68f25e",
      "content": "# useCallback\n\nИспользуется в случае передачи функции с одного компонента в другие (понятно что в дочерние). Что бы избежать лишнего перерендера того самого родительского компонента.  Так как изменние родительского \n\n## Пример \n``` js\nconst memoizedCallback = useCallback(\n  () => {\n    doSomething(a, b);\n  },\n  [a, b],\n);\n```\n\nКак видно синтаксис тут весьма прост. Создаем обычную функцию только оборачиваем ее в\nuseCallback, внутри которого первым аргументом прописываем функционал, а вторым указываем зависимости. Как правило это те элементы от которых зависит работа функции. Что грубо говоря значит, \"если поменялись эти элементы, то обнови пожалуйста всю функцию что бы обновились эти самые элементы внутри нее, а то не будем же мы работать со старыми значениями.\"",
      "message": "",
      "created": "2021-07-06T14:07:45.286Z",
      "creators": [
        {
          "id": "b0568c88-bb34-4420-969e-41238089a0d4",
          "uniqueName": "google#113467622262670857280",
          "displayName": "Alexander Matviienko",
          "createdAt": "2021-05-10T19:50:11.968Z",
          "updatedAt": "2021-05-10T19:50:31.732Z"
        }
      ]
    }
  },
  {
    "id": "4d72d89a-3470-4538-91c6-db747091587e",
    "emoji": null,
    "title": "useMemo",
    "content": "",
    "headId": 769307,
    "archivedAt": null,
    "folderPathname": "/React/Хуки",
    "parentFolderId": "7ecbea6c-7633-4400-b6cb-39a260c79980",
    "teamId": "nhFMY3a5g",
    "generated": false,
    "createdAt": "2021-07-05T10:44:29.834Z",
    "updatedAt": "2021-07-05T12:48:55.450Z",
    "version": 6,
    "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
    "workspaceId": "4ae225f9-123d-4918-a49f-e0c91bd0b18a",
    "head": {
      "id": 769307,
      "docId": "4d72d89a-3470-4538-91c6-db747091587e",
      "content": "# useMemo\n\nПозволяет создавать функции запуск которых будет в зависимости от установленного состояния. То есть вспомним что компненты реакта хлебом не корми дай перерендерится, и следовательно функции могут запускатся без нужной на то потребности. useMemo устанавливает зависимость от изменения которой и будет запускатся функция. Так же useMemo позволяет кешировать объекты\n\n``` js\nimport React, {useState, useMemo, useEffect} from 'react'\n\nfunction complexCompute(num) {\n  console.log('complexCompute')\n  let i = 0\n  while (i < 1000000000) i++\n  return num * 2\n}\n\nfunction App() {\n  const [number, setNumber] = useState(42)\n  const [colored, setColored] = useState(false)\n// Закешированный объект\n  const styles = useMemo(() => ({\n    color: colored ? 'darkred' : 'black'\n  }), [colored])\n// Закешированный вызов функции\n  const computed = useMemo(() => {\n    return complexCompute(number)\n  }, [number])\n\n  useEffect(() => {\n    console.log('Styles changed')\n  }, [styles])\n\n  return (\n    <>\n      <h1 style={styles}>Вычисляемое свойство: {computed}</h1>\n      <button className={'btn btn-success'} onClick={() => setNumber(prev => prev + 1)}>Добавить</button>\n      <button className={'btn btn-danger'} onClick={() => setNumber(prev => prev - 1)}>Убрать</button>\n      <button className={'btn btn-warning'} onClick={() => setColored(prev => !prev)}>Изменить</button>\n    </>\n  )\n}\n\nexport default App\n```",
      "message": "",
      "created": "2021-07-05T10:56:44.259Z",
      "creators": [
        {
          "id": "b0568c88-bb34-4420-969e-41238089a0d4",
          "uniqueName": "google#113467622262670857280",
          "displayName": "Alexander Matviienko",
          "createdAt": "2021-05-10T19:50:11.968Z",
          "updatedAt": "2021-05-10T19:50:31.732Z"
        }
      ]
    }
  },
  {
    "id": "65b8c7fd-f18e-4e50-91d1-7261f0f86038",
    "emoji": null,
    "title": "useRef",
    "content": "",
    "headId": 781462,
    "archivedAt": null,
    "folderPathname": "/React/Хуки",
    "parentFolderId": "7ecbea6c-7633-4400-b6cb-39a260c79980",
    "teamId": "nhFMY3a5g",
    "generated": false,
    "createdAt": "2021-07-05T10:27:20.166Z",
    "updatedAt": "2021-07-06T14:50:32.657Z",
    "version": 11,
    "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
    "workspaceId": "4ae225f9-123d-4918-a49f-e0c91bd0b18a",
    "head": {
      "id": 781462,
      "docId": "65b8c7fd-f18e-4e50-91d1-7261f0f86038",
      "content": "# useRef\n\n\n1. useRef можно использовать как и useState только в отличие от useState изменения состояния useRef не вызывает перерендеринг.\n2. Через useRef можно получить DOM элемент. Так же через него удобнор задавть фокус на элемент\n3. Можно получать значение предыдущего состояния.\n\n``` js\nimport React, {useState, useEffect, useRef} from 'react'\n\nfunction App() {\n  // const [renderCount, setRenderCount] = useState(1)\n  const [value, setValue] = useState('initial')\n  const renderCount = useRef(1)\n  const inputRef = useRef()\n  const prevValue = useRef('')\n\n  useEffect(() => {\n    renderCount.current++\n  })\n\n  useEffect(() => {\n    prevValue.current = value\n  }, [value])\n\n  const focus = () => inputRef.current.focus()\n\n  return (\n    <div>\n      <h1>Количество рендеров: {renderCount.current}</h1>\n      <h2>Прошлое состояние: {prevValue.current}</h2>\n      <input ref={inputRef} type=\"text\" onChange={e => setValue(e.target.value)} value={value} />\n      <button className=\"btn btn-success\" onClick={focus}>Фокус</button>\n    </div>\n  )\n}\n\nexport default App\n``` \n\nВажно заметить что \"состяния\" useRef с легкостью меняются через обращение к свойству .current в отличие от того же useState",
      "message": "",
      "created": "2021-07-06T14:50:32.649Z",
      "creators": [
        {
          "id": "b0568c88-bb34-4420-969e-41238089a0d4",
          "uniqueName": "google#113467622262670857280",
          "displayName": "Alexander Matviienko",
          "createdAt": "2021-05-10T19:50:11.968Z",
          "updatedAt": "2021-05-10T19:50:31.732Z"
        }
      ]
    }
  },
  {
    "id": "853652ca-8641-476e-9b74-544c78775447",
    "emoji": null,
    "title": "useEffect",
    "content": "",
    "headId": 781383,
    "archivedAt": null,
    "folderPathname": "/React/Хуки",
    "parentFolderId": "7ecbea6c-7633-4400-b6cb-39a260c79980",
    "teamId": "nhFMY3a5g",
    "generated": false,
    "createdAt": "2021-07-05T09:22:04.913Z",
    "updatedAt": "2021-07-06T14:39:09.594Z",
    "version": 9,
    "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
    "workspaceId": "4ae225f9-123d-4918-a49f-e0c91bd0b18a",
    "head": {
      "id": 781383,
      "docId": "853652ca-8641-476e-9b74-544c78775447",
      "content": "# useEffect\n\nПример с функциями:\n```js\nimport React, { useState, useEffect } from 'react';\n\nfunction Example() {\n  const [count, setCount] = useState(0);\n\n  // Аналогично componentDidMount и componentDidUpdate:\n  useEffect(() => {\n    // Обновляем заголовок документа с помощью API браузера\n    document.title = `Вы нажали ${count} раз`;\n  });\n\n  return (\n    <div>\n      <p>Вы нажали {count} раз</p>\n      <button onClick={() => setCount(count + 1)}>\n        Нажми на меня\n      </button>\n    </div>\n  );\n}\n```\n\nПример с использованием классов:\n\ncomponentDidMount -  при первом рендере\ncomponentDidUpdate - при обноваленнии компонента\ncomponentWillUnmount - вызывается непосредственно перед размонтированием и удалением компонента. В этом методе выполняется необходимый сброс: отмена таймеров, сетевых запросов и подписок, созданных в componentDidMount()\n``` js \nclass Example extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      count: 0\n    };\n  }\n\n  componentDidMount() {\n    document.title = `Вы нажали ${this.state.count} раз`;\n  }\n  componentDidUpdate() {\n    document.title = `Вы нажали ${this.state.count} раз`;\n  }\n\n  render() {\n    return (\n      <div>\n        <p>Вы нажали {this.state.count} раз</p>\n        <button onClick={() => this.setState({ count: this.state.count + 1 })}>\n          Нажми на меня\n        </button>\n      </div>\n    );\n  }\n}\n```\n\nСлушатель событий в useEffect\n\n``` js\nimport React, {useState, useEffect} from 'react'\n\nfunction App() {\n  const [type, setType] = useState('users')\n  const [pos, setPos] = useState({\n    x: 0, y: 0\n  })\n\n\n  useEffect(() => {\n    return () => {\n      console.log('clean type')\n    }\n  }, [type])\n\n  const mouseMoveHandler = event => {\n    setPos({\n      x: event.clientX,\n      y: event.clientY\n    })\n  }\n\n  useEffect(() => {\n    console.log('ComponentDidMount')\n\n    window.addEventListener('mousemove', mouseMoveHandler)\n\n    return () => {\n      window.removeEventListener('mousemove', mouseMoveHandler)\n    }\n  }, [])\n\n  return (\n    <div>\n      <h1>Ресурс: {type}</h1>\n      {/*<pre>{JSON.stringify(data, null, 2)}</pre>*/}\n      <pre>{JSON.stringify(pos, null, 2)}</pre>\n    </div>\n  )\n}\n\nexport default App\n```\n\nЕсли в useEffect добавить возврат функции, то данный код будет выполнятся в случае размонтирования компонента. \n\n",
      "message": "",
      "created": "2021-07-06T14:39:09.582Z",
      "creators": [
        {
          "id": "b0568c88-bb34-4420-969e-41238089a0d4",
          "uniqueName": "google#113467622262670857280",
          "displayName": "Alexander Matviienko",
          "createdAt": "2021-05-10T19:50:11.968Z",
          "updatedAt": "2021-05-10T19:50:31.732Z"
        }
      ]
    }
  },
  {
    "id": "72379e6f-34b3-436a-a6d6-fcd6217bfa4a",
    "emoji": null,
    "title": "useState",
    "content": "",
    "headId": 768353,
    "archivedAt": null,
    "folderPathname": "/React/Хуки",
    "parentFolderId": "7ecbea6c-7633-4400-b6cb-39a260c79980",
    "teamId": "nhFMY3a5g",
    "generated": false,
    "createdAt": "2021-07-05T09:09:41.794Z",
    "updatedAt": "2021-07-05T12:48:59.957Z",
    "version": 5,
    "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
    "workspaceId": "4ae225f9-123d-4918-a49f-e0c91bd0b18a",
    "head": {
      "id": 768353,
      "docId": "72379e6f-34b3-436a-a6d6-fcd6217bfa4a",
      "content": "# useState\nФункциональный пример \n``` js\n import { useState } from 'react';\n\n  function Example() {\n    // Объявляем новую переменную состояния, которую назовём \"count\"\n    const [count, setCount] = useState(0);\n\n    return (\n      <div>\n        <p>Вы кликнули {count} раз</p>\n        <button onClick={() => setCount(count + 1)}>\n          Кликни меня!\n        </button>\n      </div>\n    );\n  }\n```\n\nКлассовый пример \n``` js\nclass Example extends React.Component {\n    constructor(props) {\n      super(props);\n      this.state = {\n        count: 0\n      };\n    }\n  \n    render() {\n      return (\n        <div>\n          <p>Вы кликнули {this.state.count} раз</p>\n          <button onClick={() => this.setState({ count: this.state.count + 1 })}>\n            Кликни меня\n          </button>\n        </div>\n      );\n    }\n  }\n```\n\nВажное замечание, при изменении состояния компонент делает перерендер.",
      "message": "",
      "created": "2021-07-05T09:17:58.647Z",
      "creators": [
        {
          "id": "b0568c88-bb34-4420-969e-41238089a0d4",
          "uniqueName": "google#113467622262670857280",
          "displayName": "Alexander Matviienko",
          "createdAt": "2021-05-10T19:50:11.968Z",
          "updatedAt": "2021-05-10T19:50:31.732Z"
        }
      ]
    }
  },
  {
    "id": "f8ac9c1b-3305-4312-a007-3b9ce42c1d2f",
    "emoji": null,
    "title": "Пример работы веб3 с метамаск",
    "content": "",
    "headId": 762579,
    "archivedAt": null,
    "folderPathname": "/Blockchain #2",
    "parentFolderId": "44b0a8e3-276e-4cba-a267-3be954756ad2",
    "teamId": "nhFMY3a5g",
    "generated": false,
    "createdAt": "2021-07-04T13:53:37.673Z",
    "updatedAt": "2021-07-19T08:19:46.235Z",
    "version": 3,
    "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
    "workspaceId": "a26b69f4-c521-4719-9766-2da1c713b767",
    "head": {
      "id": 762579,
      "docId": "f8ac9c1b-3305-4312-a007-3b9ce42c1d2f",
      "content": "# Пример работы веб3 с метамаск\n\n``` js\nimport {Tabs, Tab} from 'react-bootstrap'\n//Подключаем abi контракта банка\nimport dBank from '../abis/dBank.json'\nimport React, {Component} from 'react';\n//Подключаем abi контракта токена\nimport Token from '../abis/Token.json'\nimport dbank from '../dbank.png';\nimport Web3 from 'web3';\nimport './App.css';\n\n//h0m3w0rk - add new tab to check accrued interest\n\nclass App extends Component {\n\n    async componentWillMount() {\n        await this.loadBlockchainData(this.props.dispatch)\n    }\n\n    // Функция загрузки данных с блокчейна\n    async loadBlockchainData(dispatch) {\n        //Если метамаск подключеная\n        if (window.ethereum) {\n            //Достаем Web3 и ложим в константу\n            const web3 = new Web3(window.ethereum)\n            //Получаем id сети подключения к блокчейну\n            //В данном случае к Ganache\n            //но может быть и другая сеть\n            const netId = await web3.eth.net.getId()\n            //Получаем учетные запись подключенную к метамаске\n            const accounts = await web3.eth.getAccounts()\n            //Если мы получаем аккаунт\n            if (accounts[0]) {\n                //Получаем баланс\n                const balance = await web3.eth.getBalance(accounts[0])\n                //Добавляем все эти парметры в объект аккаунта созданного в состоянии\n                this.setState({\n                    account: accounts[0],\n                    balance: balance,\n                    web3: web3\n                })\n                //Иначе просим пользователя авторизоватся\n            } else {\n                alert('Please login with MetaMask')\n            }\n            //Код ниже работает не всегда стабильно, поэтому его рекоменндуется заключить в try catch\n            try {\n                //Создаем объект контракта токена и банка предавая в класс аргументами abi контракта и его адресс\n                const token = new web3.eth.Contract(Token.abi, Token.networks[netId].address)\n                const dbank = new web3.eth.Contract(dBank.abi, dBank.networks[netId].address)\n                //Получаем адресс контракта банка и ложим ранее полученные данные в состояние\n                const dBankAddress = dBank.networks[netId].address\n                //Получаем баланс токенов\n                console.log('this')\n                const tokenBalance = await token.methods.balanceOf(this.state.account).call()\n                console.log('this2')\n                console.log(web3.utils.fromWei(tokenBalance))\n                this.setState({token, dbank, dBankAddress})\n\n            } catch (e) {\n                console.log('Error ', e)\n                alert('Contracts not deployed to the current network')\n            }\n\n\n        } else {\n            //Иначе выводим сообщение с просьбой установить метамаску\n            alert('Please install MetaMask')\n        }\n\n    }\n\n    async deposit(amount) {\n        // Проверяем соединение с контрактом\n        if(this.state.dbank){\n            // Следующий код не всегда стабилен так что оборачиваем в try catch\n            try {\n                //Вызываем у контракта метод для начисления депозита указываем в функции send() сколько и от кого передаем\n                await this.state.dbank.methods.deposit().send({value: amount.toString(), from: this.state.account})\n            }catch (e) {\n                console.log('Error, deposit: ', e)\n            }\n        }\n\n    }\n\n    async withdraw(e) {\n        // Проверяем соединение с контрактом\n        if(this.state.dbank){\n            // Следующий код не всегда стабилен так что оборачиваем в try catch\n            try {\n                //Вызываем у контракта метод для вывода депозита указываем в функции send() на чей счет выводим передаем\n                await this.state.dbank.methods.withdraw().send({from: this.state.account})\n            }catch (e) {\n                console.log('Error, deposit: ', e)\n            }\n        }\n\n    }\n\n    constructor(props) {\n        super(props)\n        //Состояние учетной записи подключенной к блокчейну\n        this.state = {\n            web3: 'undefined',\n            account: '',\n            token: null,\n            dbank: null,\n            balance: 0,\n            dBankAddress: null\n        }\n    }\n\n    render() {\n        return (\n            <div className='text-monospace'>\n                <nav className=\"navbar navbar-dark fixed-top bg-dark flex-md-nowrap p-0 shadow\">\n                    <a\n                        className=\"navbar-brand col-sm-3 col-md-2 mr-0\"\n                        href=\"http://www.dappuniversity.com/bootcamp\"\n                        target=\"_blank\"\n                        rel=\"noopener noreferrer\"\n                    >\n                        <img src={dbank} className=\"App-logo\" alt=\"logo\" height=\"32\"/>\n                        <b>dBank</b>\n                    </a>\n                </nav>\n                <div className=\"container-fluid mt-5 text-center\">\n                    <br></br>\n                    <h1>Welcome to dBank</h1>\n                    <h2>\n                        {/*Выводим адресс кошелько пользователя*/}\n                        {this.state.account}\n                    </h2>\n                    <br></br>\n                    <div className=\"row\">\n                        <main role=\"main\" className=\"col-lg-12 d-flex text-center\">\n                            <div className=\"content mr-auto ml-auto\">\n                                <Tabs defaultActiveKey=\"profile\" id=\"uncontrolled-tab-example\">\n                                    {/*Создаем табы вкладов и выводов*/}\n                                    <Tab eventKey=\"deposit\" title=\"Deposit\">\n                                        <div>\n                                            <br/>\n                                            How much do you want to deposit?\n                                            <br/>\n                                            (min. amount is 0.01 ETH)\n                                            <br/>\n                                            (1 deposit is possible at the time)\n                                            <br/>\n                                            {/*Создаем форму для вкладов*/}\n                                            <form action=\"#\" onSubmit={e => {\n                                                e.preventDefault()\n                                                //Тут мы вытягиваем значение у инпута\n                                                let amount = this.depositAmount.value\n                                                //Конвертируем полученное значение в вэй\n                                                amount = amount * 10**18\n                                                // Передаем полученную сумму в функцию для начисления депозита\n                                                this.deposit(amount)\n                                            }}>\n                                                <div className=\"form-group mr-sm-2\">\n                                                    <br/>\n                                                    <input type=\"number\" className=\"form-control form-control-md\"\n                                                           placeholder=\"amount...\"\n                                                           // С помощью этого кода мы вытягиваем значения с инпута\n                                                            //Таким образом мы как бы владываем в свойство объекта компонента\n                                                           required ref={input => this.depositAmount = input}\n                                                           id=\"depositAmount\" step=\"0.01\"/>\n                                                </div>\n                                                <button type='submit' className=\"btn btn-primary\">\n                                                    DEPOSIT\n                                                </button>\n                                            </form>\n                                        </div>\n                                    </Tab>\n                                    <Tab eventKey=\"withdraw\" title=\"Withdraw\">\n                                        <div>\n                                            <br/>\n                                            How much do you want to withdraw + take interest?\n                                            <br/>\n                                            <br/>\n                                            <div>\n                                                {/*При клике на эту кнопку запускается функция вывода*/}\n                                                <button type='submit' className=\"btn btn-primary\" onClick={e => this.withdraw(e)}>\n                                                    WITHDRAW\n                                                </button>\n                                            </div>\n                                        </div>\n                                    </Tab>\n                                </Tabs>\n                            </div>\n                        </main>\n                    </div>\n                </div>\n            </div>\n        );\n    }\n}\n\nexport default App;\n```",
      "message": "",
      "created": "2021-07-04T13:54:14.986Z",
      "creators": [
        {
          "id": "b0568c88-bb34-4420-969e-41238089a0d4",
          "uniqueName": "google#113467622262670857280",
          "displayName": "Alexander Matviienko",
          "createdAt": "2021-05-10T19:50:11.968Z",
          "updatedAt": "2021-05-10T19:50:31.732Z"
        }
      ]
    }
  },
  {
    "id": "c93a009e-7a94-4800-9a16-56ed0579f477",
    "emoji": null,
    "title": "Пример миграции",
    "content": "",
    "headId": 762577,
    "archivedAt": null,
    "folderPathname": "/Blockchain #2",
    "parentFolderId": "44b0a8e3-276e-4cba-a267-3be954756ad2",
    "teamId": "nhFMY3a5g",
    "generated": false,
    "createdAt": "2021-07-04T13:52:31.573Z",
    "updatedAt": "2021-07-19T08:19:46.235Z",
    "version": 3,
    "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
    "workspaceId": "a26b69f4-c521-4719-9766-2da1c713b767",
    "head": {
      "id": 762577,
      "docId": "c93a009e-7a94-4800-9a16-56ed0579f477",
      "content": "# Пример миграции\n\n```js\n//Импортируем коонтракты\nconst Token = artifacts.require(\"Token\");\nconst dBank = artifacts.require(\"dBank\");\n\n\n//Стоит понимать для контекста что dBank будет назначен еще чеканником токенов\nmodule.exports = async function(deployer) {\n\t//разварачиваем Token (создаем объект токена в блокчейне)\n    await deployer.deploy(Token)\n\t//Присваиваем токен переменной, что бы получить его адресс\n    //Ложим объект токена в переменную\n\tconst token = await Token.deployed()\n\t//передать адрес токена для контракта dBank (для будущего чеканника)\n    //получается тут мы деплоим в блокчейн контракт dBank с передачей в качестве аргумента адресса токена\n    //то что совершается с адреcом дальше описано в контракте dBank\n    //то есть по сути развертывание контракта в блокчейне, значит создания объекта\n    //на основе контракта (который на самом деле является класом)\n    //если код ниже перевести на человеческий язык то выйдет\n    //\"deployer Создай объект dBank и передай ему в качестве аргумента token.address()\"\n    await deployer.deploy(dBank, token.address)\n    //Присваиваем dBank переменной, что бы получить его адресс\n    //Ложим вышесозданный объект dBank в переменную\n    const dbank = await dBank.deployed()\n\t//меняем чеканника токена с деплоя на dBank\n    //Путем вызова функции которую мы подготовили заранее в контракте токена\n    //Вызываем из объекта token функцию повидение которой мы заранее прописали в родительском классе\n    //и передаем туда аргумента dbank.address (адресс объекта контаркта dbank в блокчейне)\n    await token.passMinterRole(dbank.address)\n};\n```",
      "message": "",
      "created": "2021-07-04T13:53:27.513Z",
      "creators": [
        {
          "id": "b0568c88-bb34-4420-969e-41238089a0d4",
          "uniqueName": "google#113467622262670857280",
          "displayName": "Alexander Matviienko",
          "createdAt": "2021-05-10T19:50:11.968Z",
          "updatedAt": "2021-05-10T19:50:31.732Z"
        }
      ]
    }
  },
  {
    "id": "2394442a-fc67-4b43-99e5-7d0579de3209",
    "emoji": null,
    "title": "Пример файла для тестов",
    "content": "",
    "headId": 762541,
    "archivedAt": null,
    "folderPathname": "/Blockchain #2",
    "parentFolderId": "44b0a8e3-276e-4cba-a267-3be954756ad2",
    "teamId": "nhFMY3a5g",
    "generated": false,
    "createdAt": "2021-07-04T13:51:42.515Z",
    "updatedAt": "2021-07-19T08:19:46.235Z",
    "version": 3,
    "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
    "workspaceId": "a26b69f4-c521-4719-9766-2da1c713b767",
    "head": {
      "id": 762541,
      "docId": "2394442a-fc67-4b43-99e5-7d0579de3209",
      "content": "# Пример файлов для тестов \n\n``` js\nimport { tokens, ether, ETHER_ADDRESS, EVM_REVERT, wait } from './helpers'\n//Подключаем контракт для проведения над ними тестов\nconst Token = artifacts.require('./Token')\nconst DecentralizedBank = artifacts.require('./dBank')\n//Подключаем библиотеку которая нам поможет в тестировании\nrequire('chai')\n  .use(require('chai-as-promised'))\n  .should()\n\n//Функция contract нужна для инициальзации контракта с дальнейшим тестированием\n\n//Перед запуском каждой функции contract () ваши контракты повторно развертываются\n// на работающем клиенте Ethereum, поэтому тесты в нем выполняются с чистым состоянием контракта.\n\n//Функция contract () предоставляет список учетных записей, доступных вашему клиенту Ethereum,\n// который вы можете использовать для написания тестов.\ncontract('dBank', ([deployer, user, ...rest]) => {\n  console.log(deployer, user, ...rest)\n  //Создаем переменные в которые мы в дальнейшем положим объекты контрактов\n  let dbank, token\n  const interestPerSecond = 31668017 //(10% APY) for min. deposit (0.01 ETH)\n// Хуки - beforeAll, beforeEach, afterAll и afterEach - нужны для выполнения действий по настройке и демонтажу до и после каждого теста\n// ???или до и после запуска каждого пакета???.\n// Допустим код в beforeEach выполняется перед каждым тестом\n  beforeEach(async () => {\n    //Создаем объект по контракту (классу) токена и ложим в заготовленную переменную\n    token = await Token.new()\n    //Создаем объект по контракту (классу) банка и ложим в заготовленную переменную\n    const address = token.address\n    dbank = await DecentralizedBank.new(address)\n    //Вызываем функцию назначения чеканником банка первым аргументом передаем адресс бакнка в блокчейне\n    //Вторым адресс деплоера (чеканника по умолчанию)\n    await token.passMinterRole(dbank.address, {from: deployer})\n  })\n//describe это как бы объявлкение группы тестов\n  //Первым аргументом у него идет название группы тестов\n  //вторым функция в которой все эти тесты и прописаны\n  //Как видим из примера ниже могут быть группы в группах\n  //Оьбязательно должна быть как минимум группа тестов для положительного сценария и отрицательного (сценария ошибки)\n  describe('проверка контракта токена...', () => {\n    describe('успех', () => {\n      //it это объявление самого теста первым идет имя а вторам функция в которой прописано что\n      //этот тест должен сделать\n      it('проверка имени токена', async () => {\n        // expect  функция для построения утверждений,\n        // В случае необходимости есть также некоторые предостережения и дополнительные инструменты для их преодоления.\n\n        //Далее в этом тесте мы с помощью to.be.eq формируем следующие утверждение\n        //результат token.name() должен быть 'Decentralized Bank Currency'\n        expect(await token.name()).to.be.eq('Decentralized Bank Currency')\n      })\n\n      it('проверка абривиатуры токена', async () => {\n        //Тут же в утверждении мы делаем тест на то что\n        //Значение полученное в token.symbol() должно быть 'DBC'\n        expect(await token.symbol()).to.be.eq('DBC')\n      })\n\n      it('проверка первоначального общего количества токенов', async () => {\n        //Здесь идет проверка на то что общее количество токенов должно быть 0\n        expect(Number(await token.totalSupply())).to.eq(0)\n      })\n\n      it('проверка является ли dBank чеканником', async () => {\n        //Здесь мы проверяем стал ли чеканником dbank\n        //То есть таким образом мы проверяем результат работы функции token.passMinterRole\n        expect(await token.minter()).to.eq(dbank.address)\n      })\n    })\n\n    //здесь мы создали группу тестов на ошибки\n    describe('ошибки', () => {\n      //\n      it('передача роли минтера должна быть отклонена', async () => {\n        await token.passMinterRole(user, {from: deployer}).should.be.rejectedWith(EVM_REVERT)\n      })\n\n      it('чеканка токенов должна быть отклонена', async () => {\n        await token.mint(user, '1', {from: deployer}).should.be.rejectedWith(EVM_REVERT) //unauthorized minter\n      })\n    })\n  })\n\n  describe('тест функционала депозитов...', () => {\n    //Сюда будем ложить баланс\n    let balance\n\n    describe('успех', () => {\n      beforeEach(async () => {\n        //Перед началом теста мы начисляем 0.1 эфира (10**16 вей) на адресс рядового пользователя\n        // от имени того же самого пользователя\n        await dbank.deposit({value: 10**16, from: user}) //0.01 ETH\n      })\n\n      it('баланс должен увеличиться', async () => {\n        //Проверяем увлеичился ли баланс пользователя в банке\n        //Чел. яз. \"Баланс пользователя должен быть 10**16\"\n        expect(Number(await dbank.etherBalanceOf(user))).to.eq(10**16)\n      })\n\n      it('время зачисления депозита > 0', async () => {\n        //чел. яз. \"Является ли результат вызова функции depositStart больше 0\"\n        expect(Number(await dbank.depositStart(user))).to.be.above(0)\n      })\n\n      it('проверка есть ли депозит в принципе', async () => {\n        //Чел. яз. вернет ли isDeposited true\n        expect(await dbank.isDeposited(user)).to.eq(true)\n      })\n    })\n\n    describe('ошибки', () => {\n      it('отказ при повторном внесенние депозита', async () => {\n        //Создаем депозит, потом пытаемся создать депозит снова\n        await dbank.deposit({value: 10**16, from: user})\n        await dbank.deposit({value: 10**16, from: user}).should.be.rejectedWith()\n      })\n      it('внесение депозита должно быть отклонено', async () => {\n        //Чел. яз. \"Попытайся создать депозит на сумму 0.001ETH функция должна вернуть отказ\"\n        await dbank.deposit({value: 10**15, from: user}).should.be.rejectedWith(EVM_REVERT) //to small amount\n      })\n    })\n  })\n\n  describe('тест вывода...', () => {\n    let balance\n\n    describe('успех', () => {\n//Перед началом тестирования необходимо\n      beforeEach(async () => {\n        //Положить депозит\n        await dbank.deposit({value: 10**16, from: user}) //0.01 ETH\n        // Функция которая искуственно прокручивает время на 2 дня вперед (эта функция создана автором ролика и не является\n        // частью библиотеки)\n        await wait(2) //accruing interest\n        //Получаем баланс пользователя и ложим в переменную\n        balance = await web3.eth.getBalance(user)\n        //Запускаем функцию вывода с депозита\n        await dbank.withdraw({from: user})\n      })\n\n      it('balances should decrease', async () => {\n        expect(Number(await web3.eth.getBalance(dbank.address))).to.eq(0)\n        expect(Number(await dbank.etherBalanceOf(user))).to.eq(0)\n      })\n\n      it('вывод денег пользователю обратно', async () => {\n        expect(Number(await web3.eth.getBalance(user))).to.be.above(Number(balance))\n      })\n\n      it('user should receive proper amount of interest', async () => {\n        //time synchronization problem make us check the 1-3s range for 2s deposit time\n        balance = Number(await token.balanceOf(user))\n        expect(balance).to.be.above(0)\n        expect(balance%interestPerSecond).to.eq(0)\n        expect(balance).to.be.below(interestPerSecond*4)\n      })\n\n      it('проверка сброшен ли депозит после вывода средств', async () => {\n        expect(Number(await dbank.depositStart(user))).to.eq(0)\n        expect(Number(await dbank.etherBalanceOf(user))).to.eq(0)\n        expect(await dbank.isDeposited(user)).to.eq(false)\n      })\n    })\n\n    describe('ошибка', () => {\n      it('withdrawing should be rejected', async () =>{\n        await dbank.deposit({value: 10**16, from: user}) //0.01 ETH\n        await wait(2) //accruing interest\n        await dbank.withdraw({from: deployer}).should.be.rejectedWith(EVM_REVERT) //wrong user\n      })\n    })\n  })\n})\n```",
      "message": "",
      "created": "2021-07-04T13:52:33.695Z",
      "creators": [
        {
          "id": "b0568c88-bb34-4420-969e-41238089a0d4",
          "uniqueName": "google#113467622262670857280",
          "displayName": "Alexander Matviienko",
          "createdAt": "2021-05-10T19:50:11.968Z",
          "updatedAt": "2021-05-10T19:50:31.732Z"
        }
      ]
    }
  },
  {
    "id": "e85257b8-0076-45f9-b10b-86b0e6864766",
    "emoji": null,
    "title": "Пример контракта банка с возможность вклада и вывода депозита",
    "content": "",
    "headId": 762531,
    "archivedAt": null,
    "folderPathname": "/Blockchain #2",
    "parentFolderId": "44b0a8e3-276e-4cba-a267-3be954756ad2",
    "teamId": "nhFMY3a5g",
    "generated": false,
    "createdAt": "2021-07-04T13:46:57.681Z",
    "updatedAt": "2021-07-19T08:19:46.235Z",
    "version": 3,
    "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
    "workspaceId": "a26b69f4-c521-4719-9766-2da1c713b767",
    "head": {
      "id": 762531,
      "docId": "e85257b8-0076-45f9-b10b-86b0e6864766",
      "content": "# Пример контракта банка с возможность вклада и вывода депозита\n\n``` php\n// SPDX-License-Identifier: MIT\npragma solidity >=0.6.0 <0.8.0;\n//Импортируем контракт создания токена\nimport \"./Token.sol\";\n\ncontract dBank {\n\n  //Создаем переменную для контракта токена\n  Token private token;\n  //add mappings\n  //делаем маппинг адресс депозита => его счет\n  //маппинг - это спопсоб хранения данных в блокчейне в виде асоциативного массива\n  //в двнном случае мы создаем асоциативный массив с адресом демозита и адресом пользователя которому\n  //этот депозит принадлежит\n  //как я понял это надо делать всякий раз когда собираешься положить что то в блокчейн\n  mapping(address => uint) public etherBalanceOf;\n  //создаем массив со значением когда депозит был создан, что бы начислять процентные ставки\n  mapping(address => uint) public depositStart;\n  //массив со статусами депозитов\n  mapping(address => bool) public isDeposited;\n\n  //Добавляем событие, создаем в нем один индексированный параметр\n  // как я понял по индексированным парамтрам можно потом проводить сортировку\n  // по сути это как бы форма для логов во время срабатывания функции где инециализировано\n  // это событие будет создан объект с параметрами которые мы в событие пердаем,\n  // который затем мы сможем прочитать\n  event Deposit(address indexed user, uint etherAmoint, uint timeStart);\n  event Withdraw(address indexed user, uint etherAmoint, uint depositTime, uint interest);\n  //В качестве аргумента конструктор принимает развернутый контракт токена\n  constructor(Token _token) public {\n    //Ложим контракт токена в переменную\n    token = _token;\n  }\n  //Функция создания депозита\n  function deposit() payable public {\n    //Проверка, есть ли у этого пользователя депозит\n    require(isDeposited[msg.sender] == false, 'Error, deposit alredy active');\n    //Проврка является ли сумма вклада больше 0.01ETH\n    require(msg.value >= 1e16, 'Error, deposit must be >= 0.01ETH');\n    //check if msg.value is >= than 0.01 ETH\n    //Добавляем или создаем если нету на счет пользователя эфира кол-во которого он передал при вызове функции\n    etherBalanceOf[msg.sender] = etherBalanceOf[msg.sender] + msg.value;\n    //в асоциативный массив с датами депозитных вкладов, добавляем новую запись\n    //block.timestamp - возвращает текущее время с момента создания системы unix\n    depositStart[msg.sender] = depositStart[msg.sender] + block.timestamp;\n    //increase msg.sender ether deposit balance\n    //start msg.sender hodling time\n\n    //Переключаем статус депозита на истинну\n    isDeposited[msg.sender] = true;\n    //инициализируем событие передавая туда необходимы параметры\n    emit Deposit(msg.sender, msg.value, block.timestamp);\n\n  }\n\n  //Функция снятия депозита\n  function withdraw() public {\n    //Проверка активности депозита\n    require(isDeposited[msg.sender]==true, 'Error, no previous deposit');\n    //Получаем баланс депозита пользователя\n    uint userBalance = etherBalanceOf[msg.sender];\n    //Путем разницы настоящего времени и времени создания депозита получаем срок жизни депозита\n    uint depositTime = block.timestamp - depositStart[msg.sender];\n\n    //Расчет процентной ставки в секунду\n    //31668017 = секунд в год - проценты (10% годовых) сумма депозита (0,01 ETH), потому что:\n    //1e15 = 10% от 0,01 ETH / 31577600 (секунды в 365,25 дней)\n\n    //(etherBalanceOf [msg.sender] / 1e16) - вычисл. насколько выше будут проценты (исходя из депозита), например:\n    //для мин. депозит (0,01 ETH), (etherBalanceOf [msg.sender] / 1e16) = 1 (то же самое, 31668017 / с)\n    // для депозита 0,02 ETH, (etherBalanceOf [msg.sender] / 1e16) = 2 (удвоено, (2 * 31668017) / с)\n\n    // кол-во секунд в год умножаем на деление баланса депозита на 0.01ETH\n    uint interestPerSecond = 31668017 * (etherBalanceOf[msg.sender] / 1e16);\n\n    //Умножаем процент в секунду на кол-во секунд жизни депозита\n    //и получаем процентную ставку\n    uint interest = interestPerSecond * depositTime;\n\n    //send eth to user\n    //Вызываем функцию transfer() и передаем в нее кол-во денег на депозите пользователя\n    //эта функция занимается переводом эфира\n    msg.sender.transfer(userBalance);\n\n    //send interest in tokens to user\n    //отправляем пользователю в виде процентной ставки токены\n    token.mint(msg.sender, interest);\n    //Сбрасываем счетчик жизни депозита\n    depositStart[msg.sender] = 0;\n    //Сбрасываем баланс пользователя на 0\n  etherBalanceOf[msg.sender] = 0;\n    //Ставим статус депозита неактивным\n    isDeposited[msg.sender] = false;\n    //Возвращаем лог события\n    emit Withdraw(msg.sender, userBalance, depositTime, interest);\n  }\n\n  function borrow() payable public {\n    //check if collateral is >= than 0.01 ETH\n    //check if user doesn't have active loan\n\n    //add msg.value to ether collateral\n\n    //calc tokens amount to mint, 50% of msg.value\n\n    //mint&send tokens to user\n\n    //activate borrower's loan status\n\n    //emit event\n  }\n\n  function payOff() public {\n    //check if loan is active\n    //transfer tokens from user back to the contract\n\n    //calc fee\n\n    //send user's collateral minus fee\n\n    //reset borrower's data\n\n    //emit event\n  }\n}\n```",
      "message": "",
      "created": "2021-07-04T13:47:54.321Z",
      "creators": [
        {
          "id": "b0568c88-bb34-4420-969e-41238089a0d4",
          "uniqueName": "google#113467622262670857280",
          "displayName": "Alexander Matviienko",
          "createdAt": "2021-05-10T19:50:11.968Z",
          "updatedAt": "2021-05-10T19:50:31.732Z"
        }
      ]
    }
  },
  {
    "id": "806a8695-cebc-4d62-be1e-e0857826b278",
    "emoji": null,
    "title": "Создание контракта ERC-20 токена",
    "content": "",
    "headId": 762528,
    "archivedAt": null,
    "folderPathname": "/Blockchain #2",
    "parentFolderId": "44b0a8e3-276e-4cba-a267-3be954756ad2",
    "teamId": "nhFMY3a5g",
    "generated": false,
    "createdAt": "2021-07-04T13:38:35.254Z",
    "updatedAt": "2021-07-19T08:19:46.235Z",
    "version": 7,
    "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
    "workspaceId": "a26b69f4-c521-4719-9766-2da1c713b767",
    "head": {
      "id": 762528,
      "docId": "806a8695-cebc-4d62-be1e-e0857826b278",
      "content": "# Создание контракта ERC-20 токена\n1. Ставим библиотеку __openzepplin__ ```npm install @openzeppelin/contracts```\n2. Создаем файл __ContractName.sol__\n3. Вставляем туда вот этот код:\n\n``` php\n// SPDX-License-Identifier: MIT\n//Указываем используемую версию языка solidity\npragma solidity >=0.6.0 <0.8.0;\n//имортируем шаблон ERC20 токена из библиотеки openzeppelin\nimport \"@openzeppelin/contracts/token/ERC20/ERC20.sol\";\n\n// объявляем контракт и наследуем его от ERC20 шаблона из openzeppelin\ncontract Token is ERC20 {\n    //добавить переменную адресс пользователя который будет менять эфир на токен (чеканник)\n    address public minter;\n    mapping(address => uint256) private _balances;\n\n  //добавить событие на измение чеканника\n    event MinterChanged(address indexed from, address to);\n\n  //В аргументы конструктора необходимо передать полное название валюты и краткое имя\n  constructor() public payable ERC20(\"Decentralized Bank Currency\", \"DBC\") {\n    //Присваиваем адресной переменной адресс пользователя который запускает\n    //функцию контракта (что бы получить токены в обмен на эфир (чеканник))\n      minter = msg.sender;\n  }\n\n  //Функция назначения роли чеканника, принимает в себя адресс кому надо присвоить роль чеканника\n    function passMinterRole(address dBank) public returns (bool) {\n        //Идет проверка, вызвал ли эту функцию чеканник\n        require(msg.sender==minter, 'Error, only owner can change pass minter role');\n        //Если да то роль ментора переназначется на адресс переданный в аргументе\n        minter = dBank;\n        //Запуск события которое проверяет состояние смарт-контракта в конце работы функции\n        emit MinterChanged(msg.sender, dBank);\n        return true;\n    }\n\n\n  function mint(address account, uint256 amount) public {\n    //check if msg.sender have minter role\n      //Провряем является ли пользователь вызывающий эту функцию чеканником\n      //Если нет то выведем сообщение \"Вы не являетесь чеканником\"\n        require(msg.sender == minter, 'Error, msg.sender does not have minter role');\n      //Функция которая совершает обмен эфира на токены и зачисялет на адресс чеканника\n\t\t_mint(account, amount);\n\t}\n}\n```\n\nВсе класический контракт токена готов.",
      "message": "",
      "created": "2021-07-04T13:46:38.344Z",
      "creators": [
        {
          "id": "b0568c88-bb34-4420-969e-41238089a0d4",
          "uniqueName": "google#113467622262670857280",
          "displayName": "Alexander Matviienko",
          "createdAt": "2021-05-10T19:50:11.968Z",
          "updatedAt": "2021-05-10T19:50:31.732Z"
        }
      ]
    }
  },
  {
    "id": "a5e1cea2-2d6c-4815-9755-b668ef584d18",
    "emoji": null,
    "title": "Тайм-коды",
    "content": "",
    "headId": 762190,
    "archivedAt": null,
    "folderPathname": "/Blockchain #2",
    "parentFolderId": "44b0a8e3-276e-4cba-a267-3be954756ad2",
    "teamId": "nhFMY3a5g",
    "generated": false,
    "createdAt": "2021-07-04T10:34:04.199Z",
    "updatedAt": "2021-07-19T08:19:46.235Z",
    "version": 32,
    "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
    "workspaceId": "a26b69f4-c521-4719-9766-2da1c713b767",
    "head": {
      "id": 762190,
      "docId": "a5e1cea2-2d6c-4815-9755-b668ef584d18",
      "content": "# Тайм-коды\n\n## Введение\n\n1:11 - 5:00 Краткий экскурс в устройство криптовалюты.\n\n5:00 - 7:48 Расказывает о зависимостях используемых в проекте.\n \n 1. Node.js - среда для выполнения js вне браузера\n  2. Truffle - среда для работы с смарт-контрактами\n  3. Solidity - язык создания смарт-контрактов\n  4. Mocha & Chai - библиотеки для тестирования смарт-контрактов перед заливаом в блокчейн\n  5. Web3.js - библиотека для взаимодействия с блокчейном с фронта\n  6. MetaMask - Плагин для браузера помогающий взаимодействовать с блокчейном с фронта\n\n## Экскурс в принцип работы проекта\n\n7:48 - 10:32 Скачивание стартового шаблона с гита и краткое объяснение содержимого папки __src__ и __test__\n\n10:32 - 12:13 Объяснения работы проекта со стороны фронта и бэка\n\nЗдесь автор говорит от том что в качестве блокчейна у нас выступает Ganache. Будут применятся два смарт-контракта, для банка и для токена. И о тома что на фронте будет стоять Web3.js для взаимодействия с блокчейном (и с контрактами банка и токена по совместительству).\n\n12:13 - 16:30 Описание работы контракта токена, краткое описание работы банка и объяснения что есть ERC-20 токен\n\nБанк будет принимать эфир в качестве депозита и начислять проценты в виде токенов. Расказывает что ERC-20 токен это стандарт который объясняет что из себя должен представлять контракт токена (который по своей сути является криптовалютой, хоть и на базе эфириума)\n\n16:3Д - 27:00 Применение шаблона из библиотеки __openzeppelin__ для создания ERC-20 токена. \n  \n27:00 - 32:00 Компиляция контракта в abi и создание миграции\n  Перед созданием миграции для начала файл надо скомпилить в abi а после прописав все что надо в файл миграций делать миграцию контрактов в блокчейн\n  \n32:00 - 45:48 Работа с контрактами c помощью web3.js в среде truffle console\nПлюс объяснения того что в web3 зачастую работают с вэй это намиенший номинал в эфириуме равне 1\\18 эфира. \n\n45:48 - Создание контракта банка и написание тестовП",
      "message": "",
      "created": "2021-07-04T12:27:37.954Z",
      "creators": [
        {
          "id": "b0568c88-bb34-4420-969e-41238089a0d4",
          "uniqueName": "google#113467622262670857280",
          "displayName": "Alexander Matviienko",
          "createdAt": "2021-05-10T19:50:11.968Z",
          "updatedAt": "2021-05-10T19:50:31.732Z"
        }
      ]
    }
  },
  {
    "id": "34b1883d-a1db-4c25-943d-c06dff477f2f",
    "emoji": null,
    "title": "Создание блок-схем",
    "content": "",
    "headId": 762337,
    "archivedAt": null,
    "folderPathname": "/Создание блок-схем",
    "parentFolderId": "9120e89a-117b-4875-9699-27f0ec46efb7",
    "teamId": "nhFMY3a5g",
    "generated": false,
    "createdAt": "2021-07-04T09:40:05.524Z",
    "updatedAt": "2021-07-04T13:14:09.859Z",
    "version": 5,
    "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
    "workspaceId": "4ae225f9-123d-4918-a49f-e0c91bd0b18a",
    "head": {
      "id": 762337,
      "docId": "34b1883d-a1db-4c25-943d-c06dff477f2f",
      "content": "# Создание блок-схем\n1. Сначала просто сделать квадратики с названиями элементов.\n2. Не стоит забывать что тут есть контейнеры и даже с надписями\n3. Хороший прием делать стрелочки с текстовыми блоками",
      "message": "",
      "created": "2021-07-04T13:14:09.849Z",
      "creators": [
        {
          "id": "b0568c88-bb34-4420-969e-41238089a0d4",
          "uniqueName": "google#113467622262670857280",
          "displayName": "Alexander Matviienko",
          "createdAt": "2021-05-10T19:50:11.968Z",
          "updatedAt": "2021-05-10T19:50:31.732Z"
        }
      ]
    }
  },
  {
    "id": "1d329ae9-7f3e-403a-a0b4-480711373718",
    "emoji": null,
    "title": "Event in Solidity",
    "content": "",
    "headId": 741195,
    "archivedAt": null,
    "folderPathname": "/Blockchain #2",
    "parentFolderId": "44b0a8e3-276e-4cba-a267-3be954756ad2",
    "teamId": "nhFMY3a5g",
    "generated": false,
    "createdAt": "2021-07-01T14:03:16.924Z",
    "updatedAt": "2021-07-19T08:19:46.235Z",
    "version": 8,
    "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
    "workspaceId": "a26b69f4-c521-4719-9766-2da1c713b767",
    "head": {
      "id": 741195,
      "docId": "1d329ae9-7f3e-403a-a0b4-480711373718",
      "content": "# Event in Solidity\n\nСобытия нужны для того, чтобы отслеживать реальные изменения, вызванные в смарт-контракте транзакцией. Ибо одна и та же транзакция в зависимости от текущего состояния смарт-контракта может иметь различное действие.\n\nКак я понял события нужны для отслеживания состояний смарт-контракта. Работают они по следующиму принципу. \n\nСначал надо объявить что событие отслеживает в теле контракта, затем в конце функции вызвать это событие и передать в него изменные параметры.\n\nЗатем эти события можно выводить\n\n\n\n",
      "message": "",
      "created": "2021-07-01T14:14:13.462Z",
      "creators": [
        {
          "id": "b0568c88-bb34-4420-969e-41238089a0d4",
          "uniqueName": "google#113467622262670857280",
          "displayName": "Alexander Matviienko",
          "createdAt": "2021-05-10T19:50:11.968Z",
          "updatedAt": "2021-05-10T19:50:31.732Z"
        }
      ]
    }
  },
  {
    "id": "d3422fd8-a6c2-440d-9051-f5d6a40cace8",
    "emoji": null,
    "title": "Справка по переменным и функциям",
    "content": "",
    "headId": 740732,
    "archivedAt": null,
    "folderPathname": "/Blockchain #2",
    "parentFolderId": "44b0a8e3-276e-4cba-a267-3be954756ad2",
    "teamId": "nhFMY3a5g",
    "generated": false,
    "createdAt": "2021-07-01T13:32:21.677Z",
    "updatedAt": "2021-07-19T08:19:46.235Z",
    "version": 5,
    "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
    "workspaceId": "a26b69f4-c521-4719-9766-2da1c713b767",
    "head": {
      "id": 740732,
      "docId": "d3422fd8-a6c2-440d-9051-f5d6a40cace8",
      "content": "# Справка по переменным и функциям\n\n## msg\nГлобальная переменная msg - содержат свойства, разрешающие доступ к блокчейну. Например, msg.sender всегда является адресом, откуда пришел текущий (внешний) вызов функции.\n\n1. msg.data - полные данные calldata, которые являются неизменяемой, непостоянной областью, где аргументы функции хранятся и ведут себя в основном как память.\n2. msg.gas - возвращает доступный gas, оставшийся для текущей транзакции\n3. msg.sig - первые четыре байта calldata для функции, которая определяет функцию, которая должна быть вызвана (т. е. идентификатор функции). \n4. msg.value - количество wei, отправленное с сообщением к контракту (wei - это номинал ETH)",
      "message": "",
      "created": "2021-07-01T13:38:58.375Z",
      "creators": [
        {
          "id": "b0568c88-bb34-4420-969e-41238089a0d4",
          "uniqueName": "google#113467622262670857280",
          "displayName": "Alexander Matviienko",
          "createdAt": "2021-05-10T19:50:11.968Z",
          "updatedAt": "2021-05-10T19:50:31.732Z"
        }
      ]
    }
  },
  {
    "id": "e4894632-f75f-490f-b86d-ffda5e42cd31",
    "emoji": null,
    "title": "Типизация в Solidity",
    "content": "",
    "headId": 740479,
    "archivedAt": null,
    "folderPathname": "/Blockchain #2",
    "parentFolderId": "44b0a8e3-276e-4cba-a267-3be954756ad2",
    "teamId": "nhFMY3a5g",
    "generated": false,
    "createdAt": "2021-07-01T13:04:37.466Z",
    "updatedAt": "2021-07-19T08:19:46.235Z",
    "version": 8,
    "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
    "workspaceId": "a26b69f4-c521-4719-9766-2da1c713b767",
    "head": {
      "id": 740479,
      "docId": "e4894632-f75f-490f-b86d-ffda5e42cd31",
      "content": "# Типизация в Solidity\n\n## Booleans\nЛогические значения в Solidity могут быть истинными или ложными. Логическое значение определяется ключевым словом bool.\n\n## Числа\nСуществует два основных типа целых чисел разного размера в Solidity:\n1. int - целые числа со знаком (могут быть как отрицательными так и положительными).\n2. uint - целые числа без знака (только положительные).\n\n## Числа с фиксированой точкой\n1. fixed - любое число с фиксированной точкой.\n2. ufixed - только положительное число с фиксированной точкой.\n\n## Адресс\nТип значения Address Solidity имеет два похожих вида:\n1. address - содержит 20-байтовое значение (размер адреса Ethereum).\n2. address payable -  содержит адресса участников передачи и отправки.\n\nПримечание: есть два различия между адресами смарт-контрактов: __address payable__, подлежащий оплате, может получать эфир, а простой __address__ - нет.\n___\n### Правила преобразования адресов\nC __address payable__ на __address__ преобразовать можно, наоборот нельзя.\n___\n\n\n## Типы контрактов\n",
      "message": "",
      "created": "2021-07-01T13:19:12.051Z",
      "creators": [
        {
          "id": "b0568c88-bb34-4420-969e-41238089a0d4",
          "uniqueName": "google#113467622262670857280",
          "displayName": "Alexander Matviienko",
          "createdAt": "2021-05-10T19:50:11.968Z",
          "updatedAt": "2021-05-10T19:50:31.732Z"
        }
      ]
    }
  },
  {
    "id": "bb7122f3-9219-4b67-9d51-c5411562e612",
    "emoji": null,
    "title": "OpenZeppelin",
    "content": "",
    "headId": 740129,
    "archivedAt": null,
    "folderPathname": "/Blockchain #2",
    "parentFolderId": "44b0a8e3-276e-4cba-a267-3be954756ad2",
    "teamId": "nhFMY3a5g",
    "generated": false,
    "createdAt": "2021-07-01T12:52:04.837Z",
    "updatedAt": "2021-07-19T08:19:46.235Z",
    "version": 3,
    "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
    "workspaceId": "a26b69f4-c521-4719-9766-2da1c713b767",
    "head": {
      "id": 740129,
      "docId": "bb7122f3-9219-4b67-9d51-c5411562e612",
      "content": "# OpenZeppelin\n\nOpenZeppelin Contracts помогает минимизировать риски, используя проверенные в боях библиотеки смарт-контрактов для Ethereum и других блокчейнов. Он включает наиболее часто используемые реализации стандартов ERC.\n\n",
      "message": "",
      "created": "2021-07-01T12:56:37.853Z",
      "creators": [
        {
          "id": "b0568c88-bb34-4420-969e-41238089a0d4",
          "uniqueName": "google#113467622262670857280",
          "displayName": "Alexander Matviienko",
          "createdAt": "2021-05-10T19:50:11.968Z",
          "updatedAt": "2021-05-10T19:50:31.732Z"
        }
      ]
    }
  },
  {
    "id": "b84a5416-39a3-41a0-9393-d5bf4678e770",
    "emoji": null,
    "title": "ERC-20 TOKEN",
    "content": "",
    "headId": 740074,
    "archivedAt": null,
    "folderPathname": "/Blockchain #2",
    "parentFolderId": "44b0a8e3-276e-4cba-a267-3be954756ad2",
    "teamId": "nhFMY3a5g",
    "generated": false,
    "createdAt": "2021-07-01T12:32:38.928Z",
    "updatedAt": "2021-07-19T08:19:46.235Z",
    "version": 5,
    "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
    "workspaceId": "a26b69f4-c521-4719-9766-2da1c713b767",
    "head": {
      "id": 740074,
      "docId": "b84a5416-39a3-41a0-9393-d5bf4678e770",
      "content": "# ERC-20 TOKEN\n\nЭти токены лежат на плотформе эфириума которая состоит из блокчейна способного хранить смарт-контракты и виртуальной машины, которая поддерживает работу смарт-контрактов. Токены лежат непосредтсвенно на блокчейне.\n\nТокен может быть создан с помощью смарт-контракта. Который помимо тсоздания токена должен отвечать еще и за проведение транзакций и отслеживания баланса.\n\nВ итого такой смарт контракт выступает в роле обменника, если в него передат __Ether__ он выдает заранее запрограмированное количество токенов.\n\nECR-20 - это стандарт который определяет 6 функций для смарт контракта создающего токены. Помио этого надо еще обязательно выбрать название токена и его символ.\n\nОбязательные функции:\n1. Указать максимальное кол-во создаваемых токенов.\nКогда этот лимит достигнут, смарт контракт прекратит выпуск новых токенов.\n2. Decimals параметр - он определяет кол-во цифр после запятой для токена\n3. BalanceOF - записывает количесто токенов у держателя.\n4. Transer - берет токены из общего кол-ва и перечисляет их пользователю\n5. TransferFROM - используется для передачи токенов между двумя пользователями.\n6. Aprove - проверяет может ли смарт-контракт выдать необходимое кол-во токенов пользователю.\n7. Allowance - проверяет что пользователь имеет достаточно токенов что бы отправить их кому то другому.",
      "message": "",
      "created": "2021-07-01T12:48:15.106Z",
      "creators": [
        {
          "id": "b0568c88-bb34-4420-969e-41238089a0d4",
          "uniqueName": "google#113467622262670857280",
          "displayName": "Alexander Matviienko",
          "createdAt": "2021-05-10T19:50:11.968Z",
          "updatedAt": "2021-05-10T19:50:31.732Z"
        }
      ]
    }
  },
  {
    "id": "c4233110-c1ba-4134-b8bc-bab6c3247c07",
    "emoji": null,
    "title": "About project",
    "content": "",
    "headId": 739739,
    "archivedAt": null,
    "folderPathname": "/Blockchain #2",
    "parentFolderId": "44b0a8e3-276e-4cba-a267-3be954756ad2",
    "teamId": "nhFMY3a5g",
    "generated": false,
    "createdAt": "2021-07-01T12:07:59.037Z",
    "updatedAt": "2021-07-19T08:19:46.235Z",
    "version": 3,
    "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
    "workspaceId": "a26b69f4-c521-4719-9766-2da1c713b767",
    "head": {
      "id": 739739,
      "docId": "c4233110-c1ba-4134-b8bc-bab6c3247c07",
      "content": "# About project\nЭто проект электронного банка, в котором можно хранить крипту, и даже установить процентную ставку.",
      "message": "",
      "created": "2021-07-01T12:09:48.444Z",
      "creators": [
        {
          "id": "b0568c88-bb34-4420-969e-41238089a0d4",
          "uniqueName": "google#113467622262670857280",
          "displayName": "Alexander Matviienko",
          "createdAt": "2021-05-10T19:50:11.968Z",
          "updatedAt": "2021-05-10T19:50:31.732Z"
        }
      ]
    }
  },
  {
    "id": "2232c7b7-9b1c-4631-8c30-7f2709cd7aaf",
    "emoji": null,
    "title": "Create smart-contract part 3",
    "content": "",
    "headId": 727279,
    "archivedAt": null,
    "folderPathname": "/Blockchain",
    "parentFolderId": "3d191c81-9f87-4528-9d7b-4bea4377f1f3",
    "teamId": "nhFMY3a5g",
    "generated": false,
    "createdAt": "2021-06-30T08:31:08.209Z",
    "updatedAt": "2021-07-19T08:19:49.889Z",
    "version": 26,
    "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
    "workspaceId": "a26b69f4-c521-4719-9766-2da1c713b767",
    "head": {
      "id": 727279,
      "docId": "2232c7b7-9b1c-4631-8c30-7f2709cd7aaf",
      "content": "# Create smart-contract part 3\n\n1. Далее прежде чем создавать смарт контракты хорошое практикой считается перед этим написать план что контракт должен делать. Допустим наш будущий контракт должен.\n    1. Создавать Пост\n    2. Выдавать список всех постов\n    3. А так же разрешать другим пользователям оставлять чаевые.\n\n2. Теперь напишем заготовки по тесты ибо создав список действий для контракта мы уже четко представляем себе что он должен делать и можем написать для этого тесты для более четкого понимания ситуации. \n\n```js\ndescribe('posts', async () => {\n  it('create posts', async () => {\n  \n  })\n  it('list posts', async () => {\n  \n  })\n  it('allow users to tip posts', async () => {\n  \n  })\n     })\n```\n\n3. Переходим в код контракта и создаем функцию позволяющую создавать посты. Она будет принимать в себя текст будущего поста.\n\n!!!Важно, локальные переменные (которые используется непосредственно внутри контракта по соглашению помечаются спереди нижним прочерком)\n\n``` sol\n  function createPost(string memory _content) public {\n  _content;\n  }\n```\n\n4. Далее нам надо будет создать стрктуру Поста. По сути это объект с строготипизированными свойствами как и все в языке solidaty. После передаем его в метод __mapping()__ который сопоставляет какието значения с уникальными адресами. Под которым будет хранится определенное значение в блокчейне. И ложим это дело в публичную переменную. Нам необходим индификатор для каждого поста. Для этого создаем переменную счетчик которая при каждом создании поста будет увеличиватся  на единицу.\n``` sol\ncontract SocialNetwork {\n    string public name;\n    usint public postCount = 0;\n    mapping(uint => Post) public posts;\n    \n    struct Post {\n    uint id;\n    string content;\n    uint tipAmount;\n    adress author;\n    }\n\n    constructor() public {\n        name = \"Dapp University Social Network\";\n    }\n    function createPost(string memory _content) public {\n    //Increment thr post count\n    postCount ++;\n    //Create the post\n    posts[postCount] = Post(postCount, _content, 0, msg.sender);\n    }\n}\n```\n\n5. Теперь начнем тестировать все это дело. Для этого в заранее созданной функции для тестирования  пишим следующий код. И проверем счетчик, который при запуске функции должен увеличится  на единицу.\n```js\ndescribe('posts', async () => {\n  let result, postCount\nit('create posts', async () => {\n  result = await socialNetwork.createPost('This is my first post', { from: author})\n  postCount = await socialNetwork.postCount()\n  // SUCCESS\n  assert.equal(postCount, 1)\n})\n}\n```\n\n6. Теперь создадим событие создания постов. И инициализируем его внутри функции создания постов.\n``` sol\ncontract SocialNetwork {\n    string public name;\n    usint public postCount = 0;\n    mapping(uint => Post) public posts;\n    \n    struct Post {\n       uint id;\n       string content;\n       uint tipAmount;\n       adress author;\n    }\n\n    event PostCreated(\n       uint id;\n       string content;\n       uint tipAmount;\n       adress author;\n    );\n    constructor() public {\n        name = \"Dapp University Social Network\";\n    }\n    function createPost(string memory _content) public {\n    //Increment thr post count\n    postCount ++;\n    //Create the post\n    posts[postCount] = Post(postCount, _content, 0, msg.sender);\n    // Trigger Event\n    emit PostCreated(PostCount, _content, 0, msg.sender)\n    }\n}\n```\n",
      "message": "",
      "created": "2021-06-30T09:45:55.018Z",
      "creators": [
        {
          "id": "b0568c88-bb34-4420-969e-41238089a0d4",
          "uniqueName": "google#113467622262670857280",
          "displayName": "Alexander Matviienko",
          "createdAt": "2021-05-10T19:50:11.968Z",
          "updatedAt": "2021-05-10T19:50:31.732Z"
        }
      ]
    }
  },
  {
    "id": "c36db737-26ed-4d1d-8352-b88f748c44ae",
    "emoji": null,
    "title": "Create smart-contract part 2",
    "content": "",
    "headId": 725924,
    "archivedAt": null,
    "folderPathname": "/Blockchain",
    "parentFolderId": "3d191c81-9f87-4528-9d7b-4bea4377f1f3",
    "teamId": "nhFMY3a5g",
    "generated": false,
    "createdAt": "2021-06-30T07:35:46.720Z",
    "updatedAt": "2021-07-19T08:19:49.889Z",
    "version": 24,
    "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
    "workspaceId": "a26b69f4-c521-4719-9766-2da1c713b767",
    "head": {
      "id": 725924,
      "docId": "c36db737-26ed-4d1d-8352-b88f748c44ae",
      "content": "# Create smart-contract part 2\n### !!! Важно: как только контракт оказывается в блокчейне, он там остается навсегда и его невозможно изменить илбо удалить!!!\n1. Создадим среду для тестирования написанного кода смарт-контрактов. Для этого создаем папку ./test и в ней создаем прототип файла контрактов сейчас это __SocialNetwork.js__ . И теперь наша работа будет складыватся с написания кода в .sol файле и тестов для него в .js . Для этого нам понадобится установить две библиотеки.\n      1. MOCHA ```npm i mocha```\n      2. Chai ```npm i chai```\n\n2. Теперь вернемся к нашему файлу для тестирования. Импортируем в него смарт-контракт\n```js\nconst SocialNetwork = artifacts.require(\"SocialNetwork\");\n```\n\n3. Импортируем __chai__.\n\n```js\nrequire(\"chai\")\n    .use(require('chai-as-promised'))\n    .should()\n```\n    \n4. Теперь развернем наш контракт. C помощью функции __contract__ которая принимает в себя первым аргументом имя контракта, а вторым callback функцию в которй зарезервированы аргументы \n    1. Массив с учетными записями. \n```js\ncontract('socialNetwork', (accounts) => {\n  \n})\n```\n\n5. Теперь давайте занесем контракт в переменную и сделаем тест, чему равен адресс смарт контракта\n\n```js\ncontract('SocialNetwork', (accounts) => {\n  let SocialNetwork\n  \n  describe('deployment', async () => { //описываем что происходит внутри обратного вызова этой функции\n    it('deploys successfully', async () => { //Название теста и его код\n    socialNetwork = await SocialNetwork.deployed()\n    const address = await SocialNetwork.address\n    assert.notEqual(address, 0x0)//эта функция сравнения выдает оошибку если первый аргумент не равен второму\n      assert.notEqual(address, '')\n      assert.notEqual(address, null)\n      assert.notEqual(address, undefined)\n    })\n  }) \n})\n```\nИ выполняем в консоли ```truffle test```. Смотрим на его результаты.\n     \n6. Теперь создадим тест на наличие имени в контракте (той переменной которую мы создавали в первой части. А так же познакомимся в с функцией __before()__ в которй мы можем выполнить какой либо код перед тестированием, к примеру инициализировать контракт.\n```js\ncontract('SocialNetwork', (accounts) => {\n  let SocialNetwork\n  before(async () => {\n    socialNetwork = await SocialNetwork.deployed()\n  })\n  \n  describe('deployment', async () => { \n    it('has a name', async () => {\n      socialNetwork = await SocialNetwork.deployed()\n      const name = await socialNetwork.name()\n      assert.equal(name, \"Dapp University Social Network\" )\n    })\n  }) \n})\n```\nВ одном __describe__ можно спокойно делать и больше одного теста.\n\n",
      "message": "",
      "created": "2021-06-30T08:31:43.792Z",
      "creators": [
        {
          "id": "b0568c88-bb34-4420-969e-41238089a0d4",
          "uniqueName": "google#113467622262670857280",
          "displayName": "Alexander Matviienko",
          "createdAt": "2021-05-10T19:50:11.968Z",
          "updatedAt": "2021-05-10T19:50:31.732Z"
        }
      ]
    }
  },
  {
    "id": "27941693-f9a1-4b41-8191-4d421799368f",
    "emoji": null,
    "title": "Create smart-contract part 1",
    "content": "",
    "headId": 725265,
    "archivedAt": null,
    "folderPathname": "/Blockchain",
    "parentFolderId": "3d191c81-9f87-4528-9d7b-4bea4377f1f3",
    "teamId": "nhFMY3a5g",
    "generated": false,
    "createdAt": "2021-06-30T06:53:21.569Z",
    "updatedAt": "2021-07-19T08:19:49.889Z",
    "version": 21,
    "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
    "workspaceId": "a26b69f4-c521-4719-9766-2da1c713b767",
    "head": {
      "id": 725265,
      "docId": "27941693-f9a1-4b41-8191-4d421799368f",
      "content": "# Create smart-contract part 1\n\n1. Переходим в ./src/contracts и создаем файл __SocialNetwork.sol__\n2. В верху файла мы указываем какую версию __solidity__ мы собираемся использовать.\n\n``` sol\npragma solidity ^0.5.0;\n```\n\n3. Теперь мы создаем тело контракта\n\n``` sol\ncontract SocialNetwork {\n\n}\n```\n\n4. Теперь для теста создадим пермернную и попробуем ее прочитать.\n      1. Создаю саму переменную и указываю ее тип:\n      2. Изадаем ей значение в конструкторе\n```sol\ncontract SocialNetwork {\n  string public name;\n  constructor() public {\n    name = \"Dapp University Social Network\";\n  }\n}\n```\n\n5. Теперь перейдем в компиллятор и попробуем скомпилировать это дело прописав команду  ``` truffle compile```\n\n6. Если все прошло без ошибок то мы можем перейти в ./src/abis и увидим там скомпилированный файл __SocialNetwork.json__ который по сути является json описанием того как работает смарт-контракт.\n7. Теперь попробуем интегрировать этот контракт в блокчейн, в нашес случае в Ganachi, для этого нам понадобится создать файл с миграциями в папке ./migrations, дадим ему имя __2_deploy_contracts.js__. Важный момент в начале имени всегда должен стоять порядковый номер миграции что-бы трюфель знал в каком порядке их запускать.\n8. Далее скопируем код из файла __1_initial_migration.js__ который есть по умолчанию в шаблоне. \n9. Заменим все слова __Migrations__ ны имя нашего контракта __SocialNetwork__.\n10. Теперь запустим миграцию набрав в консоли ```truffle migrate```. Далее мы можем посмотреть на лог миграции в консоли.\n11. А теперь перейдем в консоли в среду __truffle__ ```truffle console```. И мы перейдя в эту среду можем использовать js код.\n12. Мы можем получить наш смарт-контракт в виде промиса выполнив команду \n```js\nSocialNetwork.deployed()\n```\nи мы получаем развернутую копию смарт-контракта из блок-чейна.\n13. Давайте присвоим его в переменную для этого нам надо выполнить следующий код.\n\n```js\nSocialNetwork.deployed().then(c => contract = c)\n```\n14. Можно сделать тоже самое используя async/await\n\n```js\nconst contract = await SocialNetwork.deployed()\n```\n15. Давайте получим адресс размещения контракта в блокчейне\n\n```js\n  contract.address // = '0x681A903396927f7aB8fb9F4857a84385c633f5f6'\n```\n\n16. Теперь получим созданную в контракте переменную\n\n```js\nconst name = await contract.name()\n```",
      "message": "",
      "created": "2021-06-30T07:35:48.654Z",
      "creators": [
        {
          "id": "b0568c88-bb34-4420-969e-41238089a0d4",
          "uniqueName": "google#113467622262670857280",
          "displayName": "Alexander Matviienko",
          "createdAt": "2021-05-10T19:50:11.968Z",
          "updatedAt": "2021-05-10T19:50:31.732Z"
        }
      ]
    }
  },
  {
    "id": "27f15648-3e45-4939-a09e-f8c6b380327c",
    "emoji": null,
    "title": "Start project",
    "content": "",
    "headId": 724617,
    "archivedAt": null,
    "folderPathname": "/Blockchain",
    "parentFolderId": "3d191c81-9f87-4528-9d7b-4bea4377f1f3",
    "teamId": "nhFMY3a5g",
    "generated": false,
    "createdAt": "2021-06-30T06:25:32.259Z",
    "updatedAt": "2021-07-19T08:19:49.889Z",
    "version": 10,
    "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
    "workspaceId": "a26b69f4-c521-4719-9766-2da1c713b767",
    "head": {
      "id": 724617,
      "docId": "27f15648-3e45-4939-a09e-f8c6b380327c",
      "content": "# Start project\n## Ganachi\n1. Открываем Ganachi \n2. Нажимаем __Quik start__ \n\nВ итоге у нас получается 10 учетных записей для создания наших смарт-контрактов.\n\n## File for project\n1. Качаем по этой ссылке стартовый шаблон [https://www.youtube.com/redirect?event=video_description&redir_token=QUFFLUhqbUVNY0tFS3I1TEhnMEItbG10bHZrb1h1TGpyQXxBQ3Jtc0trWHBtamFFV3Zqelg0S0hMcjNFMVAwbGo1R2xoWnMzRUdfZlRJcXdfVFJQRGU2Y01jVC1HUS1zWnh3T19NYjBnbmxFSlVuTXZqS0NscF91ZWRaMUdOVGN1Nkl3REZuSkl5UTZnSmV1cmRuRW13SEFsWQ&q=https%3A%2F%2Fgithub.com%2Fdappuniversity%2Fsocial-network%2Freleases%2Ftag%2F28e13af](url) //Возможно надо будет это отредактировать.\n2. Сейчас разберемся с содиржимым шаблолна\n      1. __truffle-config.js__ - файл конфигураций, давай разберем его.\n\nЗдесь мы указываем параметры подключения к блокчейну. В данном случае к Ganachi\n```js\n  networks: {\n    development: {\n      host: \"127.0.0.1\",\n      port: 7545,\n      network_id: \"*\" // Match any network id\n    },\n  },\n```\nТут у нас пути к контрактам и abi\n```js\n  contracts_directory: './src/contracts/',\n  contracts_build_directory: './src/abis/',\n```\nИ остались параметры компиляции\n```js\ncompilers: {\n    solc: {\n      optimizer: {\n        enabled: true,\n        runs: 200\n      }\n    }\n```\n\n3. Далее если не прописали прописываем ```npm i```\n4. И стартуем проект ```npm run start```\n5. Убедились что проект работает теперь закрываем его и переходим к созданию смарт-контракта.",
      "message": "",
      "created": "2021-06-30T06:48:57.027Z",
      "creators": [
        {
          "id": "b0568c88-bb34-4420-969e-41238089a0d4",
          "uniqueName": "google#113467622262670857280",
          "displayName": "Alexander Matviienko",
          "createdAt": "2021-05-10T19:50:11.968Z",
          "updatedAt": "2021-05-10T19:50:31.732Z"
        }
      ]
    }
  },
  {
    "id": "4d6f80a5-7912-4340-982a-c65e64edc120",
    "emoji": null,
    "title": "Get start",
    "content": "",
    "headId": 724186,
    "archivedAt": null,
    "folderPathname": "/Blockchain",
    "parentFolderId": "3d191c81-9f87-4528-9d7b-4bea4377f1f3",
    "teamId": "nhFMY3a5g",
    "generated": false,
    "createdAt": "2021-06-30T06:12:07.285Z",
    "updatedAt": "2021-07-19T08:19:49.889Z",
    "version": 6,
    "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
    "workspaceId": "a26b69f4-c521-4719-9766-2da1c713b767",
    "head": {
      "id": 724186,
      "docId": "4d6f80a5-7912-4340-982a-c65e64edc120",
      "content": "# Get start\nДля начала работы с блокчейном мне понадобятся \n1. Node - что это такое думаю и так монятно\n2. Solidaty - язык программирования самовыполняющихся контрактов для платформы Ethereum \nУстановка:\n```\nsudo add-apt-repository ppa:ethereum/ethereum\nsudo apt-get update\nsudo apt-get install solc\n```\n4. Truffle - язык для работы с блокчейном в целом, в том числе и контрактами\nУстановка:\n```\nsudo npm install -g truffle\n```\n6. Ganachi - БД кошельков для тестирования\nУстановка:\nDonwload client from site\n```\nchmod a+x ganache-1.3.0-x86_64.AppImage\n./ganache-1.3.0-x86_64.AppImage\n```\n\n8. MetaMask - это расширение для браузера, предназначенное для облегчения доступа к экосистеме Dapp Ethereum. Он также служит кошельком для хранения токенов ERC-20, позволяя пользователям получать доступ к услугам, созданным в сети, через кошелек.\n\nУстановка:\nСтанвится как и обычное расширение браузера.\n\n10. Web3.js - библиотека помогающая взаимодействовать фронту сайта с блокчейном.\n\nУстановка:\n```\nnpm install web3\n```",
      "message": "",
      "created": "2021-06-30T06:24:21.480Z",
      "creators": [
        {
          "id": "b0568c88-bb34-4420-969e-41238089a0d4",
          "uniqueName": "google#113467622262670857280",
          "displayName": "Alexander Matviienko",
          "createdAt": "2021-05-10T19:50:11.968Z",
          "updatedAt": "2021-05-10T19:50:31.732Z"
        }
      ]
    }
  },
  {
    "id": "aaada8e8-5435-41fa-9297-61fcc0c9a883",
    "emoji": null,
    "title": "Контракты",
    "content": "",
    "headId": 704308,
    "archivedAt": null,
    "folderPathname": "/Web3",
    "parentFolderId": "b970b9ff-5d94-4af3-a1d0-218162db328e",
    "teamId": "nhFMY3a5g",
    "generated": false,
    "createdAt": "2021-06-29T11:31:34.514Z",
    "updatedAt": "2021-07-19T08:19:37.950Z",
    "version": 7,
    "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
    "workspaceId": "a26b69f4-c521-4719-9766-2da1c713b767",
    "head": {
      "id": 704308,
      "docId": "aaada8e8-5435-41fa-9297-61fcc0c9a883",
      "content": "# Контракты\n\nСмарт-контракты - это програма которая выполняет соглашение между участниками сделки. \n_Мол если есть деньги и есть товар производим обмен иначе болт_. Лежат эти товарищи в блокчейнах\n\nДля работы со __смарт-контрактами__ в __web3__ нам понадобится __web3.eth.Contract__.\n\n",
      "message": "",
      "created": "2021-06-29T11:41:48.648Z",
      "creators": [
        {
          "id": "b0568c88-bb34-4420-969e-41238089a0d4",
          "uniqueName": "google#113467622262670857280",
          "displayName": "Alexander Matviienko",
          "createdAt": "2021-05-10T19:50:11.968Z",
          "updatedAt": "2021-05-10T19:50:31.732Z"
        }
      ]
    }
  },
  {
    "id": "c949df30-1b4c-41e9-8589-1842c8a098f1",
    "emoji": null,
    "title": "Начало",
    "content": "",
    "headId": 704258,
    "archivedAt": null,
    "folderPathname": "/Web3",
    "parentFolderId": "b970b9ff-5d94-4af3-a1d0-218162db328e",
    "teamId": "nhFMY3a5g",
    "generated": false,
    "createdAt": "2021-06-29T10:14:03.656Z",
    "updatedAt": "2021-07-19T08:19:37.950Z",
    "version": 9,
    "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
    "workspaceId": "a26b69f4-c521-4719-9766-2da1c713b767",
    "head": {
      "id": 704258,
      "docId": "c949df30-1b4c-41e9-8589-1842c8a098f1",
      "content": "# Начало\n\nWeb3.js это библиотека которая служит для взаимосвязи сайта и среды Ethereum. Принцип ее работы здорово отображен на этой схеме:\n![2021-06-29_13-16.png](https://boostnote.io/api/teams/nhFMY3a5g/files/6f02c46d72e679faf2816f23c719f28667366abc4edf5f060deff9188580b007-2021-06-29_13-16.png)\n\nТоесть как можно понять по сути web3 нужен для диспетчинга взаимодействия одних блокчейнов с другими, к примеру блокчейном хозяина сайта и блокчейном пользователем. А можно даже сделать связь пользователь хозяин пользоваетль и т. д.\n\nДля начала работы с этой либой нам надо установить ее в проект ```npm i web3```, далее импортировать ее файл в котором мы будем работать с ней.\n\nТеперь давайте для примнрп работы этого дела получим баланс счета с каклгл нибудь кошелька.\n\n```js\nvar Web3 = require('web3') // импортируем либу в файл\nvar url = 'https://mainnet.infura.io/v3/b8fdf6c110194ca297b9ede783306c85' //создам переменную с адресом кошелька\nvar web3 = new Web3(url) //создаем объект этого кошелька\nweb3.eth.getBalance(adress, (err, bal) => {balance = bal}) //полчуем баланс\nconsole.log(balance)// = 2296896558056344896863048\n```\n\nЗдесь мы получили все это дело в наименшем номинале в __wei__ для того что бы получить в __ether__ делаем следующиее \n\n```js\nweb3.utils.fromWei(balance, 'ether')\nconsole.log(balance)// = 2296896.558056344896863048\n```",
      "message": "",
      "created": "2021-06-29T11:31:36.439Z",
      "creators": [
        {
          "id": "b0568c88-bb34-4420-969e-41238089a0d4",
          "uniqueName": "google#113467622262670857280",
          "displayName": "Alexander Matviienko",
          "createdAt": "2021-05-10T19:50:11.968Z",
          "updatedAt": "2021-05-10T19:50:31.732Z"
        }
      ]
    }
  },
  {
    "id": "61f50f10-284f-438f-8b5c-281e931665cc",
    "emoji": null,
    "title": "Redux-saga",
    "content": "",
    "headId": 689021,
    "archivedAt": null,
    "folderPathname": "/amnex",
    "parentFolderId": "970f05f5-42c1-432f-8ede-aa9afbd3ef46",
    "teamId": "nhFMY3a5g",
    "generated": false,
    "createdAt": "2021-06-27T14:07:47.634Z",
    "updatedAt": "2021-09-28T16:29:15.152Z",
    "version": 12,
    "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
    "workspaceId": "a26b69f4-c521-4719-9766-2da1c713b767",
    "head": {
      "id": 689021,
      "docId": "61f50f10-284f-438f-8b5c-281e931665cc",
      "content": "# Redux-saga\n\nРедакс сага это плагин помогающий выполнять асинхронный. К примеру получение данных от сервера и запись их redux хранилище.  \n\nДля начала разберемся 4-мя основными понятиями в redux-saga:\n\n1. __Workers__ - это функция внутри которой выполняется какоя либо асинхронная логика, к примеру запросы на сервер.\n2. __Watchers__ - это функции в которую надо указать тип экшена и __worker__ который будет срабатывать когда отработает экшен указанного типа\n3. __Effects__ - функции зарезервированные в __redux-saga__ которые помогают делать диспатчи, следить за воркерами и т. д.\n4. __Функции-генераторы__ эти функции которые выдают результат пошагово они используются в redux-saga повсеместно, в том числе и для инициализации вышеописанных функций. \n\nПример синтаксиса создания этой функции:\n\n```js\nfunction* nameFunction () {\n  \n}\n```\n\nДля возврата значений вместо __return__ здесь используется __yield__ \n\nПример работы функции генератора:\n```js\nfunction* generatorFunction() {\n    for (let i = 0; i < 5; i++) {\n        yield i\n    }\n}\n\nconst iter = generatorFunction()\n\nconsole.log(iter.next());// Выдаст: { value: 0, done: false }\nconsole.log(iter.next());// Выдаст: { value: 1, done: false }\nconsole.log(iter.next());// Выдаст: { value: 2, done: false }\nconsole.log(iter.next());// Выдаст: { value: 3, done: false }\nconsole.log(iter.next());// Выдаст: { value: 4, done: false }\nconsole.log(iter.next());// Выдаст: { value: undefined, done: true }\nconsole.log(iter.next());// Выдаст: { value: undefined, done: true }\n```\n\nВидим здесь что функция пошагово возвращала результат работы цикла, при каждом вызове.\n\nСейчас реализуем вариант получения данных от сервера и запись их в хранилище\n\n0. Подключение \n      1. Импортируем redux-saga в стор \n      ```js\n      import createSagaMiddleware from \"redux-saga\";\n      ```\n      2. Ложим в переменную вызов импортируемой функции\n      ```js\n      const sagaMiddleware = createSagaMiddleware();\n      ```\n      3. Далее инициализируем это дело \n      ```js\n      export const store = createStore(rootReducer, applyMiddleware(sagaMiddleware))\n      ```\n      4. Изапускаем redux-saga и передаем туда __watcher__ (как правило туда передается глобальный __watcher__ о них немного ниже)\n      ```js\n      sagaMiddleware.run(rootWatcher)\n      ```\n\n1. Создаем js файл и импортируем в него из __redux-saga__ следующие функции:\n    \n    1.__put__ - аналог dispatch в редакс-сага\n    2.__takeEvery__ - он нужен для функции __watcher__\n    3.__call__  для вызова функций внутри __worker__\n    4.Так же нам понадобится экшен для прокидывания данных в хранилище и тип экшена при срабатывании которого __watcher__ будет вызывать воркер\n```js\nimport {put, takeEvery, call} from \"redux-saga/effects\"\nimport {getLastWinnings} from \"./actions\";\nimport {SAGA_LAST_WINNINGS} from \"../actions\";\n```\n\n2. Создаем функцию в которой мы делаем запрос на сервер и возвращаем данные\n\n```js\n  const gettingData = async (num) => {\n    try {\n        const response = await fetch('http://localhost:5002/?page=' + num)\n        return await response.json()\n    } catch (e) {\n        console.error(e)\n    }\n}\n```\n\n3. Создаем __worker__ в нем мы получаем данные которые нам вернет вызыванная функция запроса, а так же прокидываем данные в хранилище\n\n```js\nfunction* getLastWinningsWorker(action) {\n    try {\n        const json = yield call(gettingData, action.num)\n        const {page, totalPages} = yield json\n        yield put(getLastWinnings(page, totalPages))\n    } catch (e) {\n        console.log('Error: ', e)\n    }\n}\n```\n\n4. В конце создаем __watcher__ и вызвав в нем __takeEvery__ передаем в него первым аргументом тип экшена и воркет который сработает при срабатывании экшена\n``` js\nexport function* LastWinningsWatcher() {\n    yield takeEvery(SAGA_LAST_WINNINGS, getLastWinningsWorker)\n}\n```\n\n5. Далее нам понадобится глобальный watcher, так как скорее всего в проекте понадобится больше одного __worker__ -а. \n  Для этого создаем отдельный js файл имортируем в него функцию __all__ и созданные вотчеры, после создаем функцию генератор вызываем там __all__ и передаем в него массив с вотчерами. Ну а куда импортировать глобальный вотчер я уже описывал выше.\n  \n  ```js\n  import { all } from 'redux-saga/effects';\nimport authSagas from './auth/saga';\nimport {LastWinningsWatcher} from \"./lastWinnings/saga\";\n\n\nexport default function* rootSaga(getState) {\n  yield all([\n    authSagas(),\n    LastWinningsWatcher()\n  ]);\n}\n\n  ```",
      "message": "",
      "created": "2021-06-27T14:49:06.624Z",
      "creators": [
        {
          "id": "b0568c88-bb34-4420-969e-41238089a0d4",
          "uniqueName": "google#113467622262670857280",
          "displayName": "Alexander Matviienko",
          "createdAt": "2021-05-10T19:50:11.968Z",
          "updatedAt": "2021-05-10T19:50:31.732Z"
        }
      ]
    }
  },
  {
    "id": "c438ebf8-337d-499c-a285-9eeb65a971e2",
    "emoji": null,
    "title": "Создание роутов",
    "content": "",
    "headId": 797354,
    "archivedAt": null,
    "folderPathname": "/Node.js",
    "parentFolderId": "4a46bcc3-547b-4295-af7e-321b076c965e",
    "teamId": "nhFMY3a5g",
    "generated": false,
    "createdAt": "2021-06-26T11:50:11.975Z",
    "updatedAt": "2021-07-19T08:19:33.980Z",
    "version": 13,
    "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
    "workspaceId": "a26b69f4-c521-4719-9766-2da1c713b767",
    "head": {
      "id": 797354,
      "docId": "c438ebf8-337d-499c-a285-9eeb65a971e2",
      "content": "# Создание роутов\n\nРоуты рекомендуется писать в отдельных файлах. Давайте разберем типичный файл роута.\n``` js\n// Файл для роутов\nimport Router from \"express\";\n// Импортируем контроллер\nimport PostController from \"./PostController.js\";\n// Объявляем роутер\nconst router = new Router()\n// Пример роута:\n// 1. метод, 2. адресс, 3. контроллер и его метод\nrouter.post('/posts', PostController.create)\nrouter.get('/posts', PostController.getAll)\nrouter.get('/posts/:id', PostController.getOne)\nrouter.put('/posts', PostController.update)\nrouter.delete('/posts/:id', PostController.delete)\n\nexport default router;\n```\n\nПо сути в коментариях и написана инструкция\n\n\n## res & req\nУ __res__ (ответа) чаще всего вызывается метод __status__ принимающий в себя статус ответа (2хх, 3хх, 4хх, 5хх) далее идет вызов метода __json__ который принимает в себя данные которые надо отправить клиенту в __json__ формате.\n\n``` js\n  res.status(200).json(data)\n```\n\nУ __req__ (запроса) есть метод __query__ который помогает работать с параметрами строки запроса. \n\nПример создания этих параметров: ```localhost:5000/?test=123&query=ffasf&third=affsa```\n\nТеперь в коде мы можем обращатся к ним следующим образом:\n\n``` js \n  console.log(req.query.test) // выдаст 123\n  console.log(req.query.query) // выдаст ffasf\n  console.log(req.query.third) // выдаст affsa\n```\nДумаю принцип понятен\n\n## Работа с телом запроса\nРазберем на примере post\n\n1. Создаем парсер тела запроса \n```js\n  app.use(express.json())\n```\nОн будет конвертировать тело запроса в __json__ формат.\n\n2.\nreq.body помогает вызвать тело запроса для дальнейшей работы с ним.\n``` js \napp.post('/user', (req, res) => {\n console.log(req.body) // выведет в консоль тело запроса\n})\n```\n\n",
      "message": "",
      "created": "2021-07-08T10:00:06.056Z",
      "creators": [
        {
          "id": "b0568c88-bb34-4420-969e-41238089a0d4",
          "uniqueName": "google#113467622262670857280",
          "displayName": "Alexander Matviienko",
          "createdAt": "2021-05-10T19:50:11.968Z",
          "updatedAt": "2021-05-10T19:50:31.732Z"
        }
      ]
    }
  },
  {
    "id": "4a8518de-cfd4-4c22-9cd9-c8a816d8cb39",
    "emoji": null,
    "title": "Инициализация сервера",
    "content": "",
    "headId": 797346,
    "archivedAt": null,
    "folderPathname": "/Node.js",
    "parentFolderId": "4a46bcc3-547b-4295-af7e-321b076c965e",
    "teamId": "nhFMY3a5g",
    "generated": false,
    "createdAt": "2021-06-26T11:34:43.345Z",
    "updatedAt": "2021-07-19T08:19:33.980Z",
    "version": 7,
    "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
    "workspaceId": "a26b69f4-c521-4719-9766-2da1c713b767",
    "head": {
      "id": 797346,
      "docId": "4a8518de-cfd4-4c22-9cd9-c8a816d8cb39",
      "content": "# Инициализация сервера\n\n1. Создаем папку для сервера, заходим и прописываем в консоли ```npm init -y```\n2. Устанавливаем express ``` npm i express```\n3. Устанавливаем __nodemon__ ``` npm i -D nodemon```\n4. Заходим в __package.json__ и в свойстве __scripts__ прописываем:\n\n``` js\n  \"scripts\": {\n    \"start\": \"node index.js\",\n    \"dev\" : \"nodemon index.js\"\n  },\n```\n5. После содаем свойство __type__ со значением __\"module\"__ и получается такая картина\n\n``` js\n{\n  \"name\": \"node\",\n  \"version\": \"1.0.0\",\n  \"description\": \"\",\n  \"main\": \"index.js\",\n  \"type\": \"module\",\n  \"scripts\": {\n    \"start\": \"node index.js\",\n    \"dev\" : \"nodemon index.js\"\n  },\n  \"keywords\": [],\n  \"author\": \"\",\n  \"license\": \"ISC\",\n  \"dependencies\": {\n    \"express\": \"^4.17.1\"\n  },\n  \"devDependencies\": {\n    \"nodemon\": \"^2.0.7\"\n  }\n}\n```\n6. Создаем __index.js__, импортируем __express__ создаем константу с номером порта на котором будет работать сервер, после ложим в константу вызов __express__. После мы часто будем ей пользоватся, поэтому назову ее __серверная__. Так же если работаем с MongoDB иницализируем ее через прилжение __mongoose__\n\n``` js \nimport express from \"express\"\n\nimport mongoose from 'mongoose'\n\nconst PORT = 5001;\n\nconst app = express()\n```\n\nТак же для работы с json нам необходимо объявить json парсер\n\n``` js\napp.use(express.json())\n```\n\n7. Далее для запуска сервера мы создадим функцию которая будет подключатся к БД, а затем запускать сам сервер используя метод __listen__ куда передаем порт и калбек функцию которая сработает при запуск\nПример:\n\n``` js\nasync function startApp() {\n    try {\n        await mongoose.connect(DB_URL, {useUnifiedTopology: true, useNewUrlParser: true})\n        app.listen(PORT, () => console.log('SERVER STARTED ON PORT ' + PORT))\n    } catch (e) {\n        console.log(e)\n    }\n}\n\nstartApp()\n```\n\n8.Теперь мы можем запускать сервер использую команды ```npm start``` либо ```npm run dev``` который мы заранее прописывали в __package.json__, отличие второй от первой в том что сервер будет сам обновлятся при изменениях в коде.\n\n\n",
      "message": "",
      "created": "2021-07-08T09:57:14.988Z",
      "creators": [
        {
          "id": "b0568c88-bb34-4420-969e-41238089a0d4",
          "uniqueName": "google#113467622262670857280",
          "displayName": "Alexander Matviienko",
          "createdAt": "2021-05-10T19:50:11.968Z",
          "updatedAt": "2021-05-10T19:50:31.732Z"
        }
      ]
    }
  },
  {
    "id": "fc6574a3-2fa9-40fd-bb55-b78916e687b6",
    "emoji": null,
    "title": "Pagination",
    "content": "",
    "headId": 684049,
    "archivedAt": null,
    "folderPathname": "/amnex",
    "parentFolderId": "970f05f5-42c1-432f-8ede-aa9afbd3ef46",
    "teamId": "nhFMY3a5g",
    "generated": false,
    "createdAt": "2021-06-26T09:57:47.017Z",
    "updatedAt": "2021-09-28T16:29:15.152Z",
    "version": 8,
    "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
    "workspaceId": "a26b69f4-c521-4719-9766-2da1c713b767",
    "head": {
      "id": 684049,
      "docId": "fc6574a3-2fa9-40fd-bb55-b78916e687b6",
      "content": "# Pagination\n\nБуду описывать создание пагинацие напримере постраничного вывода списка стран.\n\n1. В главном компоненте создаем следующий список состояний: \n``` js\nfunction App() {\n    const [countries, serCountries] = useState([]) // Общее количество стран (выводимых элементов)\n    const [loading, setLoading] = useState(false) // Переключатель лоадера\n    const [currentPage, setCurrentPage] = useState(1) // Текущая страница\n    const [countriesPerPage] = useState(10) // Кол-во элементов выводимых на странице\n```\n\n2. Используя __useEffect__ (в данном случа) реализуем получение контента от сервера в виде массива\n``` js\nuseEffect(() => {\n        const getCountries = async () => {\n            setLoading(true)\n            const res = await axios.get('https://restcountries.eu/rest/v2/all')\n            serCountries(res.data)\n            setLoading(false)\n        }\n\n        getCountries()\n    }, [])\n```\n\n3. Получаем нужные нам элементы:\n\n``` js \n    const lastCountryIndex = currentPage * countriesPerPage // Умножаем требуемую страницу на кол-во выводимых элементов и получаем индекс последнего элемента\n    const firstCountryIndex = lastCountryIndex - countriesPerPage // От индекса последнего элемента отнимаем кол-во требуемых и получаем индек первого элемента\n    const currentCountry = countries.slice(firstCountryIndex, lastCountryIndex) //Далее использую функцию slice из массива контента получаем нужные элементы \n    // используя индекс первого выводимого и последнего\n```\n\n4. Создаем фугкции переключения пагинации: \n\n```js\n    const paginate = pageNumber => setCurrentPage(pageNumber) // Эта функция устанавливает номер требуемой страницы\n    //На следующие две нужны для постраничной навигации вперед и назад\n    const nextPage = () => setCurrentPage(prev => prev + 1)\n    const prevPage = () => setCurrentPage(prev => prev + 1)\n```\n\n5. Теперь в компонент вывода элементов импортируем список отпагинированных элементов и лоадер\n\n``` js \n    <Countries countries={currentCountry} loading={loading}/>\n```\n\n6. И в самом компоненте выводим это наподобии как показано на примере:\n\n``` js\nconst Countries = ({countries, loading}) => {\n\n    if(loading) return <h2>Loading...</h2>\n\n    return (\n        <ul className=\"list-group mb-2\">\n            { countries.map((country, i) => (\n                <li className=\"list-group-item\">\n                    {country.name}\n                    <img src={country.flag} alt=\"flag\" style={{width: 25}} className=\"ml-2\"/>\n                </li>\n            ))}\n        </ul>\n    )\n};\n```\n7. В компонент с пагинацией импортируем функции переключения а так же кол-во выводимых постранично элементов и общее кол-во элементов \n\n```js\n  <Pagination countriesPerPage={countriesPerPage} totalCountries={countries.length} paginate={paginate} prevPage={prevPage} nextPage={nextPage}/>\n```\n\n8. После в самом элементе создаем массив с номерами:\n\n```js\n    const pageNumbers = [] // Создаем пустой массив\n\n    for (let i = 1; i <= Math.ceil(totalCountries / countriesPerPage); i++){ //И используя цикл добавляем в него номера страниц, используя в качестве счетчика\n        pageNumbers.push(i)// Результат деления общего кол-ва элементов на кол-во элементов на странице\n    }\n```\n\n9. Далее выводи этот массив с номерами страниц вешаем на них события клик куда передаем функцию меняющую состояние \"текущей страницы\", и так же аргумент номера страницы\n\n``` js\n    <ul className=\"pagination\">\n                {\n                    pageNumbers.map(number => (\n                      <li className=\"page-item\" key={number}>\n                          <a href=\"#\" className=\"page-link\" onClick={() => paginate(number)}>\n                              {number}\n                          </a>\n                      </li>\n                    ))\n                }\n            </ul>\n```\n\n10. В конце добавляем еще кнопки для переключения вперед-назад и так же вешаем клик с передачей туда функции постраничного переключения вперед-назад\n\n``` js\n    <button className=\"btn btn-primary\" onClick={prevPage}>Prev Page</button>\n    <button className=\"btn btn-primary ms-2\" onClick={nextPage}>Next Page</button>\n```",
      "message": "",
      "created": "2021-06-26T10:25:07.562Z",
      "creators": [
        {
          "id": "b0568c88-bb34-4420-969e-41238089a0d4",
          "uniqueName": "google#113467622262670857280",
          "displayName": "Alexander Matviienko",
          "createdAt": "2021-05-10T19:50:11.968Z",
          "updatedAt": "2021-05-10T19:50:31.732Z"
        }
      ]
    }
  },
  {
    "id": "4edb6562-ae88-49d7-b9bf-d685beab8fc8",
    "emoji": null,
    "title": "Создание роутов",
    "content": "",
    "headId": 627419,
    "archivedAt": null,
    "folderPathname": "/MERN",
    "parentFolderId": "cb7c8353-fe9a-4967-a39d-90b1f6adfc61",
    "teamId": "nhFMY3a5g",
    "generated": false,
    "createdAt": "2021-06-18T10:55:42.250Z",
    "updatedAt": "2021-07-19T08:19:43.118Z",
    "version": 14,
    "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
    "workspaceId": "a26b69f4-c521-4719-9766-2da1c713b767",
    "head": {
      "id": 627419,
      "docId": "4edb6562-ae88-49d7-b9bf-d685beab8fc8",
      "content": "# Создание роутов\n\n1. Создать папку для роутов и в ней создать файл для роута, в данном случае это будет файл роута регистрации пользователя по email и password. И выходит у нас что то вроде такого __server/routes/auth.routes.js__ \n2. В этом файле созжаем такие импорты:\n``` js\nconst Router = require(\"express\")\nconst User = require(\"../models/User\") //Модель таблицы пользователей\nconst bcrypt = require(\"bcryptjs\")//Это надо для хеширования паролей \nconst {check, validationResult} = require(\"express-validator\")//Валидатор \n```\n\n3. Создаем обект роута \n``` js\nconst router = new Router\n```\n\n4. И начинаем создавать сам роут\n``` js\n\nrouter.post('/registration',// пишем метод запроса и адресс\n    [\n        check('email', \"Uncorrect email\").isEmail(),//Проверка на email\n        check('password', 'Password must be longer than 3 and shorter than 12').isLength({min: 3, max: 12})//Проверка на количество символов пароля\n    ],\n    async (req, res) => {//callback функция которая принимает в себя аргументами запрос и ответ\n        try {// и далее идет класическая конструкция try catch\n            const errors = validationResult(req)// В эту переменную складываем ошибки\n\n            if (errors) {// если они есть то возвращаем пользователю соответсвуюший ответ\n                return res.status(400).json({message: \"Uncorrected request\", errors})\n            }\n\n            const {email, password} = req.body//Достаем из тела запроса данные\n            const candidate = User.findOne({email})//Проверяем емаил на уникальность что важно при регистрации\n\n            if (candidate) {//и если пользовтель с такой почтой зарегистрирован то возвращаем ответ об этом\n                return res.status(400).json({message: `User with email ${email} already exist`})\n            }\n\n            const hashPassword = await bcrypt.hash(password, 15)// хешируем пароль\n            const user = new User({email, password: hashPassword})// создаем нового пользователя в БД\n            await user.save()//сохраняем изменения\n            return res.json({message: \"User was created\"})// и возвращаем ответ о том что пользователь успешно создан\n        } catch (e) {\n            console.log(e)// код для вывода ошибок\n            res.send({message: 'Server error'})\n        }\n    })\n```\n\n5. экспортируем модуль роута\n``` js\nmodule.exports = router\n```\n\n6. и после импортируем это дело в файле сервера в нашем случае это index.js и так сказать регистрируем этот роут\n```js\nconst authRouter = require('./routes/auth.routes')\nconst app = express()\n\napp.use('/api/auth', authRouter)\n```",
      "message": "",
      "created": "2021-06-18T11:38:28.205Z",
      "creators": [
        {
          "id": "b0568c88-bb34-4420-969e-41238089a0d4",
          "uniqueName": "google#113467622262670857280",
          "displayName": "Alexander Matviienko",
          "createdAt": "2021-05-10T19:50:11.968Z",
          "updatedAt": "2021-05-10T19:50:31.732Z"
        }
      ]
    }
  },
  {
    "id": "5f49eacf-faab-4d80-bb8e-9427d0153ec7",
    "emoji": null,
    "title": "Инициализация проекта",
    "content": "",
    "headId": 621368,
    "archivedAt": null,
    "folderPathname": "/MERN",
    "parentFolderId": "cb7c8353-fe9a-4967-a39d-90b1f6adfc61",
    "teamId": "nhFMY3a5g",
    "generated": false,
    "createdAt": "2021-06-17T18:07:59.652Z",
    "updatedAt": "2021-07-19T08:19:43.118Z",
    "version": 8,
    "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
    "workspaceId": "a26b69f4-c521-4719-9766-2da1c713b767",
    "head": {
      "id": 621368,
      "docId": "5f49eacf-faab-4d80-bb8e-9427d0153ec7",
      "content": "# Инициализация проекта\n\n1. Создать проект с папками __client__ и __server__ первая для фронта вторая понятно для бэка\n2. Зайти в папку __client__ и прописать ``` npx create-react-app .``` \n3. Далее удалить все лишнее\n4. Создать кластер MongoDB\n5. Далее зайти в папку __server__ создать в ней файл __index.js__ \n6. После прописать команду __npm init__\n7. В созданном файле packeg.json в скриптах прописать команду \n8. ```js\n    'start': 'node index.js'\n   ```\n9. Далее в терминале в папке __server__ выполняем следующую команду ``` npm i express mongoose config ```\nчто позволяет установить: \n            9.1 Express - fraemwork для создания web приложений на nodeJS\n            9.2 Mongoose - библиотека для управления БД MongoDB\n            9.3 Config - ??? \n10. Устанавливаем __nodemon__ который отслеживает изменния в js файлах и перезапускает сервер ``` npm i -D nodemon```\n11. После заходим в __index.js__ который в папку __server__ и подключаем в нем __express, mongoose, config.\n``` js\n  const express = require(\"express\")\n  const mongoose = require(\"mongoose\")\n  const config = require(\"config\")\n```\n\n12. После инициализируем __express__ поместив его вызов в переменную\n``` js\nconst app = express()\n```\n\n13. После создаем константу в которую положим номер порта на котором будет крутится сервер здесь нам и понадобится __config__ \n      13.1 В той же папке __server__ создаем папку __config__ а внутри нее файл __default.json__ в нем прописываем следующее \n``` js\n{\n    \"serverPort\": 5000 // порт можно и другой указать\n    \"dbUrl\" : \"mongodb+srv://antuzhyk:jDLF2bJB@qEF*wR@cluster0.0rstr.mongodb.net/cloud?retryWrites=true&w=majority\"\n}\n```\n   13.2 Возвращаемся в __index.js__ и создаем константу с номером порта\n``` js\nconst PORT = config.get(\"serverPort\")\n```\n  Как я думаю уже стало понятно плагин __config__ помогает нам сохдавать файлы значения котрых можно будет использовать по всему серверу. Такой себе аналог __Redux__ \n  \n14. Создаем функцию которая будет запускать сервер \n``` js \nconst start = () => {\n    try {\n      mongoose.connect(config.get(\"dbUrl\"))\n      app.listen(PORT, () => {\n        console.log('Server started on port ', PORT)\n      }\n    }catch(e){\n      \n    }\n}\n```\n\nКак видно это класическая стрелочная функция в которой используется __try catch__ для отлавливания ошибок и в блоке __try__\nобразаемся к методу __connect__ у __mongoose__ и передаем в него url БД записанный в конфиг\nвызываем метод __listen__ у __express__ до этого положенного в константу __app__. __listen__ первым аргументом в себя принимает номер порта, а вторым __callback__ функцию которая выполняется при запуске сервера.\n\n15. После надо создать модели таблиц для этого создаем папку __models__ и в ней уже создаем файлы можделией, начнем с пользователей, создаем User.js\n\nСразу импортируем внутрь класс __Scheme__ и метод __model__\n``` js\nconst {Scheme, model} = require('mongoose')\n```\n\nПосле создаем саму модель, наследую класс __Scheme__ передавая в аргумент объект с полями и их данными\n\n``` js \nconst User = new Scheme({\n    email: {type: String, required: true, unique: true},\n    password: {type: String, required: true},\n    diskSpace: {type: Number, default: 1024**3*10},\n    usedSpace: {type: Number, default: 0},\n    avatar: {type: String},\n    files: [{type: ObjectId, ref: 'File'}]\n})\n```\n\nи в конце экспортируем эту модель используя метод __model__\n\n``` js\nmodule.exports = model('User', User)\n```\n",
      "message": "",
      "created": "2021-06-17T19:35:28.159Z",
      "creators": [
        {
          "id": "b0568c88-bb34-4420-969e-41238089a0d4",
          "uniqueName": "google#113467622262670857280",
          "displayName": "Alexander Matviienko",
          "createdAt": "2021-05-10T19:50:11.968Z",
          "updatedAt": "2021-05-10T19:50:31.732Z"
        }
      ]
    }
  },
  {
    "id": "ddd1a6d3-615a-4e43-b796-4d7e9e064b97",
    "emoji": null,
    "title": "классы в JS",
    "content": "",
    "headId": 619329,
    "archivedAt": null,
    "folderPathname": "/MERN/React Redux",
    "parentFolderId": "707c592f-b5e3-4ddf-860a-7767803f11dc",
    "teamId": "nhFMY3a5g",
    "generated": false,
    "createdAt": "2021-06-17T12:55:25.572Z",
    "updatedAt": "2021-07-19T08:19:43.118Z",
    "version": 6,
    "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
    "workspaceId": "a26b69f4-c521-4719-9766-2da1c713b767",
    "head": {
      "id": 619329,
      "docId": "ddd1a6d3-615a-4e43-b796-4d7e9e064b97",
      "content": "# Классы в JS\n\nКлассы в JS это такие шаблоны по которым можно создавать объекты.\n\n## Пример создания класса\n\n``` js\nclass Vacation {\n    construcor (destination, length) {\n        this.destination = destination\n        this.length = length\n    }\n  \n    print () {\n        console.log(`${this.destination} will take ${this.length} days`)\n    }\n}\n```\n\nВот так и выглядит базовый синтаксис создания класса, сначала идет объявление класса и именование, затем как правло вызывается метод конструктор в аргументы которого передаются принимаемые класом значения которые затем станут свойствами объекта. \n\nПосле конструктора можно назначить методы для будущих объектов синтаксис такой же как и в создание методов непосредственно в самих объектах\n\n## Наследование классов \n\nКлассы можно наследовать добавляя им еще свойств и методов. Делается это таким образом\n\n``` js\nclass Expedition extends Vacation {\n construcor (destination, length, gear) {\n  super(destination, length)\n   this.gear = gear\n }\n  \n  print(){\n   super.print();\n    console.log(`Bring your ${this.gear.join(' and your ')})\n  }\n}\n```\n\nЗдесь мы при объявлении класса указываем от какого наследуем, далее в аргументах конструктора ",
      "message": "",
      "created": "2021-06-17T13:11:27.230Z",
      "creators": [
        {
          "id": "b0568c88-bb34-4420-969e-41238089a0d4",
          "uniqueName": "google#113467622262670857280",
          "displayName": "Alexander Matviienko",
          "createdAt": "2021-05-10T19:50:11.968Z",
          "updatedAt": "2021-05-10T19:50:31.732Z"
        }
      ]
    }
  },
  {
    "id": "d3591219-6d8a-4a51-91ee-93d9462d1064",
    "emoji": null,
    "title": "try catch",
    "content": "",
    "headId": 616768,
    "archivedAt": null,
    "folderPathname": "/MERN/React Redux",
    "parentFolderId": "707c592f-b5e3-4ddf-860a-7767803f11dc",
    "teamId": "nhFMY3a5g",
    "generated": false,
    "createdAt": "2021-06-17T05:15:33.959Z",
    "updatedAt": "2021-07-19T08:19:43.118Z",
    "version": 14,
    "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
    "workspaceId": "a26b69f4-c521-4719-9766-2da1c713b767",
    "head": {
      "id": 616768,
      "docId": "d3591219-6d8a-4a51-91ee-93d9462d1064",
      "content": "# try catch \n\nCуть этой конструкци в том что, идет выполнение кода в блоке __try__ если произошла ошибка то выполняется код внутри блока __catch__ .\n\n## Пример\n\n``` js\ntry {\n\n  alert('Начало блока try');  // (1) <--\n\n  // ...код без ошибок\n\n  alert('Конец блока try');   // (2) <--\n\n} catch(err) {\n\n  alert('Catch игнорируется, так как нет ошибок'); // (3)\n\n}\n```\n\nЗдесь в блоке __try__ код выполнится и блок __catch__ будет проигнорирован так как код корректный, а вот в следующем примере в блоке __try__ будет ошибка и выполнение кода перейдет в блок __catch__ в котором аргументом передается ошибка которую затем можно вывести.\n\n``` js\ntry {\n\n  alert('Начало блока try');  // (1) <--\n\n  lalala; // ошибка, переменная не определена!\n\n  alert('Конец блока try (никогда не выполнится)');  // (2)\n\n} catch(err) {\n\n  alert(`Возникла ошибка!`); // (3) <--\n\n}\n```\n\nВажное замечание, __try catch__ работает синхронно, например в setTimeout, try..catch не поймает:\n``` js\ntry {\n  setTimeout(function() {\n    noSuchVariable; // скрипт упадёт тут\n  }, 1000);\n} catch (e) {\n  alert( \"не сработает\" );\n}\n```\nЭто потому, что функция выполняется позже, когда движок уже покинул конструкцию try..catch.\n\nЧтобы поймать исключение внутри запланированной функции, try..catch должен находиться внутри самой этой функции:\n``` js\nsetTimeout(function() {\n  try {\n    noSuchVariable; // try..catch обрабатывает ошибку!\n  } catch {\n    alert( \"ошибка поймана!\" );\n  }\n}, 1000);\n```",
      "message": "",
      "created": "2021-06-17T06:25:17.885Z",
      "creators": [
        {
          "id": "b0568c88-bb34-4420-969e-41238089a0d4",
          "uniqueName": "google#113467622262670857280",
          "displayName": "Alexander Matviienko",
          "createdAt": "2021-05-10T19:50:11.968Z",
          "updatedAt": "2021-05-10T19:50:31.732Z"
        }
      ]
    }
  },
  {
    "id": "cb673631-865a-4ae2-9784-d95c51bb4e80",
    "emoji": null,
    "title": "Операторы распределения",
    "content": "",
    "headId": 616477,
    "archivedAt": null,
    "folderPathname": "/MERN/React Redux",
    "parentFolderId": "707c592f-b5e3-4ddf-860a-7767803f11dc",
    "teamId": "nhFMY3a5g",
    "generated": false,
    "createdAt": "2021-06-17T04:24:20.187Z",
    "updatedAt": "2021-07-19T08:19:43.118Z",
    "version": 24,
    "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
    "workspaceId": "a26b69f4-c521-4719-9766-2da1c713b767",
    "head": {
      "id": 616477,
      "docId": "cb673631-865a-4ae2-9784-d95c51bb4e80",
      "content": "# Операторы распределения\nили повторяем ...spred данные операторы помогают копировать, собирать новый объекты и массивы используя старые. \n\n## Пример 1\n\n``` js \nlet peaks = [\"Tallac\", \"Ralston\", \"Rose\"]\nlet canyons = [\"Ward\", \"Blackwood\"]\nlet tahoe = [...peaks, ...canyons]\n```\n\nТут мы создали новый массив объединив старый путем их разбора посредством __...spred__ оператора внутри квадратных скобок.\nИспользованние данного синтаксиса очень удобно в том плане что он позволяет копировать массивы и объекты до первого вложения и работать уже с ними не затрагивая оригинал.\n\n\n## Пример 2\nПример использования с объектами\n```js\nlet morning = {\n    breakfast: \"oatmeal\",\n    lunch: \"peanut butter and jelly\"\n}\nlet dinner = \"mac and cheese\"\n\nlet backpackingMeals = {\n    ...morning,\n    dinner\n}\n```\n\nЗдесь был собран новый объект путем разбора внутри него другого объекта и добавления переменной. \n\n## Пример 3\n\nПример с функциями\n\n```js\nfunction directions (...args){\n    let [start, ...remaining] = args\n    let [finish, ...stops] = remaining.reverse()\n\n    console.log(`drive through ${args.length} towns`)\n    console.log(`start in ${start}`)\n    console.log(`the destination is ${finish}`)\n    console.log(`stopping ${stops.length} times in between`)\n}\n\ndirections(\n    \"Truckee\",\n    \"Tahoe City\",\n    \"Sunnyside\",\n    \"Homewood\",\n    \"Tahoma\"\n)\n```\n\nПрименяя ...spred в аргументах функции можно передавать сколько угодно аргументов которые по сути собираются там в массив. Тут кстати применяются и ...rest операторы а конкретнее в этих строчках\n\n``` js\n    let [start, ...remaining] = args\n    let [finish, ...stops] = remaining.reverse()\n```\n\nтут происходит разбор массива путем его дестрктуризации в том и с помощью ...rest оператора. Стоит обратить внимание что как мы назвали ...rest так дальше и будет называтся уже новый массив (или объект).\n",
      "message": "",
      "created": "2021-06-17T05:11:03.202Z",
      "creators": [
        {
          "id": "b0568c88-bb34-4420-969e-41238089a0d4",
          "uniqueName": "google#113467622262670857280",
          "displayName": "Alexander Matviienko",
          "createdAt": "2021-05-10T19:50:11.968Z",
          "updatedAt": "2021-05-10T19:50:31.732Z"
        }
      ]
    }
  },
  {
    "id": "feaa13b9-dec0-4466-983c-e11663ee939d",
    "emoji": null,
    "title": "Расширение объектных литералов",
    "content": "",
    "headId": 613194,
    "archivedAt": null,
    "folderPathname": "/MERN/React Redux",
    "parentFolderId": "707c592f-b5e3-4ddf-860a-7767803f11dc",
    "teamId": "nhFMY3a5g",
    "generated": false,
    "createdAt": "2021-06-16T17:54:55.950Z",
    "updatedAt": "2021-07-19T08:19:43.118Z",
    "version": 6,
    "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
    "workspaceId": "a26b69f4-c521-4719-9766-2da1c713b767",
    "head": {
      "id": 613194,
      "docId": "feaa13b9-dec0-4466-983c-e11663ee939d",
      "content": "# Расширение объектных литералов\n\nПо сути это деструктирование только наоборот.\nТо есть из отдельных переменных я могу сложить объект.\nК примеру, есть у нас две перменные:\n``` js\nlet name = 'Tallac'\nlet elevation = 9738\n\nlet newObj = {name, elevation}\n\nconsole.log(newObj) // = {name: 'Tallac', elevation: 9738}\n```\n\nТаким же образом к объекту можо добавить и функцию, сделав ее методом объекта\n\n``` js\nlet print = function () {\n   console.log(`Mt. ${this.name} is ${this.elevation} feet tall`) \n}\n\nlet newObj = {name, elevaton, print}\n\nnewObj.print() // = Mt. Tallac is 9738 feet tall\n```\n\nИ не большой бонус, при написании функций объектов писать слово __function__ не обязательно\n\nПример:\n\n``` js\nlet newObj = {\n  name: 'Andrey',\n  surname: 'Vasiliev',\n  logAll: () {\n  console.log(`person ${this.name} ${this.surname}`)\n  }\n}\n\nnewObj.logAll() // = person Andrey Vasiliev\n```\n\nВот такой укороченный синтаксис класической __function__ который позволяет использовать __this__ но при этом не надо писать слово __function__",
      "message": "",
      "created": "2021-06-16T18:12:06.147Z",
      "creators": [
        {
          "id": "b0568c88-bb34-4420-969e-41238089a0d4",
          "uniqueName": "google#113467622262670857280",
          "displayName": "Alexander Matviienko",
          "createdAt": "2021-05-10T19:50:11.968Z",
          "updatedAt": "2021-05-10T19:50:31.732Z"
        }
      ]
    }
  },
  {
    "id": "8ac1992d-9363-42dc-b2ba-af54bac84558",
    "emoji": null,
    "title": "Деструрирующие присваивание",
    "content": "",
    "headId": 611406,
    "archivedAt": null,
    "folderPathname": "/MERN/React Redux",
    "parentFolderId": "707c592f-b5e3-4ddf-860a-7767803f11dc",
    "teamId": "nhFMY3a5g",
    "generated": false,
    "createdAt": "2021-06-16T13:20:26.614Z",
    "updatedAt": "2021-07-19T08:19:43.118Z",
    "version": 14,
    "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
    "workspaceId": "a26b69f4-c521-4719-9766-2da1c713b767",
    "head": {
      "id": 611406,
      "docId": "8ac1992d-9363-42dc-b2ba-af54bac84558",
      "content": "# Деструктирующие присваивание\n\nДанный вид присваивания придуман для более удобного и наглядного извлекания данных из объектов или массивов для последующей работы с ними.\n\nДля демонстрации работы данного данного присваивания создадим объект:\n``` js\nlet sandwich = {\n    bread: 'dutch crunch',\n    meat: 'tuna',\n    cheese: 'swiss',\n    toppings: ['lettuce', 'tomato', 'mustard']\n}\n```\n\n## Пример 1\n\n``` js\nlet {bread} = sandwich\n\nconsole.log(bread) // = 'dutch crunch'\n```\n\nЗдесь происходит процесс извлекания значения свойства __bread__ из объекта __sandwich__ и перекладывания его в одноименную\nпеременную. И далее значение этой перменной можно абсолютно спокойно менять. Как в примере ниже.\n\n``` js\nbread = 'Borodinskiy'\nconsole.log(bread) // = 'Borodinskiy'\n```\n\nНичто не мешает извлечь несколько свойств и объекта\n\n``` js\nlet {meat, chesse} = sandwich\nconsole.log(meat, chesse) // = 'tuna swiss'\n```\n\nИ даже можно при извлечении дать совои имена переменным\n\n``` js\nlet {meat: newNameForMeat, bread: newNameForBread} = sandwich\nconsole.log(newNameForMeat, newNameForBread) // = 'dutch crunch tuna'\n```\n\n\n## Пример 2\n\nТак же можно использовать деструктурирующие присваивании и в функциях. Допустим создадим функцию которая будет к имени человека добавлять приставку титула.\n\n``` js\nconst lordify = regularPerson => console.log(regularPerson.firstname + 'to Cantrebury')\nconst regularPerson = {\n  firstname: 'Bill',\n  lastname: 'Wilson'\n}\nlordify(regularPerson) // = 'Bill to Cantrebury'\n```\n\nБлагодаря деструктурирующему присваиванию можно сделать данную запись покороче и попонятнее\n\n``` js\nconst lordify = {firstname} => console.log(firstname + 'to Cantrebury')\nconst regularPerson = {\n  firstname: 'Bill',\n  lastname: 'Wilson'\n}\nlordify(regularPerson) // = 'Bill to Cantrebury'\n```\n\nКак видим здесь применяется деструктуризация прямо в функции\n\n## Пример 3\n\nПрименения деструктуризации с массивами очень похожа на работу с объектами\n\n``` js\nconst [firstResort, secondResort] = [\"Kirkwood\", \"Squaw\", \"Alpine\"]\nconsole.log(firstResort, secondResort) // = 'Krikword Squaw'\n```\n\nВ случае если нам надо достать значения измбирательно вместо ненужных элементов оставляем пропуск и запятую\n``` js \nconst [,,lastResort] = [\"Kirkwood\", \"Squaw\", \"Alpine\"]\nconsole.log(lastResort) //= 'Alpine'\n```",
      "message": "",
      "created": "2021-06-16T14:23:00.567Z",
      "creators": [
        {
          "id": "b0568c88-bb34-4420-969e-41238089a0d4",
          "uniqueName": "google#113467622262670857280",
          "displayName": "Alexander Matviienko",
          "createdAt": "2021-05-10T19:50:11.968Z",
          "updatedAt": "2021-05-10T19:50:31.732Z"
        }
      ]
    }
  },
  {
    "id": "4d150a4f-090a-44ea-b7d5-3c99e4a4e792",
    "emoji": null,
    "title": "Resource",
    "content": "",
    "headId": 530684,
    "archivedAt": null,
    "folderPathname": "/Laravel",
    "parentFolderId": "1fb3a0ba-d062-405f-87ca-55c21b1ee8bb",
    "teamId": "nhFMY3a5g",
    "generated": false,
    "createdAt": "2021-06-03T14:00:36.103Z",
    "updatedAt": "2021-10-28T12:53:40.163Z",
    "version": 14,
    "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
    "workspaceId": "4ae225f9-123d-4918-a49f-e0c91bd0b18a",
    "head": {
      "id": 530684,
      "docId": "4d150a4f-090a-44ea-b7d5-3c99e4a4e792",
      "content": "# Resource\n__Resource__ это сформированный массив данных который преобразуется в JSON ответ для фронта, что повышает удобство работы фронтендерам\n\nПример создания __Resource__\n``` php\nphp artisan make:resource Post/PostResource\n```\n\nВ названии можно указать папку для создания, как в данном случае если мы создаем __Resource__ для постов то мы создаем его в соответсвующей папке и даем ему соответсвующие имя.\n\n  Затем заходим в папку __Resource__ там находим папку и файл созданного ресурса, заходим в него.\n  \n  Тут мы находим метод __toArray()__ в котором мы и должны поместить данный для отправки на сервер.\n  \n  Вот пример данных\n  ``` php\npublic function toArray($request)\n    {\n        return [\n            'title' => $this->title,\n            'post_content' => $this->string,\n            'image' => $this->image,\n        ];\n    }\n  ```\n  \n  Далее в контролере мы пишем такую конструкцию\n  \n![2021-06-03_17-16.png](https://boostnote.io/api/teams/nhFMY3a5g/files/16c73398b4b7d60719f2676bc3a42e587a2027cd57b58f5f7fa35c9d5bb836c0-2021-06-03_17-16.png)\n\nТо есть контролер возвращает вызов Ресурса и передача ему данных которые подставляются под __this__\n\nДля того что бы нам отправить несколько массивов данных нам надо сделать следующиее\n![2021-06-03_17-21.png](https://boostnote.io/api/teams/nhFMY3a5g/files/15f39a20741cbedd7f2f3d54bf35850141b1a1a16f4c30915f6089f6e096e88a-2021-06-03_17-21.png)\n\n  То есть сам по себе Ресурс работает только с одним массивом но можно спокойно вызвать метод __collection()__ и передать туда больше массивов данных.\n  \n ## Важно!!!\nЕсли я делаю пагинацию через что то не __blade__ (а скорее всего так и будет), и мне нужна будет к примерук в пагинации следующая и предыдущая страница то тогда в __rules()__ в массив данных я добавляю ключи __page__ и __per_page__\n\nПример:\n![2021-06-03_17-38.png](https://boostnote.io/api/teams/nhFMY3a5g/files/104d90509582b4dfd282f68a476f644a60b33311a60f9b260b25a636a4fa7b25-2021-06-03_17-38.png)\n\n\nВот теперь как можно реализовать отдачу постов (к примеру) с страницами\n![2021-06-03_17-41.png](https://boostnote.io/api/teams/nhFMY3a5g/files/6a789c3ea8a759d56ff3554e450628be34bd456029b0dc84cad69ac3607f8c7a-2021-06-03_17-41.png)\n  ",
      "message": "",
      "created": "2021-06-03T14:47:02.416Z",
      "creators": [
        {
          "id": "b0568c88-bb34-4420-969e-41238089a0d4",
          "uniqueName": "google#113467622262670857280",
          "displayName": "Alexander Matviienko",
          "createdAt": "2021-05-10T19:50:11.968Z",
          "updatedAt": "2021-05-10T19:50:31.732Z"
        }
      ]
    }
  },

  {
    "id": "af45e499-02a2-49a6-96e1-16618c09e19e",
    "emoji": null,
    "title": "Postman",
    "content": "",
    "headId": 530582,
    "archivedAt": null,
    "folderPathname": "/Laravel",
    "parentFolderId": "1fb3a0ba-d062-405f-87ca-55c21b1ee8bb",
    "teamId": "nhFMY3a5g",
    "generated": false,
    "createdAt": "2021-06-03T13:57:31.033Z",
    "updatedAt": "2021-10-28T12:53:40.163Z",
    "version": 4,
    "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
    "workspaceId": "4ae225f9-123d-4918-a49f-e0c91bd0b18a",
    "head": {
      "id": 530582,
      "docId": "af45e499-02a2-49a6-96e1-16618c09e19e",
      "content": "# Postman\nПомогает тестировать backend удобен в том плане что выводит место где произошла ошибка",
      "message": "",
      "created": "2021-06-03T13:58:32.884Z",
      "creators": [
        {
          "id": "b0568c88-bb34-4420-969e-41238089a0d4",
          "uniqueName": "google#113467622262670857280",
          "displayName": "Alexander Matviienko",
          "createdAt": "2021-05-10T19:50:11.968Z",
          "updatedAt": "2021-05-10T19:50:31.732Z"
        }
      ]
    }
  },
  {
    "id": "f3c92850-c6c6-4ea1-9e16-1da92b321447",
    "emoji": null,
    "title": "Policy",
    "content": "",
    "headId": 530557,
    "archivedAt": null,
    "folderPathname": "/Laravel",
    "parentFolderId": "1fb3a0ba-d062-405f-87ca-55c21b1ee8bb",
    "teamId": "nhFMY3a5g",
    "generated": false,
    "createdAt": "2021-06-03T10:51:31.200Z",
    "updatedAt": "2021-10-28T12:53:40.163Z",
    "version": 25,
    "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
    "workspaceId": "4ae225f9-123d-4918-a49f-e0c91bd0b18a",
    "head": {
      "id": 530557,
      "docId": "f3c92850-c6c6-4ea1-9e16-1da92b321447",
      "content": "# Policy\n\nДля примера если человек обычгый пользователь то он не будет видить кнопок для админа.\n\n1. Создание __Policy__\n``` \nphp artisan make:policy AdminPolicy\n```\n\n1.1. Так же можно создать __Policy__ под модель что куда удобнее \n```\nphp artisan make:policy AdminPolicy -m User \n```\nдальнйшая инструкция будет отталкиватся от второй версии.\n2. Идем в app/Polices\nИ там мы увидим методы под CRUD, то есть с помощью __Policy__ мы можем ограничивать доступ не тем пользователям к CRUD функционалу.  \n\n3. К примеру мы хотим ограничить для всех кроме админа отображения кнопки для входа в админ панель.\n\nВ методе __view__ возвращаем результат проверки в модели пользователя колонки роль на соответсвие админу. То есть если в таблице у пользователь в колонке 'role' не стоит 'admin'  то эта функция возвращает false и уже от этого можно плясать либо в контролере либо во __view__\n![2021-06-03_14-07.png](https://boostnote.io/api/teams/nhFMY3a5g/files/dcfbdf1f370d89a86a2d8b09a5c442ab0681758b8d17736b6f3b2db3047f2947-2021-06-03_14-07.png)\n\n4. Регистрация __Police__ \nИдем в Providers/AuthServiceProvider.php и записываем в $policies следующие \n``` php\n    protected $policies = [\n        // 'App\\Models\\Model' => 'App\\Policies\\ModelPolicy',\n        User::class => AdminPolicy::class,\n    ];\n```\n\n\n5. Как это можно использовать в Контролере\nЗаходим в контролере и пишем \n``` php\npublic function __invoke(FilterRequest $request)\n    {\n        $this->authorize('view', auth()->user());//Тут мы и запускаем police который \n  //выполняет занесеную в него операцию тоесть проверяет роль админа\n        $data = $request->validated(); \n\n        $filter = app()->make(PostFilter::class, ['queryParams' => array_filter($data)]);\n        $posts = Post::filter($filter)->paginate(10);\nreturn view('post.index', compact('posts'));\n    }\n```\n\nПрименеие этого дела во view (__blade__)\nМы можем настроить отбражение какого либо элемента в зависимости от __Policy__ для этого оборачиваем этот элемент в такую конструкцию.\n\n``` \n@can('view', auth()->user())\n    <li class=\"nav-item\">\n <a class=\"nav-link active\" aria-current=\"page\" href={{route('admin.index')}}\">Admin</a>\n  </li>\n @endcan\n```\n\nВсе теперь если условие внутри policy не выполнено то этот элемент не будет отбражатся.\n\n\nСсылка на урок:\n[https://www.youtube.com/watch?v=rTajfGo4bPg&list=PLd2_Os8Cj3t8pnG4ubQemoqnTwf0VFEtU&index=35&ab_channel=LaravelCreativeLaravelCreative](url)",
      "message": "",
      "created": "2021-06-03T13:45:02.388Z",
      "creators": [
        {
          "id": "b0568c88-bb34-4420-969e-41238089a0d4",
          "uniqueName": "google#113467622262670857280",
          "displayName": "Alexander Matviienko",
          "createdAt": "2021-05-10T19:50:11.968Z",
          "updatedAt": "2021-05-10T19:50:31.732Z"
        }
      ]
    }
  },
  {
    "id": "3285fc3a-3eff-40e3-9a82-d3b7b4645c76",
    "emoji": null,
    "title": "Middleware",
    "content": "",
    "headId": 530156,
    "archivedAt": null,
    "folderPathname": "/Laravel",
    "parentFolderId": "1fb3a0ba-d062-405f-87ca-55c21b1ee8bb",
    "teamId": "nhFMY3a5g",
    "generated": false,
    "createdAt": "2021-06-03T10:15:55.367Z",
    "updatedAt": "2021-10-28T12:53:40.163Z",
    "version": 16,
    "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
    "workspaceId": "4ae225f9-123d-4918-a49f-e0c91bd0b18a",
    "head": {
      "id": 530156,
      "docId": "3285fc3a-3eff-40e3-9a82-d3b7b4645c76",
      "content": "# Middleware\nВ контексте laravel они помогают не пускать не тех пользователей куда не надо, но так же могут выполнять и иные задачи в промежутке между получением роутом запроса и запуском контролера.\n\n0. Важный момент по умолчанию в стандартной таблице пользователей в __laravel__ нету колонки с ролями поэтому ее надо создавать.\n\n1. Что бы создать свой __middleware__ необходимо прописать команду \n\n```\nphp artisan make:middleware AdminPanelMiddleware \n```\n\nДумаю где писать имя понятно\n\n2. Далее проходим в созданный файл и скролим к функции __handle()__ в которой мы и прописываем работу __middleware__ суть в том что нам надо создать проверку на условиях таким образом что бы вышло так что если пользователь проходит то функция возвращает ``` return $next($request);``` иначе возвращает что то другое, к примеру ридерект на другую страницу. \n\nПример:\n![2021-06-03_13-39.png](https://boostnote.io/api/teams/nhFMY3a5g/files/17d8fd122e4c093fc2386d512eee3c8e2af7d903e76666fd96f015b087af8306-2021-06-03_13-39.png)\n\n3. После __middleware__ надо зарегистрировать для этого в app/Http/Kernel.php\nв массиве __$routeMiddleware__ в низу добавляем ключь в виде названия посредника и в значение путь к нему.\n\nПример:\n![2021-06-03_13-43.png](https://boostnote.io/api/teams/nhFMY3a5g/files/f77ed36240acf2ac6313f2dc952b4588b077e50f732e0bd94c94a77726fef53c-2021-06-03_13-43.png)\n\n3. Прописываем __middleware__ в роуте\nПример: \n![2021-06-03_13-45.png](https://boostnote.io/api/teams/nhFMY3a5g/files/aeafaf34696715a46205261487fcd9cc322cb8aa24cdbfd52e57ad01138eb2ab-2021-06-03_13-45.png)\nили так\n\n![2021-06-03_13-46.png](https://boostnote.io/api/teams/nhFMY3a5g/files/302a927e7676410a442631bc9866fd2dfe408c837f64df928b0d088be69f5566-2021-06-03_13-46.png)\n\n\nВидео урок:\n[https://www.youtube.com/watch?v=Og8AASC3HqA&list=PLd2_Os8Cj3t8pnG4ubQemoqnTwf0VFEtU&index=34&ab_channel=LaravelCreativeLaravelCreative](url)",
      "message": "",
      "created": "2021-06-03T10:48:03.707Z",
      "creators": [
        {
          "id": "b0568c88-bb34-4420-969e-41238089a0d4",
          "uniqueName": "google#113467622262670857280",
          "displayName": "Alexander Matviienko",
          "createdAt": "2021-05-10T19:50:11.968Z",
          "updatedAt": "2021-05-10T19:50:31.732Z"
        }
      ]
    }
  },
  {
    "id": "d9d19165-ea7b-4224-8248-3ae54d7ebfea",
    "emoji": null,
    "title": "Авторизация",
    "content": "",
    "headId": 530066,
    "archivedAt": null,
    "folderPathname": "/Laravel",
    "parentFolderId": "1fb3a0ba-d062-405f-87ca-55c21b1ee8bb",
    "teamId": "nhFMY3a5g",
    "generated": false,
    "createdAt": "2021-06-03T09:45:41.663Z",
    "updatedAt": "2021-10-28T12:53:40.163Z",
    "version": 8,
    "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
    "workspaceId": "4ae225f9-123d-4918-a49f-e0c91bd0b18a",
    "head": {
      "id": 530066,
      "docId": "d9d19165-ea7b-4224-8248-3ae54d7ebfea",
      "content": "# Авторизация\n\nСоздание автоизации по шаблону laravel \n\n1. Устанавливаем если не установлен ```composer require laravel/ui``` \n2. Далее прописываем ```php artisan ui:auth```\nТаким образом мы установили авторизацию от laravel\n\nВ итоге должны появится \n в __views__ папка __auth__ и в __layouts__ появился __blade__ шаблон __app.blade.php__\n\n\n3. В роуте на адресс \"/\" вешаем HomeController@index\n\nВот и все авторизация подключена, можно спокойно кастомизировать ее вид самое главное это переиспользовать адреса и методы отправки данных, так же не забывать за CSRF токены, обязательно сохранять нейминг полей (в противном случае надо будет править контролер который находится в Contrillers/Auth и там их куча и на регистрацию и на авторизацию ), еще при регистрации надо что бы обязательно был ополе проверки пароля (confirm-password) \n\nВидео-урок\n[https://www.youtube.com/watch?v=Prau254LCqk&list=PLd2_Os8Cj3t8pnG4ubQemoqnTwf0VFEtU&index=33&ab_channel=LaravelCreativeLaravelCreative](url)",
      "message": "",
      "created": "2021-06-03T09:58:01.665Z",
      "creators": [
        {
          "id": "b0568c88-bb34-4420-969e-41238089a0d4",
          "uniqueName": "google#113467622262670857280",
          "displayName": "Alexander Matviienko",
          "createdAt": "2021-05-10T19:50:11.968Z",
          "updatedAt": "2021-05-10T19:50:31.732Z"
        }
      ]
    }
  },
  {
    "id": "982d7133-5180-4100-b269-2ec3b0d6f549",
    "emoji": null,
    "title": "Фильтры",
    "content": "",
    "headId": 530644,
    "archivedAt": null,
    "folderPathname": "/Laravel",
    "parentFolderId": "1fb3a0ba-d062-405f-87ca-55c21b1ee8bb",
    "teamId": "nhFMY3a5g",
    "generated": false,
    "createdAt": "2021-06-02T15:02:33.783Z",
    "updatedAt": "2021-10-28T12:53:40.163Z",
    "version": 17,
    "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
    "workspaceId": "4ae225f9-123d-4918-a49f-e0c91bd0b18a",
    "head": {
      "id": 530644,
      "docId": "982d7133-5180-4100-b269-2ec3b0d6f549",
      "content": "# Фильтры\n\nНам потребуются материалы из этой ссылки [https://drive.google.com/drive/folders/1xtUaXImqpAxsSGKXzlU42mFDAIG-twEZ](url)\n\n1. Создаем в app/Http папку __Filters__.\n2. Идем по ссылке сверху и качаем там __AbstractFilter__ и __FilterInterface__ и кидаем их в эту папку \n3. Создаем класс для сущности, тут у нас будет __PostFilter.php__ (хотя это может быть и CarFilter и DogFilter и т.д.)\nИ выходит к нас следующие \n![2021-06-02_18-07.png](https://boostnote.io/api/teams/nhFMY3a5g/files/1c194783fc2671306c547b5b9bcec2a0d106e554a9b5e2d1a8f492c9e08f2bad-2021-06-02_18-07.png)\n4. В папке __Models__ создаем папку __Traits__ и из ссылки выше кидаем в нее __Filterable__\n5. В модели по которой будет реализовыватся поиск надо прописать __use Filterable__\n \n![2021-06-02_18-15_1.png](https://boostnote.io/api/teams/nhFMY3a5g/files/17c762d5ccd5913da2d395e3da52fe12725784c90095345c5c70ee8c9dc4708e-2021-06-02_18-15_1.png)\n\n6. Идем в PostFilter \n  6.0 Делаем его наследуемым от __AbstractFilter__ и импортируем в него обязательный метод __getCallbacks()__ в котором делаем такую конструкцию\n  \n  \n![2021-06-02_18-26.png](https://boostnote.io/api/teams/nhFMY3a5g/files/faed03ad85b21a4d727249c1f0a037f8f2da182114ebcf0acd08b9805a33eb4e-2021-06-02_18-26.png)\n\n  \n  6.1 Создаем константы в которые вкладываем название колонок по которым планируем реализовывать фильрацию (что то вроде types.js в redux)\n  \n![2021-06-02_18-20.png](https://boostnote.io/api/teams/nhFMY3a5g/files/83c2e583a50511b968a001427a22a410e4954d75c85d4a2a4493bbd9245018c6-2021-06-02_18-20.png)\n\n\n  6.2 Под __getCallbacks()__ создаем экшены которые будут осуществлять поиск \n  \n![2021-06-02_18-23.png](https://boostnote.io/api/teams/nhFMY3a5g/files/79199d9b6da6c46b2826091f7fe452afa0f37bf866e2851d0df8e900504948fa-2021-06-02_18-23.png)\n\n7. Идем в контроолер и пишем подобную конструкцию \n![2021-06-02_18-27.png](https://boostnote.io/api/teams/nhFMY3a5g/files/d9aa520c517eb060de91c937a164dc529f29658315b180528c45e97aded8832d-2021-06-02_18-27.png)\n\n\n\nВидео: [https://www.youtube.com/watch?v=cL1eXKsnRJI&list=PLd2_Os8Cj3t8pnG4ubQemoqnTwf0VFEtU&index=31&ab_channel=LaravelCreativeLaravelCreative](url)\n\n",
      "message": "",
      "created": "2021-06-03T14:33:07.034Z",
      "creators": [
        {
          "id": "b0568c88-bb34-4420-969e-41238089a0d4",
          "uniqueName": "google#113467622262670857280",
          "displayName": "Alexander Matviienko",
          "createdAt": "2021-05-10T19:50:11.968Z",
          "updatedAt": "2021-05-10T19:50:31.732Z"
        }
      ]
    }
  },
  {
    "id": "2fdc0654-2a23-4e6e-9078-94bf42e2c43c",
    "emoji": null,
    "title": "Пагинаци + подключения различных шаблонов",
    "content": "",
    "headId": 530647,
    "archivedAt": null,
    "folderPathname": "/Laravel",
    "parentFolderId": "1fb3a0ba-d062-405f-87ca-55c21b1ee8bb",
    "teamId": "nhFMY3a5g",
    "generated": false,
    "createdAt": "2021-06-02T12:50:17.057Z",
    "updatedAt": "2021-10-28T12:53:40.163Z",
    "version": 6,
    "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
    "workspaceId": "4ae225f9-123d-4918-a49f-e0c91bd0b18a",
    "head": {
      "id": 530647,
      "docId": "2fdc0654-2a23-4e6e-9078-94bf42e2c43c",
      "content": "# Пагинаци + подключения различных шаблонов\n\nДля создания пагинации в Laravel придуман метод __paginate(num)__ который отдает объект с переданным в него кол-вом сущностей а так же дает разчилные методы в частности для переключения стрнаиц. \n\nПример:\n\n``` php\nclass IndexController extends Controller\n{\n    public function __invoke()\n    {\n        $posts = Post::paginate(10);\n        return view('post.index', compact('posts'));\n    }\n}\n```\n\nДалее если мы хотим вывести их в blade шаблоне, то выводим их как обычно через цикл. А если мы хотим подключить класическу пагинацию от blade то в низу (или в другом месте где хотим включить пагинацию) вызываем у объекта сущностей метод __links()__.\n\nБолее ясно показано в примере\n\n``` php\n<div class=\"mt-3\">\n        {{$posts->links()}}\n    </div>\n```\n\nЕсли нас не совсем утсраивает ее вид, то мы можем подключить пагинацию от bootstrap для этого \n\n1. Выполняем следующую команду в консоли \n\n``` \nphp artisan vendor:publish --tag=laravel-pagination\n\n```\n\nи у нас в папке __view__ появится папка __vendor__ которая включает в себя различные темы (в данном случае для пагинации). \n\n2. Подключить тему в app/Providers/AppServiceProvider.php в функции boot пишем следующую конструкцию\n\n``` php\npublic function boot()\n    {\n        Paginator::defaultView('vendor.pagination.bootstrap-4');\n    }\n```\nКак видим из примера тут мы вызываем класс пагинации у него вызываем функцию __defaultView__ в которую передвем адрес к теме пагинации указывая положения шаблона относительно папки __view__\n\n\n",
      "message": "",
      "created": "2021-06-03T14:34:15.076Z",
      "creators": [
        {
          "id": "b0568c88-bb34-4420-969e-41238089a0d4",
          "uniqueName": "google#113467622262670857280",
          "displayName": "Alexander Matviienko",
          "createdAt": "2021-05-10T19:50:11.968Z",
          "updatedAt": "2021-05-10T19:50:31.732Z"
        }
      ]
    }
  },
  {
    "id": "13e7fe51-c1c6-4bb7-a700-796b660e3297",
    "emoji": null,
    "title": "Seed and Factory",
    "content": "",
    "headId": 527009,
    "archivedAt": null,
    "folderPathname": "/Laravel",
    "parentFolderId": "1fb3a0ba-d062-405f-87ca-55c21b1ee8bb",
    "teamId": "nhFMY3a5g",
    "generated": false,
    "createdAt": "2021-06-02T11:46:30.657Z",
    "updatedAt": "2021-10-28T12:53:40.163Z",
    "version": 7,
    "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
    "workspaceId": "4ae225f9-123d-4918-a49f-e0c91bd0b18a",
    "head": {
      "id": 527009,
      "docId": "13e7fe51-c1c6-4bb7-a700-796b660e3297",
      "content": "# Seeder and Factory\n\nЭти два товарища помогают тем что в один момент могут заполнить БД различными значениями что здорово помогает и избавляет от добавления в ручную.\n\n1.Factory \n\nФабрики по производству значений для БД \nчто бы создать фабрику для таблицы неопходимо прописать \n```\nphp artisan make:factory NameFactory -m NameModel\n```\n\nПо класике жанра указываем имя с приставкой Factory и далее после флага __-m__ пишем название модели к которой надо привязать все это дело. \n\nДалее в функции __definition()__ в __return__ в асоциативном массиве прописываем чего и сколько нам создать (само собой под чего я имею в виду ключи с именем столбцов БД), \n\nФабрики имеют набор своих значений допустим используя в значении асоциативного массива выражение ```$this->faker->sentence(5),``` нам фабрика сгенирурует предложение из 5 букв\n\nБолее потробно с этим механизмом можно ознакомится на примере:\n\n``` php\nclass PostFactory extends Factory\n{\n    protected $model = Post::class;\n\n    public function definition()\n    {\n        return [\n            'title' => $this->faker->sentence(5),\n            'post_content' => $this->faker->text,\n            'image' => $this->faker->imageUrl(),\n            'likes' => random_int(1, 2000),\n            'public' => 1,\n            'category_id' => Category::get()->random()->id\n        ];\n    }\n}\n```\n\n\nТут кстати так же показана реализация добавления в колонку вторичных ключей первичного ключа (тут id) таблицы на которую ссылается колонка. \n\n\n2. Seeder\n\nЭто класс находящийся по адресу database/seeders/DatabaseSeeder.php\nЗаполнение реализуется за счет кода проиписаного в функцию __run()__.\n\nВот пример кода \n``` php\n public function run()\n    {\n        Category::factory(20)->create();\n        $tags = Tag::factory(40)->create();\n        $posts = Post::factory(200)->create();\n\n        foreach ($posts as $post){\n            $tagsIds = $tags->random(5)->pluck('id');\n            $post->tags()->attach($tagsIds);\n        }\n\n    }\n```\n\nВызов фабрики здесь происходит вызовом метода __factory()__ у модели, который принимает в себя кол-во записей который надо сгенирировать, ну и затем используется метод __create()__ для занесения этих данных в БД.\n\nТут кстати так же показан пример работы с таблицами где имеются связи многие ко многим.",
      "message": "",
      "created": "2021-06-02T12:08:00.616Z",
      "creators": [
        {
          "id": "b0568c88-bb34-4420-969e-41238089a0d4",
          "uniqueName": "google#113467622262670857280",
          "displayName": "Alexander Matviienko",
          "createdAt": "2021-05-10T19:50:11.968Z",
          "updatedAt": "2021-05-10T19:50:31.732Z"
        }
      ]
    }
  },
  {
    "id": "0782ecbb-1151-4d26-89a6-284e9f58cf57",
    "emoji": null,
    "title": "Service",
    "content": "",
    "headId": 526838,
    "archivedAt": null,
    "folderPathname": "/Laravel",
    "parentFolderId": "1fb3a0ba-d062-405f-87ca-55c21b1ee8bb",
    "teamId": "nhFMY3a5g",
    "generated": false,
    "createdAt": "2021-06-02T10:47:45.940Z",
    "updatedAt": "2021-10-28T12:53:40.163Z",
    "version": 6,
    "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
    "workspaceId": "4ae225f9-123d-4918-a49f-e0c91bd0b18a",
    "head": {
      "id": 526838,
      "docId": "0782ecbb-1151-4d26-89a6-284e9f58cf57",
      "content": "# Service\n\nПромежуточный пункт между контролером и моделью который берет на себя работу с CRUD.\nДля реализации данной фичи надо.\n1. В папке __app__ создать папку __Services__ в ней папку с названием сущности (к примеру Post), и в ней создаем класс с именем __Service__\n\nПример: \n![2021-06-02_13-51.png](https://boostnote.io/api/teams/nhFMY3a5g/files/46a5c2ebe75a0eca35438be4b7f5ddb6fe836ebc96c38d0175b8e5104cb3a1d8-2021-06-02_13-51.png)\n\n2. В этом классе создаем функции в которых будет реализовыватся работа CRUD\n\nПример: \n![2021-06-02_13-52.png](https://boostnote.io/api/teams/nhFMY3a5g/files/1547325f2bf7f7bdf0309d8eac1656d45048ecb75f08dafbc6d887ec33b6e868-2021-06-02_13-52.png)\n\n3. В папке контролеров которые работают с сущностью создаем __BaseController__ класс\nнаследуем его от глобального класса Contoller \nдалее создаем в нем публичную переменную __$service__ \nи создаем конструктор в аргументы которого прокидываем класс __Service__ созданный выше и создаем на его основе объект __$service__ прямо в аргументе.\nДалее внутри конструктора вышесозданной публичной переменной __service__ присваиваем тот __service__ который мы создали на основе класса __Service__ \n\nКароче говоря вот пример ))\n\n``` php\nnamespace App\\Http\\Controllers\\Post;\n\n\nuse App\\Http\\Controllers\\Controller;\nuse App\\Services\\Post\\Service;\n\nclass BaseController extends Controller\n{\n    public $service;\n\n    public function __construct(Service $service)\n    {\n        $this->service = $service;\n    }\n}\n\n\n```\n\n4. Затем от этого __BaseController__ мы делаем наслекдование тех контролеров которые работают с сущностью (что бы у них появился тот самый __service__). \n\nИ после мы вызываем этот __service__ уже внутри контролера у него вызываем нужный нам метод для работы с __CRUD__ и даем ему данные если надо \n\nПример\n![2021-06-02_13-52.png](https://boostnote.io/api/teams/nhFMY3a5g/files/49ae7531fd3f796c1a0c355696fb1d6f652c48ba94e47499aba2d3b9d6ecb273-2021-06-02_13-52.png)\n",
      "message": "",
      "created": "2021-06-02T11:01:57.885Z",
      "creators": [
        {
          "id": "b0568c88-bb34-4420-969e-41238089a0d4",
          "uniqueName": "google#113467622262670857280",
          "displayName": "Alexander Matviienko",
          "createdAt": "2021-05-10T19:50:11.968Z",
          "updatedAt": "2021-05-10T19:50:31.732Z"
        }
      ]
    }
  },
  {
    "id": "c1a3054d-4f9e-4abd-835d-ab14013e6602",
    "emoji": null,
    "title": "Request",
    "content": "",
    "headId": 530678,
    "archivedAt": null,
    "folderPathname": "/Laravel",
    "parentFolderId": "1fb3a0ba-d062-405f-87ca-55c21b1ee8bb",
    "teamId": "nhFMY3a5g",
    "generated": false,
    "createdAt": "2021-06-02T10:16:26.239Z",
    "updatedAt": "2021-10-28T12:53:40.163Z",
    "version": 10,
    "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
    "workspaceId": "4ae225f9-123d-4918-a49f-e0c91bd0b18a",
    "head": {
      "id": 530678,
      "docId": "c1a3054d-4f9e-4abd-835d-ab14013e6602",
      "content": "# Request\n\nКласс который принимает и валидирует данные которые приходят на сервер, позволяя чуть менее засирать контролер.\n\n1. Создаем Request такой командой\n``` \nphp artisan make:request Folder/NameRequest\n```\n\nВ команде указываем имя папки где лежит контролер с которым будет использоватся этот реквест и далее даем ему имя по имени контролера и в конце добавляем \"Request\"\n\n2. В само классе в authorize() ставим true\n``` php\n    public function authorize()\n    {\n        return true;\n    }\n```\n\nА в rules в асоциативный массив пишем что мы хотим принимать и в каком виде \n``` php\n    public function rules()\n    {\n        return [\n            'title' => 'required|string',\n            'post_content' => 'string',\n            'image' => 'string',\n            'category_id' => '',\n            'tags' => '',\n        ];\n    }\n```\n\n3. В контролере принимаем в аргументе реквест и ложим в переменную, далее ложим эту переменную в еще одну при этом не забываем за метод validated() и все))\n\n  \n \n",
      "message": "",
      "created": "2021-06-03T14:46:30.408Z",
      "creators": [
        {
          "id": "b0568c88-bb34-4420-969e-41238089a0d4",
          "uniqueName": "google#113467622262670857280",
          "displayName": "Alexander Matviienko",
          "createdAt": "2021-05-10T19:50:11.968Z",
          "updatedAt": "2021-05-10T19:50:31.732Z"
        }
      ]
    }
  },
  {
    "id": "dca1b870-ad0b-4199-a4ff-790c7ec19de7",
    "emoji": null,
    "title": "Однометодные контролеры",
    "content": "",
    "headId": 526673,
    "archivedAt": null,
    "folderPathname": "/Laravel",
    "parentFolderId": "1fb3a0ba-d062-405f-87ca-55c21b1ee8bb",
    "teamId": "nhFMY3a5g",
    "generated": false,
    "createdAt": "2021-06-02T09:54:18.052Z",
    "updatedAt": "2021-10-28T12:53:40.163Z",
    "version": 6,
    "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
    "workspaceId": "4ae225f9-123d-4918-a49f-e0c91bd0b18a",
    "head": {
      "id": 526673,
      "docId": "dca1b870-ad0b-4199-a4ff-790c7ec19de7",
      "content": "# Однометодные контролеры\n\nДля чистоты кода вместо засирания всемы экшенами одного контролера, предпочтительнее создать папку с однометодными контролерами под отдельные задачи.<br>\nДля реализации таких контролеров делаем следующиие:\n1. Создать папку в папке для контролеров, и уже в ней плодить контролеры только теперь их названия будут начинатся не с сущности с которой они работают, а с действия для этой сущности.<br>\nПример:\n![2021-06-02_12-58.png](https://boostnote.io/api/teams/nhFMY3a5g/files/15471dd4f47060e5feb76b0affe3f5f8bae698046e77c6a57963a19add0fc72c-2021-06-02_12-58.png)\n\n\n2. Непосредственно в контролере согдаем __invoke() метод, который вызывается автоматом при вызове класса(в данный момент контролера) и уже в этом методе прописываем все действия. В общей сложности использовать их можно точь в точь как и экшены коими они по сути и являются.\n\nПример:\n``` php\n    public function __invoke(Post $post)\n    {\n        $posts = Post::all();\n        return view('post.show', compact('post'));\n    }\n```\n\n3. В роуты мы должны сгрупировать и прокинуть в них нэймспэйсом название папки в которой надо искать эти контролеры (в противном случае лара в них никак не зайде, ленивая))) И в качаестве имне в простых роутах указываем имя контролера\n\nПример\n``` php\nRoute::group(['namespace' => 'Post'], function () {\n    Route::get('/posts', 'IndexController')->name('post.index');\n    Route::get('/posts/create', 'CreateController')->name('post.create');\n    Route::post('/posts', 'StoreController')->name('post.store');\n    Route::get('/posts/{post}', 'ShowController')->name('post.show');\n    Route::get('/posts/{post}/edit', 'EditController')->name('post.edit');\n    Route::patch('/posts/{post}', 'UpdateController')->name('post.update');\n    Route::delete('/posts/{post}', 'DestroyController')->name('post.delete');\n});\n```",
      "message": "",
      "created": "2021-06-02T10:05:31.983Z",
      "creators": [
        {
          "id": "b0568c88-bb34-4420-969e-41238089a0d4",
          "uniqueName": "google#113467622262670857280",
          "displayName": "Alexander Matviienko",
          "createdAt": "2021-05-10T19:50:11.968Z",
          "updatedAt": "2021-05-10T19:50:31.732Z"
        }
      ]
    }
  },
  {
    "id": "51458124-ac2e-4df6-bf8d-735b8088c14f",
    "emoji": null,
    "title": "Групирование роутов",
    "content": "",
    "headId": 530018,
    "archivedAt": null,
    "folderPathname": "/Laravel",
    "parentFolderId": "1fb3a0ba-d062-405f-87ca-55c21b1ee8bb",
    "teamId": "nhFMY3a5g",
    "generated": false,
    "createdAt": "2021-06-02T09:51:35.299Z",
    "updatedAt": "2021-10-28T12:53:40.163Z",
    "version": 6,
    "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
    "workspaceId": "4ae225f9-123d-4918-a49f-e0c91bd0b18a",
    "head": {
      "id": 530018,
      "docId": "51458124-ac2e-4df6-bf8d-735b8088c14f",
      "content": "# Групирование роутов\n\n``` php\nRoute::group(['namespace' => 'Post', 'prefix' => 'admin'], function () {\n    Route::get('/posts', 'IndexController')->name('post.index');\n    Route::get('/posts/create', 'CreateController')->name('post.create');\n    Route::post('/posts', 'StoreController')->name('post.store');\n    Route::get('/posts/{post}', 'ShowController')->name('post.show');\n    Route::get('/posts/{post}/edit', 'EditController')->name('post.edit');\n    Route::patch('/posts/{post}', 'UpdateController')->name('post.update');\n    Route::delete('/posts/{post}', 'DestroyController')->name('post.delete');\n});\n```\n\nОбъединив роуты в группу можно задавать namespace и префиксы",
      "message": "",
      "created": "2021-06-03T09:39:11.515Z",
      "creators": [
        {
          "id": "b0568c88-bb34-4420-969e-41238089a0d4",
          "uniqueName": "google#113467622262670857280",
          "displayName": "Alexander Matviienko",
          "createdAt": "2021-05-10T19:50:11.968Z",
          "updatedAt": "2021-05-10T19:50:31.732Z"
        }
      ]
    }
  },
  {
    "id": "6c077d2b-fc90-44c8-bf2b-a191454e8ecc",
    "emoji": null,
    "title": "Многие к одному и многие к многим по конвенции",
    "content": "",
    "headId": 526515,
    "archivedAt": null,
    "folderPathname": "/Laravel",
    "parentFolderId": "1fb3a0ba-d062-405f-87ca-55c21b1ee8bb",
    "teamId": "nhFMY3a5g",
    "generated": false,
    "createdAt": "2021-06-02T08:52:46.570Z",
    "updatedAt": "2021-10-28T12:53:40.163Z",
    "version": 8,
    "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
    "workspaceId": "4ae225f9-123d-4918-a49f-e0c91bd0b18a",
    "head": {
      "id": 526515,
      "docId": "6c077d2b-fc90-44c8-bf2b-a191454e8ecc",
      "content": "# Многие к одному и многие к многим по конвенции\n\nТут разберем установку связей между сущностями по конвенции Laravel\nВся фишка установки таких связей стоит в правильном название миграций класов и экшенов так как они играют важную роль в установке отшений\n\n## 1. Многие к одному\n\n1. Создаем 2 модели и 2 миграции <br>\nМодели: \n![2021-06-02_11-56.png](https://boostnote.io/api/teams/nhFMY3a5g/files/a16a2e07043af50603b24738da3c724bf52e54305f5f6499f01a6ad17268df5a-2021-06-02_11-56.png)\n\nМиграции:\n![2021-06-02_11-56_1.png](https://boostnote.io/api/teams/nhFMY3a5g/files/4974dd6c844fa2d03da65d6cf68469a2bbd64bd9dcdf97ef65a321532924edc5-2021-06-02_11-56_1.png)\n\n\n1. В миграции таблицы \"многих\" устанавливаем вторичный ключ. \n\n``` php \n$table->unsignedBigInteger('category_id');\n```\n\n2. В модели (одних) указываем связь на многих путем создания функции \n``` php \npublic function posts()\n    {\n        return $this->hasMany(Post::class);\n    }\n```\n\n3. В модели (многих) указываем связь на одних \n``` php \n public function category()\n    {\n        return $this->belongsTo(Category::class);\n    }\n```\n\n\n## 1. Многие к многим\n1. Создаем 2 модели и 3 миграции (третья связывающая)<br>\nМодели: \n \n![2021-06-02_12-03.png](https://boostnote.io/api/teams/nhFMY3a5g/files/2acfd7e740208dec5ff573ebf66ea1f0470ff8e9e0678ee8eb480865bbfe5d5a-2021-06-02_12-03.png)\n\nМиграции:\n\n![2021-06-02_12-04.png](https://boostnote.io/api/teams/nhFMY3a5g/files/a29bb992a955cb9e90ef41265022a2f850cab747664257a2df5192d9740d04b8-2021-06-02_12-04.png)\n\n2. В миграции связывющей таблицы создаем вторичные ключи\n``` php \n$table->unsignedBigInteger('post_id');\n$table->unsignedBigInteger('tag_id');\n```\n3. В моделях указвываем связи друг на друга <br>\nПервая\n``` php \n    public function tags()\n    {\n        return $this->belongsToMany(Tag::class);\n    }\n```\n\nВторая\n``` php \n    public function posts()\n    {\n        return $this->belongsToMany(Post::class);\n    }\n```\n\nИ теперь можно спокойно через контролер стучатся от одних к другим \n\n``` php\n        $posts = Post::find(1);\n        $tag = Tag::find(1);\n        dd($posts->tags);\n```",
      "message": "",
      "created": "2021-06-02T09:08:57.032Z",
      "creators": [
        {
          "id": "b0568c88-bb34-4420-969e-41238089a0d4",
          "uniqueName": "google#113467622262670857280",
          "displayName": "Alexander Matviienko",
          "createdAt": "2021-05-10T19:50:11.968Z",
          "updatedAt": "2021-05-10T19:50:31.732Z"
        }
      ]
    }
  },
  {
    "id": "1e8ac59c-e7e1-4625-b47a-b76e9d7df6e1",
    "emoji": null,
    "title": "Многие к многим",
    "content": "",
    "headId": 526144,
    "archivedAt": null,
    "folderPathname": "/Laravel",
    "parentFolderId": "1fb3a0ba-d062-405f-87ca-55c21b1ee8bb",
    "teamId": "nhFMY3a5g",
    "generated": false,
    "createdAt": "2021-06-01T12:44:44.620Z",
    "updatedAt": "2021-10-28T12:53:40.163Z",
    "version": 12,
    "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
    "workspaceId": "4ae225f9-123d-4918-a49f-e0c91bd0b18a",
    "head": {
      "id": 526144,
      "docId": "1e8ac59c-e7e1-4625-b47a-b76e9d7df6e1",
      "content": "# Многие к многим\n\nИ так допустим у нас есть посты которые имеют много тегов и теги которые имеют много постов. Сейчас будем все это дело связывать. \n\n1. Для этого нам нужна еще одна таблица которая и будет связывающим звеном между постами и тегами. Создаем модель с миграцией:\n\n``` \nphp artisan make:model PostTag -m\n```\n\nНазываем модель именами связываемых таблиц в алфавитном порядке\n\n2. Идем в миграцию связывающей таблицы\nИ там создаем 2 колонки котрые буду являтся ключами ссылающиеся на первичные ключи таблиц.\n\nДелаем их индексами\n\nИ назначаем их ссылающимеся ключами. По принципу примера\n\n``` php\n            $table->unsignedBigInteger('post_id');\n            $table->unsignedBigInteger('tag_id');\n\n            $table->index('post_id', 'post_tag_post_idx');\n            $table->index('tag_id', 'post_tag_tag_idx');\n\n            $table->foreign('post_id', 'post_tag_post_fk')->on('posts')->references('id');\n            $table->foreign('tag_id', 'tag_tag_post_fk')->on('tags')->references('id');\n```\n\n  3. Поочередно заходим в модели таблиц которые ссылаются друг на друга (кроме связывающей) и создаем там функцию с именем того на что она ссылается  и возвращаем вызываемый из this метод __belongsToMany__ в атрибут передаем модель на котрую ссылаемся (модель таблицы) вторым аргументом указываем связывающую таблицу третьим указываем колонку своего вторичного ключа и четвертым связывающий ключ таблицы с которой хотим что то достать.\n\nПонятние думаю станет на примере))\nЭто в модели постов\n\n``` php\n    public function tags()\n    {\n        return $this->belongsToMany(Tag::class, 'post_tags', 'post_id', 'tag_id');\n    }\n```\n\nа вот что пишем в модели тегов\n\n``` php\n    public function posts()\n    {\n        return $this->belongsToMany(Post::class, 'post_tags', 'tag_id', 'post_id');\n    }\n```\n\nПроще говоря говорим каждой из таблиц что бы она ссылалась на другую через связывающую таблицу\n\nИ в контролере мы можем вызывать у постов теги а у тегов посты вот таким макаром \n\n``` php\n        $post = Post::find(1);\n        $tag = Tag::find(1);\n        dd($post->tags);\n        dd($tag->posts);\n```\n\n## Запись данных в БД\nНапоминаю что примеры пишутся на основе таблицы постов и сопуствующий таблиц это категорий и тегов.\nВ данном случае идет описание записи данных в таблице постов и тегов, так как у тегов может быть много постов и у постов может быть много тегов \nВ случае связи многие к многим запись в бд происходит с определенной спецификой.\n1. Поскольку запись происходит в промежуточную таблицу то в ее модели надо разрешить запись используя следцующую команду:\n\n``` php\nprotected $guarded = false;\n```\n\n2. Переходим в контролер и добавляем следующий код в экшен записи <br>\n    2.1  Получаем данные в экшен мы как обычно \n    ``` php\n        $data = request()->validate([\n            'title' => 'string',\n            'post_content' => 'string',\n            'image' => 'string',\n            'category_id' => '',\n            'tags' => '',\n        ]);\n    ```\n    2.2 Далее выносим значение тегов в отдельную переменную и удаляем их с массива __$data__ так как массив пойдет в таблицу постов а там у нас колонки тегов нет.\n    ``` php\n      $tags = $data['tags'];\n        unset($data['tags']);\n    ```\n    2.3 После записывает данные с __$data__ в таблицу постов и выносим это дело в переменную, к которой мы затем обращаемся что бы через это значение запсать данные в промежуточную таблицу.\n    ``` php\n      $post = Post::create($data);\n        $post->tags()->attach($tags);\n    ```\n    Подробнее остановимся на последней команде. Тут мы у записи которую мы вынресли в переменную вызываем метод связи который мы создавали в модели и у него вызываем метод __attach()__ в который ложим массив с тегами (в данном примере)\n    \n## Вывод данны из БД\n``` html\n  <select class=\"form-select\" multiple aria-label=\"multiple select example\" name=\"tags[]\">\n                    @foreach($tags as $tag)\n                        <option\n                            @foreach($post->tags as $postTag)\n                            {{ $tag->id === $postTag->id ? 'selected' : ''}}\n                            @endforeach\n                            value=\"{{$tag->id}}\" >{{$tag->title}}</option>\n                    @endforeach\n                </select>\n```\nЗдесь показан пример вывода тегов через категории (иначе мы и не получим теги у постов)\n\nДля того что бы их получитьт нам надо через цикл вывести постучавшись в пост и добравшись до его тегов. Сейчас когда я это пишу звучит просто но на тот момент мне это казалось сложным.\n\n\n## Изменение данных в БД\n\nИзмение от записи отличается тем что если в записи мы используем __attach()__\n``` php\n  $post->tags()->attach($tags);\n```\n\nТо для перезаписи (изменении) нам надо использовать метов __sync()__\n``` php\n  $post->tags()->sync($tags);\n```\n\nВот в чем и заключается разница, все остальное пишется по примеру записи новых данных в БД",
      "message": "",
      "created": "2021-06-02T07:48:30.797Z",
      "creators": [
        {
          "id": "b0568c88-bb34-4420-969e-41238089a0d4",
          "uniqueName": "google#113467622262670857280",
          "displayName": "Alexander Matviienko",
          "createdAt": "2021-05-10T19:50:11.968Z",
          "updatedAt": "2021-05-10T19:50:31.732Z"
        }
      ]
    }
  },
  {
    "id": "652c183e-d1f8-411d-9838-5c1acde3437e",
    "emoji": null,
    "title": "Многие к одному",
    "content": "",
    "headId": 523388,
    "archivedAt": null,
    "folderPathname": "/Laravel",
    "parentFolderId": "1fb3a0ba-d062-405f-87ca-55c21b1ee8bb",
    "teamId": "nhFMY3a5g",
    "generated": false,
    "createdAt": "2021-06-01T11:53:48.348Z",
    "updatedAt": "2021-10-28T12:53:40.163Z",
    "version": 10,
    "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
    "workspaceId": "4ae225f9-123d-4918-a49f-e0c91bd0b18a",
    "head": {
      "id": 523388,
      "docId": "652c183e-d1f8-411d-9838-5c1acde3437e",
      "content": "# Связь многие к одному\n\nДопустим есть у нас посты, много постов имеею одну категорию, а одна категория имеет много постов. Знаю может быть иначе но для примера сойдет.\n\nДля реализации связи мы в миграции с постами  создаем колонку котрая будет содержать ключь id котрый будетт ссылатся на категорию. \nДелаем эту колонку индексом\nИ указываем что эта колонка будет ссылатся на id в таблице категории.\n\n``` php\npublic function up()\n    {\n        Schema::create('posts', function (Blueprint $table) {\n            $table->id();\n            $table->string('title');\n            $table->string('post_content');\n            $table->unsignedBigInteger('category_id')->nullable();\n            $table->index('category_id', 'post_category_idx');\n            $table->foreign('category_id', 'post_category_fk')->on('categories')->references('id');\n        });\n    }\n```\n\nСоздаем миграцию категорий. \nИ запускаем миграцию командой ```php artisan migrate:fresh```\nЕсли выдает ошибку, то удаляем таблицы, удаляем миграции и создаем сначала категории а потом посты. Ибо таблица не может ссылатся на несуществующую таблицу.\n\n\nДальше идем в модель категорий создаем там функцию с (названием на что ссылаемся) которая будет возвращать метод __hasMany__ у $this и передаем туда аргументами \n1. Модель на какую ссылемся\n2. Названиие колонки-ключа\n3. название колокни на которую ссылается колонка-ключ (зачастую это id) \n\nПример\n``` php\n    public function posts()\n    {\n        return $this->hasMany(Post::class, 'category_id', 'id');\n    }\n```\n\nИдем в модель постов создаем подобную функцию только она будет ссылатся на категории с соответсвующим названием и возвращать она будет вызываемый у __$this__ метод belogsTo который принимает\n1. Модель на которую ссылаемся\n2. Колонка ключ у постов \n3. И первичный ключ у категорий\n\nПример \n``` php\n    public function category()\n    {\n        return $this->belongsTo(Category::class, 'category_id', 'id');\n    }\n```\n\nИ теперь мы можем использовать это в контролере таким образом \n\n``` php\n        $category = Category::find(1);\n        $post = Post::find(1);\n        dump($post->category);\n        dump($category->$posts);\n```\n\nвот так вот вызвав соответсвующий метод можно получить категоррию у постов и посты у категории.\n\n",
      "message": "",
      "created": "2021-06-01T12:14:58.566Z",
      "creators": [
        {
          "id": "b0568c88-bb34-4420-969e-41238089a0d4",
          "uniqueName": "google#113467622262670857280",
          "displayName": "Alexander Matviienko",
          "createdAt": "2021-05-10T19:50:11.968Z",
          "updatedAt": "2021-05-10T19:50:31.732Z"
        }
      ]
    }
  },
  {
    "id": "34415d8c-3895-4eed-8ba4-f55b76bbcb9c",
    "emoji": null,
    "title": "Комбинированные запросы",
    "content": "",
    "headId": 522527,
    "archivedAt": null,
    "folderPathname": "/Laravel",
    "parentFolderId": "1fb3a0ba-d062-405f-87ca-55c21b1ee8bb",
    "teamId": "nhFMY3a5g",
    "generated": false,
    "createdAt": "2021-06-01T08:13:51.286Z",
    "updatedAt": "2021-10-28T12:53:40.163Z",
    "version": 9,
    "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
    "workspaceId": "4ae225f9-123d-4918-a49f-e0c91bd0b18a",
    "head": {
      "id": 522527,
      "docId": "34415d8c-3895-4eed-8ba4-f55b76bbcb9c",
      "content": "# Комбинированные запросы \n\nВ описании создания этих экшенов я пропущу тот момент где под них создавался роут.\n\n## Найди или создай \n ``` php \npublic function firstOrCreate() {\n    $anotherPost = [\n      'title' => 'blablabla',\n      'content' => 'blablablablabla'\n      ]\n      \n      $post = Post::firstOrCreate(\n      ['title' => 'blablabla'],\n       [\n      'title' => 'blablabla',\n      'content' => 'blablablablabla'\n      ]\n      )\n}\n```\n\nСуть этого метода заключается в использовании к иодели метода firstOrCreate в которую первым аргументом передается асоциативный массив с названием колонки и значением. И если по этим параметрам в таблице  не будет найдено значения то в нее будет записаны данные из асоциативного массива переданным вторым аргументом. В котором и содержится контент который хотим записать в бд. Если найдется сущность с значением по первому параметру то он вернется\n\n## Измени или создай \n\n ``` php \npublic function updateOrCreate() {\n\n      $post = Post::firstOrCreate(\n      ['title' => 'blablabla'],\n       [\n      'title' => 'blablabla',\n      'content' => 'blablablablabla'\n      ]\n      )\n}\n```\n\nУ модели идет вызов метода __updateOrCreate__ в который первым аргументом пихаем критерий сравнения и если такой сущности не находит то он ее создает мо асоциативномк=у массиву из второго аргумента. Иначе меняет в соответсвии с тем же вторым аргументом.",
      "message": "",
      "created": "2021-06-01T08:31:34.785Z",
      "creators": [
        {
          "id": "b0568c88-bb34-4420-969e-41238089a0d4",
          "uniqueName": "google#113467622262670857280",
          "displayName": "Alexander Matviienko",
          "createdAt": "2021-05-10T19:50:11.968Z",
          "updatedAt": "2021-05-10T19:50:31.732Z"
        }
      ]
    }
  },
  {
    "id": "112db57b-b11a-45c4-944e-2575d02e6e2a",
    "emoji": null,
    "title": "CRUD через интерфейс",
    "content": "",
    "headId": 522833,
    "archivedAt": null,
    "folderPathname": "/Laravel",
    "parentFolderId": "1fb3a0ba-d062-405f-87ca-55c21b1ee8bb",
    "teamId": "nhFMY3a5g",
    "generated": false,
    "createdAt": "2021-06-01T04:38:55.514Z",
    "updatedAt": "2021-10-28T12:53:40.163Z",
    "version": 22,
    "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
    "workspaceId": "4ae225f9-123d-4918-a49f-e0c91bd0b18a",
    "head": {
      "id": 522833,
      "docId": "112db57b-b11a-45c4-944e-2575d02e6e2a",
      "content": "# CRUD через интерфейс\n\nЗдесь разбираем реализацию CRUD через интерфейс. \n\n## Конвенция по неймингу роутов и экшенов в контролерах под разные задачи.\n![2021-06-01_07-55.png](https://boostnote.io/api/teams/nhFMY3a5g/files/ceecb383f76098fc70cb013591210cc8ab766536f040b339f19da4de84ce5822-2021-06-01_07-55.png)\n\nПошагово разберем создание каждого функционала CRUD для взаимодействие через интерфейс.\n\n!!!Незабываеам за чистоту кода, все view-файлы CRUD для отдельной сущности, помещаем в отдельную папку. \n\nВ качестве примера будем разбирать работу с постами. Тоесть у нас ест БД с постами и нам надо реализовать CRUD этой БД через интерфейс\n\n### Вывод (read)\n\n1. Обращая внимание на конвеницию создаем роут \n``` php \nRoute::get('/posts', 'PostController@index')->name('post.index');\n```\n\n2. Далее идем в контролер и создаем там экшен index в котором мы получаем посты и пердаем их view\n\n``` php \npublic function index()\n    {\n        $posts = Post::all();\n        return view('post.index', compact('posts'));\n    }\n```\n\n3. Следующим этапом создаем blade файл (или юзаем иную фронт-систему) в котором мы получаем и выводим эти статьи через foreach (можно и иным способом)\n\n``` php\n@foreach($posts as $post)\n <div>{{$post->id}}. {{$post->title}}</div>\n@endforeach\n```\n\n### Создание (create)\n  Здесь мы будем __создавать__ пост в форме, а так это может быть какой нить другой функционал, который позволяет нам сотворить сущность.\n  \n  1. Создаем роут\n``` php \n  Route::get('/posts/create', 'PostController@create')->name('post.create');\n```  \n  2. Создаем экшен в контролере, миссия которого перенаправить нас на страницу создания сущности, в данный момент формы.\n``` php \npublic function create()\n    {\n        return view('post.create');\n    }\n```\n  3. Создаем форму \nКак их создавать и так понятно, пример приводить не буду\n\n### Запись (store)\n\n1. Создаем роут, с post функционалом\n\n``` php\nRoute::post('/posts', 'PostController@store')->name('post.store');\n```\n\n2. Создаем экшен контролера\n``` php\n public function store()\n    {\n        $data = request()->validate([\n            'title' => 'string',\n             'post_content' => 'string',\n            'image' => 'string',\n        ]);\n        Post::create($data);\n        return redirect()->route('post.index');\n    }\n```\nПолучаем в роуте данные используя метод __request()__, так же подключаем валидацию используя метод __validate()__. В котором разворачиваем асоциативный массив и в ключах пишем названия данных которые мы ждем, а в значениях тип данных, так же туда можно засунуть регулярку и мин макс значение.\n\nПосле используя метода модели __create()__ закидываем данные в БД и в конце используя конструкцию ```return redirect()->route('post.index');``` отправляем пользователя на нужную страницу (если надо).\n\n\n3. В view указываем метод отправки post, а так же через route() указываем нэйминг роута. И не забываем добавить CSRF-token. \n\n``` php\n<form action=\"{{ route('post.store') }}\" method=\"post\">\n            @csrf\n            <div class=\"mb-3\">\n                <label for=\"title\" class=\"form-label\">Title</label>\n                <input type=\"text\" class=\"form-control\" id=\"title\">\n            </div>\n            <button type=\"submit\" class=\"btn btn-primary\">Create</button>\n        </form>\n```\n\nнапоминаю это необязательно может быть форма, это моэет быть какой либо функционал по сбору статистики и отправки ее через axios тем же постом и с тем же адресом роута\n\n### Вывод отдельной сущности (к примеру поста) \n\n1. Создаем роут \n``` php \nRoute::get('/posts/{post}', 'PostController@show')->name('post.show');\n```\n\nВ uri даем серверу понять что в пути буду передаватся перемененные по которам и будет находится отдельная сущность. Переменные в пути обозначаются ```{name}```.\n\n2. Экшен в контролере \n``` php \npublic function show(Post $post)\n    {\n        return view('post.show', compact('post'));\n    }\n```\n\nздесь  сразу в атрибуте можно получить сущность из БД  по id переданному в адресе, если эту сущность получить не выйдет то выдаст 404. Далее если сущность получена она передается во view.\n\n3. Вывод в view blade  \n\nПроисходит приблизительно таким образом\n\n``` blade\n    <div>\n        <div>{{$post->id}}. {{$post->title}}</div>\n        <div>{{$post->post_content}}</div>\n    </div>\n```\n\n\n###  Изменения записей\nДля этого нам понядобятся 2 роута, на  edit (на нем будет выводится форма для изменнеия), и на update (это то что будет эти измения совершать). Понятнее станет на примере. \n\n1. Создаем роуты \n``` php\nRoute::get('/posts/{post}/edit', 'PostController@edit')->name('post.edit');\nRoute::patch('/posts/{post}', 'PostController@update')->name('post.update');\n```\nКак видим здесь используется __PATCH__ предназначение этого метода присылать данные для изменения\n\n2. Создаем экшены\n``` php\npublic function edit(Post $post)\n    {\n        return view('post.edit', compact('post'));\n    }\n\npublic function update(Post $post){\n    $data = request()->validate([\n        'title' => 'string',\n        'post_content' => 'string',\n        'image' => 'string',\n     ]);\n\n    $post->update($data);\n    return redirect()->route('post.show', $post->id);\n    }\n```\n\nC edit все понятно он получает индефикатор сущности находит ее и посылает на страницу измения этой сущности. А вот update получает индицикатор, пропускает через валидацию и методом __update()__ меняет сущность в БД, затем редиректит снова на страницу вывода сущности \n\n3. View blade\n``` blade\n            <form action=\"{{ route('post.update', $post->id) }}\" method=\"post\">\n                @csrf\n                @method('patch')       \n                <div class=\"mb-3\">\n                    <label for=\"image\" class=\"form-label\">Image</label>\n                    <input type=\"text\" name=\"image\" class=\"form-control\" placeholder=\"image\" value=\"{{$post->image}}\" id=\"image\">\n                </div>\n                <button type=\"submit\" class=\"btn btn-primary\">Create</button>\n            </form>\n```\n\nздесь такая же форма как и при создании, только разница в том что в __route()__ надо передать индефикатор сущности и так же в форме отдельно указать __@method('patch')__. \n\n\n### Удаляем записи \n1. Route\n``` php\nRoute::delete('/posts/{post}', 'PostController@destroy')->name('post.delete');\n```\n\n\n2. Action\n``` php\n    public function destroy(Post $post){\n        $post->delete();\n        return redirect()->route('post.index');\n    }\n```\nПолучаем, удаляем, перенаправляем\n\n3. View\n\n``` blade\n<form action=\"{{route('post.delete', $post->id)}}\" method=\"post\">\n            @csrf\n            @method('delete')\n            <button type=\"submit\" class=\"btn-danger btn\">Delete</button>\n        </form>\n```\n\nСсылкой не сделать, надо создавать форму с кнопкой указать метод пихать токен и роутить на экшен с передачей  индетификатора.",
      "message": "",
      "created": "2021-06-01T09:45:14.125Z",
      "creators": [
        {
          "id": "b0568c88-bb34-4420-969e-41238089a0d4",
          "uniqueName": "google#113467622262670857280",
          "displayName": "Alexander Matviienko",
          "createdAt": "2021-05-10T19:50:11.968Z",
          "updatedAt": "2021-05-10T19:50:31.732Z"
        }
      ]
    }
  },
  {
    "id": "0d57bda2-ff0a-4a03-a861-e035f794131e",
    "emoji": null,
    "title": "Запуск лары",
    "content": "",
    "headId": 521728,
    "archivedAt": null,
    "folderPathname": "/Laravel",
    "parentFolderId": "1fb3a0ba-d062-405f-87ca-55c21b1ee8bb",
    "teamId": "nhFMY3a5g",
    "generated": false,
    "createdAt": "2021-06-01T04:23:50.802Z",
    "updatedAt": "2021-10-28T12:53:40.163Z",
    "version": 6,
    "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
    "workspaceId": "4ae225f9-123d-4918-a49f-e0c91bd0b18a",
    "head": {
      "id": 521728,
      "docId": "0d57bda2-ff0a-4a03-a861-e035f794131e",
      "content": "#  Запуск лары\n\n1. Установить композер и ноду \n2. Удостоверится в существовании .env\n3. Выполнить в консоли команду ```php artisan key:generate```\n4. Если в env все норм а в БД не пускает, переустановить контейнеры с полным удалением\n5. Выполняем миграции через команду ```php artisan migrate```",
      "message": "",
      "created": "2021-06-01T04:36:25.309Z",
      "creators": [
        {
          "id": "b0568c88-bb34-4420-969e-41238089a0d4",
          "uniqueName": "google#113467622262670857280",
          "displayName": "Alexander Matviienko",
          "createdAt": "2021-05-10T19:50:11.968Z",
          "updatedAt": "2021-05-10T19:50:31.732Z"
        }
      ]
    }
  },
  {
    "id": "227fa177-590f-4540-b9be-0d593b3059a5",
    "emoji": null,
    "title": "View",
    "content": "",
    "headId": 526256,
    "archivedAt": null,
    "folderPathname": "/Laravel",
    "parentFolderId": "1fb3a0ba-d062-405f-87ca-55c21b1ee8bb",
    "teamId": "nhFMY3a5g",
    "generated": false,
    "createdAt": "2021-05-31T14:07:39.377Z",
    "updatedAt": "2021-10-28T12:53:40.163Z",
    "version": 18,
    "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
    "workspaceId": "4ae225f9-123d-4918-a49f-e0c91bd0b18a",
    "head": {
      "id": 526256,
      "docId": "227fa177-590f-4540-b9be-0d593b3059a5",
      "content": "# View\n\nПо сути это тот модуль которые получает от контролера данные и оборачивает их в html css js для вывода пользователю этих самых данных в красивом виде.\n\nДля этого нам понадобятся __blade__ файлы, которые по сути являются более удобным слиянием php и html. Увидить пример такого файла можно на картинке снизу. \n![2021-05-31_17-11.png](https://boostnote.io/api/teams/nhFMY3a5g/files/56a9bb44ef2207d5c81b2965304f3439ccf3e65dddb7772001d2d278851155a1-2021-05-31_17-11.png)\n\n## Прокидывания данных с контролера в вью\n\nПрежде чем перейти к разбору синтаксиса __blade__ файлов, для начала разберем как в них прокидывать данные. А делается это таким образом.\nПример:\n```php\npublic function index()\n    {\n        $posts = Post::all();\n        return view('posts', compact('posts'));\n    }\n```\nКак видно для того что бы передать __view__ полученные от модели данные в action контролера надо в return вызвать функцию __view()__ в которую первым аргументом идет путь к __blade__ файлу отталкиваясь от папки __views__, вторым аргументом идет перлача через метод __compact()__ переменной в которую положили данные из модели.\n\nВот по сути и все, получаем данные и возвращаем в view где выводим нужным нам образом.\n\n---\n## Синтаксис blade файла\nТеперь разберем синтаксис __blade__ файлов. \n1. В них не надо писать  ``` <?php ?>``` вместо этого перед вызово элементом php достаточно написать \"@\". На картинки можно увидить реализацию foreach. \n\n2.  ```{{ }}``` это анкалог __echo__,  то есть в них пишем любой код который мы хотимвстроить в html\n\n3. Вывод ошибок\nДля того что бы пользователь видел что он заполнил не так следует создать элемент вывода, стилизовать поместить в него переменную __$message__ и обернуть в функцию __error()__ поместив неё имя поля. Пример показа ниже\n``` php\n                @error('title')\n                <p class=\"text-danger\">{{$message}}</p>\n                @enderror\n```\n\nЧто бы при обновлении у пользователя не пропадали введенные данные следует в занчении поля написать функцию __old()__ и поместить в нее имя поля \nПРимер:\n``` php \n<input value=\"{{old('title')}}\" type=\"text\" name=\"title\" class=\"form-control\" placeholder=\"title\" id=\"title\">\n```\n### Создание шаблонов\n\nРазберем на примере как создавать шаблоны (формы) страниц в __blade__ \n1. Создаем blade файл где угодно в папке __views__ но желательно выделить под это дело отдельное место (папку)\n2. Далее заполняем его кодом который мы планируем использовать в качестве шаблона, а место под меняющийся контент выделяем функцией @yield('name') записав в нее имя шаблона или как это еще можно назвать. \n\nПример:\n\n![2021-05-31_18-48.png](https://boostnote.io/api/teams/nhFMY3a5g/files/f244a23e7f5b5705e314861356b013ef78541551989e421e51f0924d212777cc-2021-05-31_18-48.png)\n\n\nЗапоминаем это название в дальнейшем мы будем его использовать\n\n3. В файле где планируем использовать шаблон делаем следующее      <br>\n      \n      3.1 Экспортируем шаблон ```@extends('folder.layout-name')```<br>\n      3.2 Оборачиваем контент в шаблон как показано на примере\n```\n    @section('content')\n      <div>\n        this is about page\n      </div>\n    @endsection\n      \n```\n\n### Создание ссылок \n \n Конечно можно указывать в href ссылки в полном варианте но это есть не совсем правильно. А правильно следует так \n 1. Идем к роутам и там указываем имя роута через метод __name()__\n``` php\nRoute::get('/main', 'MainController@index')->name('main.index');\n```\n\n2. Идем к ссылкам и там в __href__ вызываем метод __route__ где и указываем имя роута\n``` php\n<a href=\"{{route('main.index')}}\">Main</a>\n```\n\n### Подключение библиотек и скриптов к главному файлу \nДля подключения в head и body в путях надо прописываить функцию asset() и передать в нее путь относительно папки public. \n\nПример на подключении bootstrap:\n``` php\n    <link rel=\"stylesheet\" href=\"{{asset('css/app.css')}}\">\n```\n\n### Фишки view которые относатяся не только к blade\n\n1. Если надо передать массив значений (допустим ненсколько выборов selecta) то тогда в атрибуте __name__ надо после имени указать квадратные скобки. Чем мы даем понять что будем передавать на сервер массив занчений\n\nПример:\n``` html\n<select class=\"form-select\" multiple aria-label=\"multiple select example\" name=\"tags[]\">\n</select>\n```",
      "message": "",
      "created": "2021-06-02T08:13:08.133Z",
      "creators": [
        {
          "id": "b0568c88-bb34-4420-969e-41238089a0d4",
          "uniqueName": "google#113467622262670857280",
          "displayName": "Alexander Matviienko",
          "createdAt": "2021-05-10T19:50:11.968Z",
          "updatedAt": "2021-05-10T19:50:31.732Z"
        }
      ]
    }
  },
  {
    "id": "d1af37a4-e901-42a6-b81a-5807ac7aacb2",
    "emoji": null,
    "title": "Изменение миграций",
    "content": "",
    "headId": 519960,
    "archivedAt": null,
    "folderPathname": "/Laravel",
    "parentFolderId": "1fb3a0ba-d062-405f-87ca-55c21b1ee8bb",
    "teamId": "nhFMY3a5g",
    "generated": false,
    "createdAt": "2021-05-31T11:23:31.747Z",
    "updatedAt": "2021-10-28T12:53:40.163Z",
    "version": 14,
    "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
    "workspaceId": "4ae225f9-123d-4918-a49f-e0c91bd0b18a",
    "head": {
      "id": 519960,
      "docId": "d1af37a4-e901-42a6-b81a-5807ac7aacb2",
      "content": "# Изминение структуры таблицы БД\n\n## Добавление колонок\n\nДля того что бы изменить структуру таблицы в БД через Laravel  надо создавать дополнительные миграции. К примеру есть у меня таблица __posts__ и я хочу добавить в нее колонку 'description'. мне надо создать миграцию с таким названием:\n\n``` php\nphp artisan migrate:make add_column_descriptiom_to_posts_table.php\n```\n\nКак мы можем видить название миграции должно складыватся из названия действия которое мы хотим совершить и названия таблицы к которой мы хотим эти действия применить. Синтаксис не должен содержать ошибок, в ларе это очень важно.\n\nДалее мы заходим в файл миграции и видим там класические функции __up__ и __down__\nВ первом мы пишенм что то вроде:\n\n``` php\n Schema::table('posts', function (Blueprint $table) {\n            $table->text('description')->nullable()->after('content');\n        });\n```\n\nчто приведет к созданию колонки с названием 'description' после колонки 'after'\n\nВо второй функции мо в обязательном порядке пишем сценарий отката изменений, что в свою очередь позволит избежать неприятных посоледствий.\n\n``` php \nSchema::table('posts', function (Blueprint $table) {\n            $table->dropColumn('description');\n        });\n```\n\nИ что бы применить измения прибегаем к класической команде:\n\n``` \nphp artisan migrate \n```\n\nЕсли надо будет откатить изменения прибегаем к команде\n\n```\nphp artisan migrate:rollback\n```\n\n## Удаление колонок \n\nУдаление делается по схожему принципу, создается миграция с названием наподобие как внизу \n```\nphp artisan make:migration delete_column_description_to_posts_table\n```\n\nЗаменяем только 'description' и 'posts' на свои колонку для удаления и таблицу.\n\nЗаходим, и в привычной нам функции __up__ пишем:\n``` php\n Schema::table('posts', function (Blueprint $table) {\n$table->dropColumn('description');\n   });\n```\n\nи обязательно в функции __down__ пишем откат удаления колонки путем ее создания \n\n```php\nSchema::table('posts', function (Blueprint $table) {\n$table->text('description')->nullable()->after('content');\n  });\n```\n\nИ что бы применить миграцию (удалить колонку) пишем ```php artisan migrate```.\nА что бы откатить удаление пишем ```php artisan migrate:rollback```.\n\n\n## Изменнеие имени колонок\n\n1. Создать миграцию с названием наподобие этого:\n``` \nphp artisan make:migration edit_column_content_to_posts_table\n```\n\n\n2. В функции __up__ пишем код для измения названия\n``` php\nSchema::table('posts', function (Blueprint $table) {\n            $table->renameColumn('content', 'post_content');\n        });\n```\n\n3. Обязательно пишем откат изменения в функции __up__\n``` php\nSchema::table('posts', function (Blueprint $table) {\n            $table->renameColumn('post_content', 'content');\n        });\n```\n\nНо просто так мы изменить название колнок мы не можем, поэтому устанавливаем плагин который нам это позволит выполнив команду ```composer require doctrine/dbal```\n\n\n4. И что бы применить миграцию (удалить колонку) пишем ```php artisan migrate```.\nА что бы откатить удаление пишем ```php artisan migrate:rollback```.\n\n## Изменнеие тип данных колонки\nИдем по накатанной схеме\n1. Создаем миграцию под нашу задачу\n  ```\n  php artisan make:migration change_column_post_content_to_posts_table\n  ```\n  \n2. Пишем код измениия типа данных в функции __up__\n``` php\n Schema::table('posts', function (Blueprint $table) {\n            $table->string('post_content')->change();\n        });\n```\n\n3. Идем в __down__ и пишем код для отката, абы не было беды\n``` php\nSchema::table('posts', function (Blueprint $table) {\n            $table->text('post_content')->change();\n        });\n```\n\n4. И идем применяем изменнеия будучи увереными что в случае чего сможем вернутся обратно.\n\n## Удаление таблицы\n\n1. Создаем миграцию \n```\nphp artisan make:migration delete_table_from_db\n\n```\n\n2. В __up__ вносим следующий код\n``` php\npublic function up()\n    {\n        Schema::dropIfExists('name_table');\n    }\n```\n\n3. В __down__ пишем код для отката в виде создания таблицы с учетом всех изменний которые в ней были сделаны (кароче пишем код для создания последней версии таблицы)\n\n``` php\nSchema::create('posts', function (Blueprint $table) {\n            $table->id();\n            $table->string('title');\n            $table->string('post_content');\n            $table->string('image')->nullable();\n            $table->integer('likes')->default(0);\n            $table->boolean('public')->default(1);\n            $table->timestamps();\n        });\n```\n\n4. По класике применяем измения не боясь ничего так как сможем их откатить (к сохраности данных это не относится только к структуре таблицы))",
      "message": "",
      "created": "2021-05-31T13:27:20.280Z",
      "creators": [
        {
          "id": "b0568c88-bb34-4420-969e-41238089a0d4",
          "uniqueName": "google#113467622262670857280",
          "displayName": "Alexander Matviienko",
          "createdAt": "2021-05-10T19:50:11.968Z",
          "updatedAt": "2021-05-10T19:50:31.732Z"
        }
      ]
    }
  },
  {
    "id": "b99ff3f6-b2fe-4259-a8be-31b23e7c36a7",
    "emoji": null,
    "title": "softDelet",
    "content": "",
    "headId": 517386,
    "archivedAt": null,
    "folderPathname": "/Laravel",
    "parentFolderId": "1fb3a0ba-d062-405f-87ca-55c21b1ee8bb",
    "teamId": "nhFMY3a5g",
    "generated": false,
    "createdAt": "2021-05-30T16:49:46.886Z",
    "updatedAt": "2021-10-28T12:53:40.163Z",
    "version": 5,
    "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
    "workspaceId": "4ae225f9-123d-4918-a49f-e0c91bd0b18a",
    "head": {
      "id": 517386,
      "docId": "b99ff3f6-b2fe-4259-a8be-31b23e7c36a7",
      "content": "# softDelete\n\nМягкое удаление - это удаление после которого можно востановить данные. Суть его заключается в том что при удаление данные становятся как бы невидимые и их всегда можно вернуть.\n\nРеализация:\n\n1. В миграции должна быть добавлена специальная колонка:\n``` php\n$table->softDeletes();\n```\n2. В модели надо вызвать следующий класс:\n``` php\nuse SoftDeletes;\n```\n\n3. Теперь перейдем к реализации функционала в контролере:\n``` php\n$post = Post::find(2);\n$post->delete();\n```\n\nУдаление происходит путем доставания данных в переменную и у этой переменной вызываем метод __delete()__\n\n4. Востанавливаются эти данные таким способом\n\n``` php\n$post = Post::withTrashed()->find(2);\n$post->restore();\n```\n\nУ модели вызываем метод __withTrashed()__ далее находим атрибут и ложим в переменную. После у этой переменной вызываем метод __restore()__. Таким образом данные снова востановлены(стали видимыми)",
      "message": "",
      "created": "2021-05-30T17:00:13.839Z",
      "creators": [
        {
          "id": "b0568c88-bb34-4420-969e-41238089a0d4",
          "uniqueName": "google#113467622262670857280",
          "displayName": "Alexander Matviienko",
          "createdAt": "2021-05-10T19:50:11.968Z",
          "updatedAt": "2021-05-10T19:50:31.732Z"
        }
      ]
    }
  },
  {
    "id": "cbe52f65-ecbe-40cd-9e21-7f9a3f605c81",
    "emoji": null,
    "title": "Update",
    "content": "",
    "headId": 526762,
    "archivedAt": null,
    "folderPathname": "/Laravel",
    "parentFolderId": "1fb3a0ba-d062-405f-87ca-55c21b1ee8bb",
    "teamId": "nhFMY3a5g",
    "generated": false,
    "createdAt": "2021-05-30T16:32:50.045Z",
    "updatedAt": "2021-10-28T12:53:40.163Z",
    "version": 7,
    "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
    "workspaceId": "4ae225f9-123d-4918-a49f-e0c91bd0b18a",
    "head": {
      "id": 526762,
      "docId": "cbe52f65-ecbe-40cd-9e21-7f9a3f605c81",
      "content": "# Update\n(данных прокинутых еще и через отношения)\nИзмения записей\n\nТут все просто, сначала получаем запись каким либо из способов и ложим в переменную, затем вызваем у этой переменной метод __update()__ в который передаем асоциативный массив  с названем колонки в виде клбча и новым занчением в виде значения \nКак правило данные первоначально должны пропустится через класс Request\n\nПример:\n\n``` php\n    public function __invoke(UpdateRequest $request, Post $post)\n    {\n        $data = $request->validated();\n\n        $tags = $data['tags'];\n        unset($data['tags']);\n\n        $post->update($data);\n        $post->tags()->sync($tags);\n\n        return redirect()->route('post.show', $post->id);\n    }\n```",
      "message": "",
      "created": "2021-06-02T10:26:45.805Z",
      "creators": [
        {
          "id": "b0568c88-bb34-4420-969e-41238089a0d4",
          "uniqueName": "google#113467622262670857280",
          "displayName": "Alexander Matviienko",
          "createdAt": "2021-05-10T19:50:11.968Z",
          "updatedAt": "2021-05-10T19:50:31.732Z"
        }
      ]
    }
  },
  {
    "id": "6c662a02-2d6e-4ed0-afd7-2a15fc509b69",
    "emoji": null,
    "title": "Create",
    "content": "",
    "headId": 526767,
    "archivedAt": null,
    "folderPathname": "/Laravel",
    "parentFolderId": "1fb3a0ba-d062-405f-87ca-55c21b1ee8bb",
    "teamId": "nhFMY3a5g",
    "generated": false,
    "createdAt": "2021-05-30T16:20:02.116Z",
    "updatedAt": "2021-10-28T12:53:40.163Z",
    "version": 6,
    "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
    "workspaceId": "4ae225f9-123d-4918-a49f-e0c91bd0b18a",
    "head": {
      "id": 526767,
      "docId": "6c662a02-2d6e-4ed0-afd7-2a15fc509b69",
      "content": "# Create\n\nДобавление данных в БД\n(данных прокинутых еще и через отношения)\nВ контролере создаем функцию в которой через модель таблицы в которую нам надо добавить данные вызываем метод __create()__ котрый принимает в себя асоциативный массив с ключами в виде названии колонки и значением которое планируем туда добавлять. Как правило данные первоначально должны пропустится через класс Request\n\nПример:\nВот массив сданными\n``` php \n$postsArr = [\n            [\n                'string' => 'title one create',\n                'content' => 'content for post to add in DB',\n                'image' => 'image.jpg',\n                'likes' => 20,\n                'published' => 1,\n            ],\n            [\n                'string' => 'another title one create',\n                'content' => 'another content for post to add in DB',\n                'image' => 'anotherimage.jpg',\n                'likes' => 205,\n                'published' => 0,\n            ]\n        ];\n```\n\nА вот реализация добавления этих данных\n\n``` php\n public function __invoke(StoreRequest $request)\n    {\n        $data = $request->validated();\n\n        $tags = $data['tags'];\n        unset($data['tags']);\n\n        $post = Post::create($data);\n        $post->tags()->attach($tags);\n\n\n        return redirect()->route('post.index');\n    }\n```\n",
      "message": "",
      "created": "2021-06-02T10:27:43.575Z",
      "creators": [
        {
          "id": "b0568c88-bb34-4420-969e-41238089a0d4",
          "uniqueName": "google#113467622262670857280",
          "displayName": "Alexander Matviienko",
          "createdAt": "2021-05-10T19:50:11.968Z",
          "updatedAt": "2021-05-10T19:50:31.732Z"
        }
      ]
    }
  },
  {
    "id": "bc2d7751-a400-4d1d-ac95-a3dc9a8efe1c",
    "emoji": null,
    "title": "Read",
    "content": "",
    "headId": 517350,
    "archivedAt": null,
    "folderPathname": "/Laravel",
    "parentFolderId": "1fb3a0ba-d062-405f-87ca-55c21b1ee8bb",
    "teamId": "nhFMY3a5g",
    "generated": false,
    "createdAt": "2021-05-30T14:03:13.796Z",
    "updatedAt": "2021-10-28T12:53:40.163Z",
    "version": 9,
    "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
    "workspaceId": "4ae225f9-123d-4918-a49f-e0c91bd0b18a",
    "head": {
      "id": 517350,
      "docId": "bc2d7751-a400-4d1d-ac95-a3dc9a8efe1c",
      "content": "# Read\n\nПолучения данных с БД\n\n1. Через метод find()\n\n\nПолучет запись по id\n\nПример:\n``` php\n$post = Post::find(1);\n```\n  2. Через all()\n  \n  Возвращает массив со всеми записями в таблице\n  \n  Пример:\n``` php\n$posts = Post::all();\n```\n\nКак и все массивы его можно перебрать через foreach()\nи получить значение из какой либо колонки\n\nПример:\n```php\nforeach ($posts as $post){\n            dump($post->string);\n        }\n```\n\n  3. Через where()\n\nПомогает получить данные согласно какому либо условию \nПример:\n\n``` php\n$posts = Post::where('published', 0)->get();\n```\n\nПринимает в себя 2 аргумента, где первый это название колонки, а второй значение. Так же обязательно хакончить эту конструкцию методом __get()__ или __first()__, первый возвращает массив со всеми атрибутами подходящих под условие, а второй объект первого попавшегося подходящего атрибута.",
      "message": "",
      "created": "2021-05-30T16:07:29.648Z",
      "creators": [
        {
          "id": "b0568c88-bb34-4420-969e-41238089a0d4",
          "uniqueName": "google#113467622262670857280",
          "displayName": "Alexander Matviienko",
          "createdAt": "2021-05-10T19:50:11.968Z",
          "updatedAt": "2021-05-10T19:50:31.732Z"
        }
      ]
    }
  },
  {
    "id": "5909654d-831a-4537-9ac6-21cfc70029ad",
    "emoji": null,
    "title": "Model",
    "content": "",
    "headId": 517160,
    "archivedAt": null,
    "folderPathname": "/Laravel",
    "parentFolderId": "1fb3a0ba-d062-405f-87ca-55c21b1ee8bb",
    "teamId": "nhFMY3a5g",
    "generated": false,
    "createdAt": "2021-05-30T12:01:45.838Z",
    "updatedAt": "2021-10-28T12:53:40.163Z",
    "version": 8,
    "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
    "workspaceId": "4ae225f9-123d-4918-a49f-e0c91bd0b18a",
    "head": {
      "id": 517160,
      "docId": "5909654d-831a-4537-9ac6-21cfc70029ad",
      "content": "# Model\n\nМеханизм в laravel созданный для работы с данными БД. \n\nСооздание модели:\n\n```\nphp artisan make:model Name \n```\n\nВажное замечание, имена надо давть в единственном числе, к примеру если это БД телефонов то имя у модели будет Телефон. Так как здесь имеется в виду модель конкретной сущности в БД.\n\n -m добавив данный флаг Laravel так же автоматом создаст миграцию к этой модели.\n \n",
      "message": "",
      "created": "2021-05-30T14:03:10.436Z",
      "creators": [
        {
          "id": "b0568c88-bb34-4420-969e-41238089a0d4",
          "uniqueName": "google#113467622262670857280",
          "displayName": "Alexander Matviienko",
          "createdAt": "2021-05-10T19:50:11.968Z",
          "updatedAt": "2021-05-10T19:50:31.732Z"
        }
      ]
    }
  },
  {
    "id": "b09525a8-1e79-425c-bc8d-c12afce31e0f",
    "emoji": null,
    "title": "Migration",
    "content": "",
    "headId": 517093,
    "archivedAt": null,
    "folderPathname": "/Laravel",
    "parentFolderId": "1fb3a0ba-d062-405f-87ca-55c21b1ee8bb",
    "teamId": "nhFMY3a5g",
    "generated": false,
    "createdAt": "2021-05-30T11:44:05.218Z",
    "updatedAt": "2021-10-28T12:53:40.163Z",
    "version": 14,
    "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
    "workspaceId": "4ae225f9-123d-4918-a49f-e0c91bd0b18a",
    "head": {
      "id": 517093,
      "docId": "b09525a8-1e79-425c-bc8d-c12afce31e0f",
      "content": "# Migration\n\nИх предназначения создавать, добавлять и изменять Таблицы в БД\n\nКоманда создания миграции\n\n```\nphp artisan make:migration create_name_table\n```\n\nВажный момент, имя должно быть в множественном числе.\n\nВнутри миграция содержит две функции \n1. Для создания таблицы или измнеия если это миграция для изменнеия таблицы\n``` php\npublic function up()\n    {\n        Schema::create('posts', function (Blueprint $table) {\n            $table->id();\n            $table->string('string');\n            $table->text('content');\n            $table->string('image')->nullable();\n            $table->unsignedBigInteger('likes')->nullable();\n            $table->boolean('published')->default(1);\n            $table->timestamps();\n        });\n    }\n```\n\n2. Для откатывания изменения (аналог ctrl + Z)\n``` php\npublic function down()\n    {\n        Schema::dropIfExists('posts');\n    }\n```\n\n## Создание таблицы\nРасмотрим повнимательнее момент создания таблицы:\n1. Вызываем метод _create_ калсса Schema в аргументах указываем \n    1. Название таблицы\n    2. Вызываем анонимную функцию внутри которой указываем действия которые необходимо провернуть с новосозданой таблицей.\n    Допустим  \n``` php\n    $table->id();\n```\n\nТаким котодом мы просим создать колонку id в новой таблице.\n     \n   Или \n    \n``` php\n    $table->boolean('published')->default(1);\n```\nИ мы создаем таблицу булевых значений с именем __published__ и устанавливаем значение по умолчанию 1 что равно true\n\nЧто бы миграции применились и таблица ьыла создана необходимо прописать команду \n``` \nphp artisan migrate\n```\n\nчто бы откатить миграцию прописываем \n``` \nphp artisan migrate:rollback\n```",
      "message": "",
      "created": "2021-05-30T13:27:07.776Z",
      "creators": [
        {
          "id": "b0568c88-bb34-4420-969e-41238089a0d4",
          "uniqueName": "google#113467622262670857280",
          "displayName": "Alexander Matviienko",
          "createdAt": "2021-05-10T19:50:11.968Z",
          "updatedAt": "2021-05-10T19:50:31.732Z"
        }
      ]
    }
  },
  {
    "id": "452f414e-d80d-41bd-981c-9a7201337fb3",
    "emoji": null,
    "title": "Controller",
    "content": "",
    "headId": 516929,
    "archivedAt": null,
    "folderPathname": "/Laravel",
    "parentFolderId": "1fb3a0ba-d062-405f-87ca-55c21b1ee8bb",
    "teamId": "nhFMY3a5g",
    "generated": false,
    "createdAt": "2021-05-30T10:49:22.774Z",
    "updatedAt": "2021-10-28T12:53:40.163Z",
    "version": 5,
    "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
    "workspaceId": "4ae225f9-123d-4918-a49f-e0c91bd0b18a",
    "head": {
      "id": 516929,
      "docId": "452f414e-d80d-41bd-981c-9a7201337fb3",
      "content": "# Controller\n\nПо сути это класс содержащий набор функций которые производят опрделенные действия в ответ на указания роута путем обращения к этим же самым функциям. Среди этих действий могут быть обращения к __Model__ и __View__\n\nОдин из способов создания __Controller__ это прописать в консоли команду \n\n```\nphp artisan make:controller NameController\n```\n\nСамое главное что бы имя было в вербдюжем стиле и заканчивалось словом _Controller_\n\nНаходятся они по адресу: /app/Http/Controller\n\n## Важно\n\nНачиная с Laravel 8 контролеры могут не работать пока не раскоментировать строку \n```\nprotected $namespace = 'App\\\\Http\\\\Controllers';\n```\n\nВ файле /app/Providers/RouteServiceProvider.php\n\n\n## Пример самого простого контролера\n``` php\n<?php\n\nnamespace App\\Http\\Controllers;\n\nuse Illuminate\\Http\\Request;\n//Сам котролер\nclass MyPlaceController extends Controller\n{//Пример функции которую можно вызвать через этот контролер в роуте \n    public function index () {\n        return 'This is my page';\n    }\n}\n\n```",
      "message": "",
      "created": "2021-05-30T11:00:25.162Z",
      "creators": [
        {
          "id": "b0568c88-bb34-4420-969e-41238089a0d4",
          "uniqueName": "google#113467622262670857280",
          "displayName": "Alexander Matviienko",
          "createdAt": "2021-05-10T19:50:11.968Z",
          "updatedAt": "2021-05-10T19:50:31.732Z"
        }
      ]
    }
  },
  {
    "id": "c6a7327e-0d45-483a-882f-141f22862074",
    "emoji": null,
    "title": "Route",
    "content": "",
    "headId": 516920,
    "archivedAt": null,
    "folderPathname": "/Laravel",
    "parentFolderId": "1fb3a0ba-d062-405f-87ca-55c21b1ee8bb",
    "teamId": "nhFMY3a5g",
    "generated": false,
    "createdAt": "2021-05-30T10:27:07.814Z",
    "updatedAt": "2021-10-28T12:53:40.163Z",
    "version": 7,
    "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
    "workspaceId": "4ae225f9-123d-4918-a49f-e0c91bd0b18a",
    "head": {
      "id": 516920,
      "docId": "c6a7327e-0d45-483a-882f-141f22862074",
      "content": "# Route\nПринимает HTTP запрос и в зависимости от его типа (get, post, delete ...) и uri отдает заранее заготовленный результат.  \n\n## Пример самого простого роута без обращения к контролеру:\n\n```php\nRoute::get('/', function () {\n    return view('welcome');\n});\n```\n\nКак видим что бы создать __Route__ нам надо отталкиваясь от его класса, указать тип запроса и uri который он принимает, далее в callback функции указываем что __Route__ должен сделать и вернуть в ответ на этот запрос.\n\n## Пример роута с обращением  контролеру:\n\n```php\nRoute::get('/', 'ControllerName@funcNameIncontroller);\n```\n\nВ случае с использование контролера (самый распространеный вариант), надо вместо вызова анонимной callback функции, сразу после указания uri через запятую строкой указать имя контролера и в этой же строке через \"__@__\" указать имя нужной нам функции контролера  ",
      "message": "",
      "created": "2021-05-30T10:49:24.835Z",
      "creators": [
        {
          "id": "b0568c88-bb34-4420-969e-41238089a0d4",
          "uniqueName": "google#113467622262670857280",
          "displayName": "Alexander Matviienko",
          "createdAt": "2021-05-10T19:50:11.968Z",
          "updatedAt": "2021-05-10T19:50:31.732Z"
        }
      ]
    }
  },
  {
    "id": "3d0706ca-f20a-4c5e-b08e-9dfc51c673e2",
    "emoji": null,
    "title": "MVC",
    "content": "",
    "headId": 516874,
    "archivedAt": null,
    "folderPathname": "/Laravel",
    "parentFolderId": "1fb3a0ba-d062-405f-87ca-55c21b1ee8bb",
    "teamId": "nhFMY3a5g",
    "generated": false,
    "createdAt": "2021-05-30T10:06:14.352Z",
    "updatedAt": "2021-10-28T12:53:40.163Z",
    "version": 7,
    "userId": "b0568c88-bb34-4420-969e-41238089a0d4",
    "workspaceId": "4ae225f9-123d-4918-a49f-e0c91bd0b18a",
    "head": {
      "id": 516874,
      "docId": "3d0706ca-f20a-4c5e-b08e-9dfc51c673e2",
      "content": "# MVC\nШаблон организации работы сервеного ПО. Суть которого заключается в разделении задач между определенными модулями (которой по своей сути являются обычыми PHP класами).\n\nРаботы MVC изобража на следуюзей схеме:\n![image.jpg](https://www.monocubed.com/wp-content/uploads/2020/12/MVC-architecture.jpg)\n\nНа которой мы видим:\n\n1. От пользователя (через браузер) приходит HTTP запрос на сервер, в сервере этот запрос первым подхватывает __Route__. \n2. __Route__ исходя из текста запроса ищет подходящий __Controller__ и говорит что ему делать.\n3. __Controller__ получив указания посылает запрос к __Model__ \n4. __Model__  имеет досутп к БД, только она может брать с нее данные и передавать их обратно в __Controller__\n5. __Controller__ получив данные передает их __View__\n6. __View__ занимается оформлением этих данных в стили и js и отдает их пользователю.",
      "message": "",
      "created": "2021-05-30T10:19:30.538Z",
      "creators": [
        {
          "id": "b0568c88-bb34-4420-969e-41238089a0d4",
          "uniqueName": "google#113467622262670857280",
          "displayName": "Alexander Matviienko",
          "createdAt": "2021-05-10T19:50:11.968Z",
          "updatedAt": "2021-05-10T19:50:31.732Z"
        }
      ]
    }
  },
  {
    "id": "b2f62269-1752-429b-8664-3f6008d79289",
    "emoji": null,
    "title": "Symbol",
    "content": "",
    "headId": 493580,
    "archivedAt": null,
    "folderPathname": "/TAR",
    "parentFolderId": "91c44f7a-5a17-4f1a-9c34-d0bcdd49cd39",
    "teamId": "nhFMY3a5g",
    "generated": false,
    "createdAt": "2021-05-22T12:41:22.255Z",
    "updatedAt": "2021-09-28T16:29:20.570Z",
    "version": 8,
    "userId": null,
    "workspaceId": "a26b69f4-c521-4719-9766-2da1c713b767",
    "head": {
      "id": 493580,
      "docId": "b2f62269-1752-429b-8664-3f6008d79289",
      "content": "# Symbol\n\n__Symbol__ - это примитивный тип данных, по сути уникальное и неизменное значение которое позволяет добавлять индефикаторы (уникальные имена) для свойств объектовб при это нерезрвирую строковые значения. \nКароче что бы строки не использовать которых видать показалось мало придумали __Symbol-ы__ которые видать позволяют достичь еще большей ункальности в именах свойтв объектов. В принципе мне это вполне понятно так как в __JS__ очень много объектов, точнее сказать он состоит из них))\n\nСоздание символов:\n``` js \nlet lalalei = Symbol('abracadabra')\n// Создадим еще один символ с тем же значением\nlet lalaleiTwo = Symbol('abracadabra')\n//А теперь проверим их на равенство \nconsole.log(lalalei === lalaleiTwo)\n// Что в свою очередь вернет \nfalse\n//Хотя и тип одинаковый и значение у символов точь в точь\n//но похожих символов не будет \n```\n\nА теперь поместим символ в ключь объекта\n\n``` js\nlet user = {\n  name: 'Vasya',\n  [lalalei]: 123,\n  [lalaleiTwo]: 321\n} \n// и глянем на него в консоли \n\nconsole.log(user)\n\n{\n  name: \"Vasya\",\n  Symbol(abracadabra): 123,\n  Symbol(abracadabra): 321\n}\n```\n\nИтак, как мы видели, обычно все символы уникальны, даже если их имена совпадают. Но иногда мы наоборот хотим, чтобы символы с одинаковыми именами были одной сущностью. Например, разные части нашего приложения хотят получить доступ к символу \"id\", подразумевая именно одно и то же свойство.\n<br>\nДля этого существует глобальный реестр символов. Мы можем создавать в нём символы и обращаться к ним позже, и при каждом обращении нам гарантированно будет возвращаться один и тот же символ.\n<br>\nДля чтения (или, при отсутствии, создания) символа из реестра используется вызов __Symbol.for(key)__.\n<br>\nОн проверяет глобальный реестр и, при наличии в нём символа с именем key, возвращает его, иначе же создаётся новый символ __Symbol(key)__ и записывается в реестр под ключом key.\n<br>\nПосмотрим на пример:\n``` js \n// читаем символ из глобального реестра и записываем его в переменную\nlet id = Symbol.for(\"id\"); // если символа не существует, он будет создан\n\n// читаем его снова в другую переменную (возможно, из другого места кода)\nlet idAgain = Symbol.for(\"id\");\n\n// проверяем -- это один и тот же символ\nalert( id === idAgain ); // true\n```",
      "message": "",
      "created": "2021-05-22T13:25:49.837Z",
      "creators": [
        {
          "id": "b0568c88-bb34-4420-969e-41238089a0d4",
          "uniqueName": "google#113467622262670857280",
          "displayName": "Alexander Matviienko",
          "createdAt": "2021-05-10T19:50:11.968Z",
          "updatedAt": "2021-05-10T19:50:31.732Z"
        }
      ]
    }
  },
  {
    "id": "57fb20da-fb53-4c61-a77c-e57e267c2b6d",
    "emoji": null,
    "title": "//TODO Клонирование объектов",
    "content": "",
    "headId": 493283,
    "archivedAt": null,
    "folderPathname": "/TAR",
    "parentFolderId": "91c44f7a-5a17-4f1a-9c34-d0bcdd49cd39",
    "teamId": "nhFMY3a5g",
    "generated": false,
    "createdAt": "2021-05-22T11:07:51.884Z",
    "updatedAt": "2021-09-28T16:29:20.570Z",
    "version": 4,
    "userId": null,
    "workspaceId": "a26b69f4-c521-4719-9766-2da1c713b767",
    "head": {
      "id": 493283,
      "docId": "57fb20da-fb53-4c61-a77c-e57e267c2b6d",
      "content": "# Клонирование объектов\n\n## imutable, clonedash\n### lonedash - это библиотека, с набором полезных функций, для работы с данными, для конвертирования их из одного формата в другой, фильтрации, маппинга и других вещей.",
      "message": "",
      "created": "2021-05-22T11:10:14.942Z",
      "creators": [
        {
          "id": "b0568c88-bb34-4420-969e-41238089a0d4",
          "uniqueName": "google#113467622262670857280",
          "displayName": "Alexander Matviienko",
          "createdAt": "2021-05-10T19:50:11.968Z",
          "updatedAt": "2021-05-10T19:50:31.732Z"
        }
      ]
    }
  },
  {
    "id": "1ba108af-f085-4b05-ad38-44d13f478768",
    "emoji": null,
    "title": "Rest и Spred",
    "content": "",
    "headId": 493456,
    "archivedAt": null,
    "folderPathname": "/TAR",
    "parentFolderId": "91c44f7a-5a17-4f1a-9c34-d0bcdd49cd39",
    "teamId": "nhFMY3a5g",
    "generated": false,
    "createdAt": "2021-05-21T15:19:14.802Z",
    "updatedAt": "2021-09-28T16:29:20.570Z",
    "version": 26,
    "userId": null,
    "workspaceId": "a26b69f4-c521-4719-9766-2da1c713b767",
    "head": {
      "id": 493456,
      "docId": "1ba108af-f085-4b05-ad38-44d13f478768",
      "content": "# Rest и Spred\n\n## Spred\n\nЕго функционал можно разбить на 2 категории:\n  1. Остаточные параметры\n    Здесь спред дает возможность передавать бесконечное количесмтво аргументов в функцию. К примеру:\n    ``` js\n    //создадим функцию записав в аргументы спред \n    //и выведем его в консоль \n    const c = (...arg) => console.log(arg)\n      // и вызвовем функцию передав туда \n      // произвольное кол-во аргументов\n      c(1, 2, 634, 978, 100500)\n      //в результате получим в консоль\n      [1, 2, 634, 978, 100500]\n    ```\n    \n    Как видим благодаря спреду функцию спокойно принимает произвольное кол-во аргументов. Только стоит учитывать что спред пакует их в массив так что прежде чем с ними работать их надо оттуда достать))\n    \n    Так же возможен и такой синтаксис\n    ```js \n    //тут мы указываем и класические аргументы, а \n    // так же и те которые будут запиханы в спред или \n    // в спред массив))\n    const joni = (a, b, ...spred) => {\n    // и выходит что с класическими аргументами мы можем работать по класике, а вот спред аргументы сидчт в массиве\n    console.log('a = ', a, 'b = ', b, 'rest = ', spred)\n    }\n  //что мы и замечаем при вызове функции\n    joni(1, 2, 'fdsfsdf', 656, [1, 2, 3], {\n    a: 'b', \n    c: 'd'\n    })\n    //в консоли выходит следующее\n    a =  1 b =  2 rest = (4) [\"fdsfsdf\", 656, Array(3),{…}]\n    \n    //здесь я хочу показать что можно абсолютно спокойно\n    //комбинировать разные виды аргументов так сказать\n    ```\n    \n    2. Оператор расширения (разворачивания)\n    Спред оператор позволяет разворачивать объекты, массивы и даже строки (какая \"неожиданость\")\n    \n    К примеру \n    ``` js \n    // есть 2 массива \n    const a = [1, 2, 3, 4, 5]\n    const b = [0, 9, 8, 7, 6]\n    //благодаря спреду мы можем развернуть эти массивы\n    //и соединить в один\n    console.log([...a, ...b])\n    // выдаст \n    [1, 2, 3, 4, 5, 0, 9, 8, 7, 6]  \n    \n    //тоже самое с объектами \n    const c = {a: 1, b:3}\n    const d = {l: 1, b:2}\n    \n    console.log({...c, ...d})\n    // выдаст \n    {a: 1, b:2, l:1,}\n    // свойства с одинаковыми ключами оно перезаписывает \n    // по последнему \n    ```\n    \n    ## Rest\n    Если спред разворачивает что то, то рест наоборот собирает.\n    \n    Пример:\n    ``` js \n    //Создадим объект\n    const obj = {a:1, b:2, c:3}\n    //Деструктуризируем его с помощью рест\n    const {a, ...rest} = obj\n    //и в результате \n    console.log({a, ...rest})\n    // в консоли мы видим что это такой же объект \n    {a:1, b:2, c:3}\n    ```\n    \n    \n  ## Вывод:\n  если мне надо развернуть объект, массив или строку грешным делом, то мне нужны спред или рест если мне надо собрать те же данные.",
      "message": "",
      "created": "2021-05-22T11:43:42.757Z",
      "creators": [
        {
          "id": "b0568c88-bb34-4420-969e-41238089a0d4",
          "uniqueName": "google#113467622262670857280",
          "displayName": "Alexander Matviienko",
          "createdAt": "2021-05-10T19:50:11.968Z",
          "updatedAt": "2021-05-10T19:50:31.732Z"
        }
      ]
    }
  },
  {
    "id": "90499321-ade2-420b-8453-fd1d42ed7ba5",
    "emoji": null,
    "title": " Создание модифицированных роутов. + Реализация повторяющихся компонентов.",
    "content": "",
    "headId": 495018,
    "archivedAt": null,
    "folderPathname": "/TAR",
    "parentFolderId": "91c44f7a-5a17-4f1a-9c34-d0bcdd49cd39",
    "teamId": "nhFMY3a5g",
    "generated": false,
    "createdAt": "2021-05-21T12:49:48.619Z",
    "updatedAt": "2021-09-28T16:29:20.570Z",
    "version": 19,
    "userId": null,
    "workspaceId": "a26b69f4-c521-4719-9766-2da1c713b767",
    "head": {
      "id": 495018,
      "docId": "90499321-ade2-420b-8453-fd1d42ed7ba5",
      "content": "# Создание модифицированных роутов. + Реализация повторяющихся компонентов.\n\n## В этой статье:\n\n1. Создание модифицированных роутов \n2. Реализация повторения компонентов\n\n## Поехали\n\nКак уже понятно из названия в реакте можно создавать модифицированные роуты, по сути это несколько модифицированный (в зависимости от задач) класический __Route__. <br>\nВот давайте взглянем:<br>\nесть \n``` js \n<LayoutComponent exact path=\"/dashboard\" component={Dashboard} />\n```\nесли мы посмотрим на него поближе, то увидим следующее\n``` js\nconst LayoutComponent = ({component: Component, ...rest}) => {\n    return(\n        <Route {...rest} render={() => (\n            <Layout>\n                <Component />\n            </Layout>\n        )}/>\n    )\n```\n\n\nСтановится понятно что свойства __path__ и __component__ это эмуляция одноименных свойств __Route__. И зайдя в мод. роут. увидим что значения этих свойств передаются как раз таки в свойтва __Route__.  Только передаются посредством разворачивания объекта через спред. \nРаспишем код коментариями:\n```js\n// Вызываем мод компонента передаем в него компонент и путь к нему (по желанию указываем \n//строгое сравнение\n<LayoutComponent exact path=\"/dashboard\" component={Dashboard} />\n  \n  //Вот что происходит в самом компоненте\nconst LayoutComponent = \n  //указываем что в свойствах он принимает:\n  ({component: Component, //компонент на который надо перейти\n    ...rest // тут разворачивается остальная часть\n    // объекта с пропсами благодарч спреду\n   }) => {\n    return(//Далее вызываем Route\n        <Route {...rest} //в котором мы таким образом \"вызываем\"  переход путь к компоненту \n//переданный ранее  \n            render={ => (//вызываем функцию рендер \n//которая вызывает аномную функцию котрая возвращает компоненты которые в свою очередь и рендерит render()\n                    \n//Замечу что тут все оборачивается в Layout который регулярно повторяется\n            <Layout>\n                <Component {...props} />\n            </Layout>\n        )}/>\n    )\n```\n\n#### Очень желаю здесь обратить внимание на передачу компонента объектом, то есть приходит в пропсы такое \n``` js \ncomponent: Component\n```\n\nа выводим мы это дело такой записью\n\n``` js\n<Component />\n```\n\nс помощью деструктуризации достаем с пропсов свойство компонент и даем ему имя что бы реализовать его с помощью класической для компоннетов записью\n\n\n## Вывод\n1. Выходит что так же в свойства компоненту можно передавать пропсы свойств разворачивая их рестом, но напрямую всунуть туда объект свойств не выйдет. Да и создать отдельно объект свойств и прокинуть рестом тоже не выйдет, только через пропсы\n2. Что бы все обернуть в класические шапку, подвал и подобные надо создать само оформление компонента и оставить место для чилдрена куда и будет при вызове компонента помещатся как бы остальной контент\n\n[https://reactrouter.com/web/api/Route/render-func](url)",
      "message": "",
      "created": "2021-05-23T12:38:08.556Z",
      "creators": [
        {
          "id": "b0568c88-bb34-4420-969e-41238089a0d4",
          "uniqueName": "google#113467622262670857280",
          "displayName": "Alexander Matviienko",
          "createdAt": "2021-05-10T19:50:11.968Z",
          "updatedAt": "2021-05-10T19:50:31.732Z"
        }
      ]
    }
  },
  {
    "id": "569ba456-6653-4bf0-9413-37071823cb9b",
    "emoji": null,
    "title": "Route",
    "content": "",
    "headId": 490868,
    "archivedAt": null,
    "folderPathname": "/TAR",
    "parentFolderId": "91c44f7a-5a17-4f1a-9c34-d0bcdd49cd39",
    "teamId": "nhFMY3a5g",
    "generated": false,
    "createdAt": "2021-05-21T09:39:12.509Z",
    "updatedAt": "2021-09-28T16:29:20.570Z",
    "version": 17,
    "userId": null,
    "workspaceId": "a26b69f4-c521-4719-9766-2da1c713b767",
    "head": {
      "id": 490868,
      "docId": "569ba456-6653-4bf0-9413-37071823cb9b",
      "content": "# Router \n\nПакет __\"react-router-dom\"__ помогает достаточно легко организовать переходы между страницами.<br>\n\nДля того что бы начать работу необходимо его установить, выполнив команду\n```bash\nnpm i react-router-dom --save-dev\n```\nДалее, основная работа с этим плагином обычно происходит в файле __App.js__ \n\nИ по класике гоу разбирать все на примере:\n```js\nimport './App.css';\nimport {BrowserRouter, Redirect, Route} from \"react-router-dom\";//Импорт необходимых компонентов \n//из плагина\nimport Marketplace from \"./pages/Marketplace\";\nimport theme from \"./styles/theme\";\nimport {ThemeProvider} from '@material-ui/core/styles';\nimport Dashboard from \"./pages/Dashboard\";\nimport Profile from \"./pages/Profile\";\nimport SignIn from \"./pages/SignIn\";\nimport LayoutComponent from \"./routers/LayoutComponent\";\nimport Settings from \"./pages/Settings\";\nimport PrivateRoute from \"./routers/PrivateRoute\";\n\nconst App = () => {\n  return (\n    <BrowserRouter>//Этим компонентом по сути оборачивается весь сайт, по сути он нужен что бы\n    //Router мог работать везду\n\n      <ThemeProvider theme={theme}>\n        <Route exact path=\"/\" render={() => <Redirect to=\"/dashboard\"/>}/>\n\n        <LayoutComponent exact path=\"/marketplace\" component={Marketplace}/>\n        <LayoutComponent exact path=\"/dashboard\" component={Dashboard}/>\n\n        <PrivateRoute exact path=\"/profile\" component={Profile}/>\n        <PrivateRoute path=\"/settings\" component={Settings}/>\n\n        <Route exact path=\"/sign-in\" render={() => <SignIn/>}/>\n\n      </ThemeProvider>\n    </BrowserRouter>\n    );\n}\n\nexport default App;\n\n```\n\n## Разбор компонентов \n  1. __BrowserRouter__ главнейший из всех компонентов, необходимый для работы плагина по всему сайту, поэтому по сути им весь сайт и оборачивается.\n  2. __Route__ с англ. _маршрут_ этот компонент позволяет проложить маршрут к другим компонентам (зачастую страницам) принимает в себя свойства: \n      1. __component__ в котором указывается компонент к которому должен вести маршрут\n      2. __path__ здесь передается адресс, указав который пользоваетль сможет попасть к компоненту (странице)\n      3. __exact__  указав данное свйство вы даете понять реакту что тут идет строгое сравнение, то есть строка запроса может представлять путь \"/\" или путь \"/about\" или путь \"/contact/dsdf\", и все эти пути будут соответствовать маршруту с шаблоном адреса \"/\". То есть маршруту, который обрабатывается компонентом Main. Но слово exact позволяет рассматривать точное совпадение, то есть когда шаблону \"/\" соответствует только строка запроса \"/\".\n  3. __Redirect__ позволяет произвести переход с одного маршрута на другой (с одной странице на другую), к примеру когда неавторизованный пользователь пытается попасть на страницу для авторизованных, будет совершено его перенаправление на страницу регистрации, благодаря этому компоненту. <br> \n   Коректнее разобрать это на примере:\n    ``` js\n    <Route exact path=\"/\" render={() => <Redirect to=\"/dashboard\"/>}/>\n    ```\n    \n    Тут в компоненте __Route__ происходит вызов метода render() в котором происходит вызов компонента __Redirect__ в котором в свойство __to__ прокидывается адресс страницы на которую необходимо перенаправить.<br>\n    Так же возможен условный редирект: \n    ``` js \n    <Route exact path=\"/\" render={() => {\n    auth ? <Redirect to=\"/dashboard\"/>\n    : <Redirect to=\"/register\"/>\n    }}/>\n    ```\n\nЕсли переменная auth === true (пользователь авторизирован) тогда он попадает на \"/dashboard\" иначе его посылают на \"/register\".\n\n_Далее если пользователь каким либо образом (вручную, кликнув по ссылке) указывает адресс компонента он на него попадает (если он есть и если есть права доступа к это странице_",
      "message": "",
      "created": "2021-05-21T11:53:51.314Z",
      "creators": [
        {
          "id": "b0568c88-bb34-4420-969e-41238089a0d4",
          "uniqueName": "google#113467622262670857280",
          "displayName": "Alexander Matviienko",
          "createdAt": "2021-05-10T19:50:11.968Z",
          "updatedAt": "2021-05-10T19:50:31.732Z"
        }
      ]
    }
  },
  {
    "id": "82e08c0c-a59b-4a64-a1f3-fc686eaf4080",
    "emoji": null,
    "title": "Promis",
    "content": "",
    "headId": 490459,
    "archivedAt": null,
    "folderPathname": "/TAR",
    "parentFolderId": "91c44f7a-5a17-4f1a-9c34-d0bcdd49cd39",
    "teamId": "nhFMY3a5g",
    "generated": false,
    "createdAt": "2021-05-21T07:57:35.920Z",
    "updatedAt": "2021-09-28T16:29:20.570Z",
    "version": 16,
    "userId": null,
    "workspaceId": "a26b69f4-c521-4719-9766-2da1c713b767",
    "head": {
      "id": 490459,
      "docId": "82e08c0c-a59b-4a64-a1f3-fc686eaf4080",
      "content": "# Promise\n\nНужны для работы с асинхронными операциями\n\n\n## Разбо на примере\n  Как видно из примера ниже, __Promise__ это объект создающийся с помощью функции конструктора, которая принимает два аргумента (функции) это __resolve()__ и __reject()__. <br>\n  __resolve()__ - вызывается когда операция была успешно завершена и принимает аргументом данные которые должен вернуть промис.\n```js\nconst p = new Promise(function(resolve, reject) {\n  setTimeout(() => {\n    console.log('Preparing data...')\n    const backendData = {\n      server: 'aws',\n      port: 2000,\n      status: 'working'\n    }\n    resolve(backendData) // - Таким образом мы говорим промису что он успешно завершил свое выполнение \n  }, 2000)\n})\n```\n\nДалее после выполнения __Promise__ с данными которые он вернул можно манипулировать с помощью методов __.then()__, __.catch()__, __.finaly()__.\n\n1. __.then()__ - переводится как _тогда_, принимает в себя функцию аргументом которой выступаю данные пришедшие с промиса и с которыми в ней можно манипулировать, то есть если перевести процедуру работы с промисом начиная от его объявления выйдет следующая фраза. \"Промис, вот тебе код (как правило асинхронный), если он успешно выполнен _тогда_ проведи следующие процедуры с результатом\". <br>\nМы можем продолжить вышенапсанный код используя метод __then()__\n```js\np.then(data => {\n  console.log(data)\n})\n```\n\nЦепочку из методов __.then()__ можно продолжать до бесконечности. И у нас говоря на человеческом выйдет следующая фраза: \"Компьютер создай промис и дай ему код и если его выполнение успешно верни мне результат и как только ты его вернешь, тогда сделай с ними еще что то, затем еще ...\" и так сколько угодно. <br>\n\nВот все это в коде:\n\n```js\np.then(data => {\n  setTimeout(() => {\n    data.modifed = true\n    resolve(data)\n  }, 2000\n).then(data => {\n  console.log('Data received', data)\n  data.name = true\n  return data\n}\n).then(data => {\n  cosole.log(data)  \n})\n\n\n```\n\nЕсли соединить весь этот код воедино то можно понять что у нас все выполняется на одном уровне вложености, чем собствено мы и обязаны промисам, так как по сути можно тоже самое сделать и с помощью __callback()__ функций, но потом заебещся разгребатьтся с вложеностью. Так же по сравнеию с обычными __callback()__ функциями промисы выигрывают тем что могут выводить ошибки, что очень удобно так как сервера (в работе с которыми часто используется имено промис) имеют много видов ошибок о которых в случае их появления хочется знать как можно больше информации. \n\nИ так для вывода ошибок нам нужен метод __.reject()__ для использования внутри промиса и __.catch()__ который по синтаксису не далеко ушел от __.then()__ только он работает не с данными, а с ошибками. \n\n\n```js \nconst p = new Promise(function(resolve, reject) {\n  setTimeout(() => {\n    console.log('Preparing data...')\n    const backendData = {\n      server: 'aws',\n      port: 2000,\n      status: 'working'\n    }\n    reject(backendData) // - Таким образом мы говорим промису что произошла ошибка\n  }, 2000)\n})\n\np.catch(err => console.error('Error: ', err) //И таким образом выводим ее\n```\n\nНо это еще не все, у нас остался метод __.finally()__ это собрат __.catch()__ и __.then()__. Инструкции внутри которого выполнятся в любом случае внезависимсти от ого вернул ли промис ошибку или успешно справился с заданием.\n\n```js \np.finally(() => console.log('Finally')) //Что значит вне зависимости от всего \n//выведи в конце сообщение 'Finally'\n```",
      "message": "",
      "created": "2021-05-21T09:16:07.880Z",
      "creators": [
        {
          "id": "b0568c88-bb34-4420-969e-41238089a0d4",
          "uniqueName": "google#113467622262670857280",
          "displayName": "Alexander Matviienko",
          "createdAt": "2021-05-10T19:50:11.968Z",
          "updatedAt": "2021-05-10T19:50:31.732Z"
        }
      ]
    }
  },
  {
    "id": "c0888665-9ee1-4bdb-8940-8d3f7181f2a9",
    "emoji": null,
    "title": "Async/Await",
    "content": "",
    "headId": 475056,
    "archivedAt": null,
    "folderPathname": "/TAR",
    "parentFolderId": "91c44f7a-5a17-4f1a-9c34-d0bcdd49cd39",
    "teamId": "nhFMY3a5g",
    "generated": false,
    "createdAt": "2021-05-17T04:32:00.512Z",
    "updatedAt": "2021-09-28T16:29:20.570Z",
    "version": 4,
    "userId": null,
    "workspaceId": "a26b69f4-c521-4719-9766-2da1c713b767",
    "head": {
      "id": 475056,
      "docId": "c0888665-9ee1-4bdb-8940-8d3f7181f2a9",
      "content": "# Async/Await\n\nJavaScript весьма старательный работник и как многие старательные работники он старается выполнить все побыстрее. Это в общем хорошо, но не всегда. Так как в спешке он может выполнять код не совсем в той последовательност ив которой мне надо.\n\nЧто бы это все дело регулировать придумали __Async/Await__. Тут принцип до безобразия прост. \nПеред функцией в которой содержится код требующий выполнения в нужной мне последовательности. Ставим __async__, а уже перед кодом выполнения которого надо дождатся ставим __await__\n\n### Пример\n```js\nconst loadAvatar = async (e) => {\n    const newAvatar = await ToBase64(img)\n    setValues(prev => ({...prev, avatar: newAvatar}))\n  }\n```\n\nAsync-ом мы как бы говорим js-у \"мол смотри в этой функции я буду применять __await__\", a __await__ дает интерпритатору понять что ему надо дождатся пока код не выполнится.\n\n## Вывод \nДанная технология наиболее часто применяется при общении с сервером, так как там ответы от сервака могут приходить не в той последовательности в которой нам надо, а __async/await__ помогает все это дело регулировать.",
      "message": "",
      "created": "2021-05-17T04:53:31.460Z",
      "creators": [
        {
          "id": "b0568c88-bb34-4420-969e-41238089a0d4",
          "uniqueName": "google#113467622262670857280",
          "displayName": "Alexander Matviienko",
          "createdAt": "2021-05-10T19:50:11.968Z",
          "updatedAt": "2021-05-10T19:50:31.732Z"
        }
      ]
    }
  },
  {
    "id": "05b45970-1cbc-434e-a3fc-be3f98f79e16",
    "emoji": null,
    "title": "useMemo, React.memo",
    "content": "",
    "headId": 474158,
    "archivedAt": null,
    "folderPathname": "/TAR",
    "parentFolderId": "91c44f7a-5a17-4f1a-9c34-d0bcdd49cd39",
    "teamId": "nhFMY3a5g",
    "generated": false,
    "createdAt": "2021-05-16T18:43:14.124Z",
    "updatedAt": "2021-09-28T16:29:20.570Z",
    "version": 9,
    "userId": null,
    "workspaceId": "a26b69f4-c521-4719-9766-2da1c713b767",
    "head": {
      "id": 474158,
      "docId": "05b45970-1cbc-434e-a3fc-be3f98f79e16",
      "content": "Мемоизация в програмировании это сохранение результатов выполнения функции для предотвращения повторных вычеслениях.\n\nКороче позволяет не гонять код лишний раз за одним и тем же. \n\n# React.memo\nДанный метод реакта, занимается кешированием компонента помгая тем самым избежать лишнего передырования. Как я понял полезная штука которая рекомендуется к постоянному использованию. Вот пример ее испльзования:\n```js\nconst Component = React.memo(()=>{\n  return (\n    <h1>Hello World!</h1>\n    )\n})\nexport default Component\n```\n\n# useMemo\nтоже самое что и верхняя фича но только для функций. То есть вспоминаем о том что реакт хлебом не корми, а дай прим малейших действиях странцу перерендерить, соответсвенно код кстраницы выполняется заново и функции в этом коде тоже выполняются заново и это чуть ли не при каждом действии на странице, согласитесь не эфективно.\n\nПоэтому эти самые функции рекомендуется записывать в useMemo. Сейчас разберемся на прмере.\nДопустим у меня на странице есть вот такая функция:\n```js \nconst countSum = sum(num);\n```\nТо есть эта функцияя сумирует какое либо число. Фишка в том что у реакта память золотой рыбки и поэтому этот товарищь будет выполнять эту функцию в таком порядке: Загружает страницу, выполняет функцию, пользователь нажал на что то, реакт заново загружает страницу и снова выполняет эту функцию, хотя мне этого не надо. Что бы этого избежать надо эту функцию щаписать вот так:\n\n```js\nconst countSum = useMemo(()=>sum(num), [num])\n```\nтеперь реакт, даже при обновлении страницы будет помнить выполнение этой функции, и перевыполнять ее только тогда когда будет менятся значение в квадратных скобках. Короче таким образом мы помогаем реакту решить его проблемы с памятью",
      "message": "",
      "created": "2021-05-16T19:19:30.667Z",
      "creators": [
        {
          "id": "b0568c88-bb34-4420-969e-41238089a0d4",
          "uniqueName": "google#113467622262670857280",
          "displayName": "Alexander Matviienko",
          "createdAt": "2021-05-10T19:50:11.968Z",
          "updatedAt": "2021-05-10T19:50:31.732Z"
        }
      ]
    }
  },
  {
    "id": "cb029b58-779f-4ec5-80be-76b3614598f2",
    "emoji": null,
    "title": "CSS Animation and @keyframes",
    "content": "",
    "headId": 473459,
    "archivedAt": null,
    "folderPathname": "/TAR",
    "parentFolderId": "91c44f7a-5a17-4f1a-9c34-d0bcdd49cd39",
    "teamId": "nhFMY3a5g",
    "generated": false,
    "createdAt": "2021-05-16T08:44:35.977Z",
    "updatedAt": "2021-09-28T16:29:20.570Z",
    "version": 14,
    "userId": null,
    "workspaceId": "a26b69f4-c521-4719-9766-2da1c713b767",
    "head": {
      "id": 473459,
      "docId": "cb029b58-779f-4ec5-80be-76b3614598f2",
      "content": "# CSS Animation and @keyframes\n\nЗдесь разберемся как создавать анимации с помщью свойства __animation__ и @keyframes\n\n```css\n@keyframes name-scenario {/*Объявлении сценария и присвоения ему имени*/\n  /*Далее идет задача сценария в процентах где 0% это начало, а 100% конец*/\n 0%{\n  left: 0;/* задача начального значения свойства*/\n  }\n  50%{\n  border-radius: 50%; /* стили в половине проигрывания анимации */ \n  }\n  100%{\n    left: 500px;/* задача конечного значения свойства*/\n  }\n}\n```\n\n### Свойства animation\n```css\nanumation-name: name-scenario; /* через это свойство вызывается сценарий для элемента*/\nanimation-duration: 1s; /* время проигрывания сценария */\nanimation-timing-function: ease, ...; /* задача типа сценария анимации */\nanimation-iteration-count: 3; /* количество проигшрывания анимациии infinite = бесконечность */\nanimation-direction: alternative-reverse; /*CSS-свойство animation-direction определяет, должна ли анимация воспроизводиться вперёд, назад или переменно вперёд и назад.*/\nanimation-play-state: running; /* Свойство animation-play-state определяет состояние анимации, паузы или проигрыша. Это можно использовать, чтобы определить текущее состояние анимации, например, в скриптах. */\nanimation-delay: 2s; /* задержка перед анимацией */\nanimation-fill-mode: forwards; /* определяет какое из анимаированных свойств останется в конце анимации */\nanimation: name-scenario 1s ease alternative-reverse running 2s forwards, name-two-scenario 1s ease alternative-reverse running 2s forwards; /* пример короткой записи анимации, с утсановкой для двух сценариев анимации\n```",
      "message": "",
      "created": "2021-05-16T09:14:02.700Z",
      "creators": [
        {
          "id": "b0568c88-bb34-4420-969e-41238089a0d4",
          "uniqueName": "google#113467622262670857280",
          "displayName": "Alexander Matviienko",
          "createdAt": "2021-05-10T19:50:11.968Z",
          "updatedAt": "2021-05-10T19:50:31.732Z"
        }
      ]
    }
  },
  {
    "id": "cb55442f-7029-4974-99cd-880bcc0ca66c",
    "emoji": null,
    "title": "Интересный пример применеия map",
    "content": "",
    "headId": 471817,
    "archivedAt": null,
    "folderPathname": "/TAR",
    "parentFolderId": "91c44f7a-5a17-4f1a-9c34-d0bcdd49cd39",
    "teamId": "nhFMY3a5g",
    "generated": false,
    "createdAt": "2021-05-15T10:58:05.598Z",
    "updatedAt": "2021-09-28T16:29:20.570Z",
    "version": 7,
    "userId": null,
    "workspaceId": "a26b69f4-c521-4719-9766-2da1c713b767",
    "head": {
      "id": 471817,
      "docId": "cb55442f-7029-4974-99cd-880bcc0ca66c",
      "content": "# Интересный пример применеия map\n\n```js\nconst tabs = ['Purchase Packs', 'Open Packs', 'My Collection'];\n\n{tabs.map((el, i) => (\n  <HuntBtnTabs onClick={() => setTab(i)} active={i === tab}>\n    {el}\n  </HuntBtnTabs>),\n)}\n\n```\n\nЭтот случай интересен тем что здесь прикольно организован вывод кнопок с помощью названий с массива, а так же прокидывания им свойства активности. \n\nКак мы помним arr.map перебирает каждый элемен массива при этом с каждым провернув заданный в call-back функции операции и вернув (или выведя как в данном случае) резултат этих операций.\n\nЗдесь идет перебор массива с названиями кнопок, каждый элемент массива (тоесть названия этой кнопки оборачивается в компонент. Который задает этой кнопки функционал и стили). \n\nИнтеренсо тут задается свойство активности ```active={i === tab}``` как видно из этого кода, задается оно если индекс кнопки соответсвует числу в состояних. Икаждый раз при клике на кнопку, страница перерендиривается число в состоянии меняется и уже соответсвует индексу другой кнопки (на которую и происходил клик)",
      "message": "",
      "created": "2021-05-15T11:47:30.312Z",
      "creators": [
        {
          "id": "b0568c88-bb34-4420-969e-41238089a0d4",
          "uniqueName": "google#113467622262670857280",
          "displayName": "Alexander Matviienko",
          "createdAt": "2021-05-10T19:50:11.968Z",
          "updatedAt": "2021-05-10T19:50:31.732Z"
        }
      ]
    }
  },
  {
    "id": "6d1cecf0-e73d-4b0a-9371-feab6e82b097",
    "emoji": null,
    "title": "\"Передача функций и свойств в {children}\"",
    "content": "",
    "headId": 471685,
    "archivedAt": null,
    "folderPathname": "/TAR",
    "parentFolderId": "91c44f7a-5a17-4f1a-9c34-d0bcdd49cd39",
    "teamId": "nhFMY3a5g",
    "generated": false,
    "createdAt": "2021-05-15T09:33:57.303Z",
    "updatedAt": "2021-09-28T16:29:20.570Z",
    "version": 16,
    "userId": null,
    "workspaceId": "a26b69f4-c521-4719-9766-2da1c713b767",
    "head": {
      "id": 471685,
      "docId": "6d1cecf0-e73d-4b0a-9371-feab6e82b097",
      "content": "# \"Передача функций и свойств в {children}\"\n\n\nЕсть главные табы цель которых привести меня в нужный раздел. Реализованы они таким образом. Есть 3 кнопки, при  нажатии на которые меняется состояние и в зависимости от этого в выводимую переменнную вкладывается нужный мне компонент.\n```js\nconst tabs = ['Purchase Packs', 'Open Packs', 'My Collection'];\n\nconst TabsBody = React.memo(() => {\n  const [tab, setTab] = useState(0);\n\n  const viewTab = useMemo(() => {\n    switch (tab) {\n      case 0:\n        return <PurchasePacks/>;\n      case 1:\n        return <OpenPacks/>;\n      case 2:\n        return <MyCollection/>;\n    }\n  }, [tab]);\n\n  const Tabs = useMemo(() => (\n    <HuntRowBtnTabs>\n      {tabs.map((el, i) => (\n        <HuntBtnTabs onClick={() => setTab(i)} active={i === tab}>\n          {el}\n        </HuntBtnTabs>),\n      )}\n    </HuntRowBtnTabs>\n  ), [tab]);\n\n  return (\n    <>\n      {Tabs}\n      {viewTab}\n    </>\n  )\n    ;\n});\n\nexport default TabsBody;\n```\n---\nЗдесь же расписан таб компонент который будет выводится в компонентах выводимых табом описаным выше. \n\nСюда как мимнимум передается переменная с состоянием и конетнт который мы желаем вывести\n\nТак как и более главный его брат, он состоит из кнопок изменнеия состояния. Но еще в нем прописан {childre}, через такую запись мы даем себе возможность при вызове компонента передавать в него другие компоненты\n```js\nconst Pack = ({tab, booksData, setTab, children, dataPurchase}) => {\n  const bookList = useSelector(({Hunt}) => Hunt.booksList)\n\n  return (\n    <HuntBlock>\n      {/* tab book */}\n      <HuntSwitched>\n        <button onClick={() => setTab(1)}>Basic Pack</button>\n        <button onClick={() => setTab(2)}>Basic Pack</button>\n        <button onClick={() => setTab(3)}>Basic Pack</button>\n      </HuntSwitched>\n      <HuntContent>{children}</HuntContent>\n    </HuntBlock>\n  )\n}\n\nexport default Pack\n```\n---\nВот пример этого, \"нужного компонента\". Здесь выводится таб-компонент которые в качестве __children__ выводит нужный мне контент.\nСюда передается контент из стора, для передачи его табу, а так же переменная с состояниям таба, котрые так же вместе с функцией изменения состояния передаются в таб компонент. \n```js\nconst PurchasePacks = React.memo(() => {\n  const [tab, setTab] = useState(0)//Состояние таба\n  const dataPurchase = useSelector(({Hunt}) => Hunt.Purchase)//Контент выводимый табом\n\n  return(\n    <Pack tab={tab} setTab={setTab} dataPurchase={dataPurchase}>\n  //Данная конструкция помогает в зависимости от состояния выводить нужный мне контент.\n      {tab === 0 && (<>window</>)}\n      {tab === 1 && (<>windowTwo</>)}\n      {tab === 2 && (<>windowThree</>)}\n      {tab === 3 && (<>windowFour</>)}\n    </Pack>\n  )\n})\n```\n---\n\n## Вот схема работы этих табов \n![Как работают табы (1).png](https://boostnote.io/api/teams/nhFMY3a5g/files/09da84259b252f94c9d1c226c8ba62a3c4544b1f5c5bb25ae776670e4f90df83-%D0%9A%D0%B0%D0%BA%20%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D0%B0%D1%8E%D1%82%20%D1%82%D0%B0%D0%B1%D1%8B%20(1).png)\n\nПо ней видно, что при клике на кнопки __Purchase Packs__ или __Open Packs__ выводятся компоненты __Purchase Content__ или __Open Content__, В каждый из этих компонетов прокидываются соответствующие данные из хранилища. А так же устанавливается связь  с табами вывода контента, здесь __super tabs__. В которые передаются состояния и все данные табы же меняют это сотояния и выдают нужные данне.\n\n## Выводы:\n1. В компоненты можно передавать состояния, а так же функции для их изменния, которые будут их менять. Я конечно и раньше таким пользовался но почемуто осознание этого пришло ко мне только сейчас.  \n2. Указав в компоненте {children} мы можем прокидывать в него сколько угодно компоненто, раньше я думал что мы ограничены одним компонентом.\n",
      "message": "",
      "created": "2021-05-15T10:54:10.433Z",
      "creators": [
        {
          "id": "b0568c88-bb34-4420-969e-41238089a0d4",
          "uniqueName": "google#113467622262670857280",
          "displayName": "Alexander Matviienko",
          "createdAt": "2021-05-10T19:50:11.968Z",
          "updatedAt": "2021-05-10T19:50:31.732Z"
        }
      ]
    }
  },
  {
    "id": "7009746d-c76f-4abe-9518-92d4f6fb7dc0",
    "emoji": null,
    "title": "Tabs",
    "content": "",
    "headId": 469023,
    "archivedAt": null,
    "folderPathname": "/TAR",
    "parentFolderId": "91c44f7a-5a17-4f1a-9c34-d0bcdd49cd39",
    "teamId": "nhFMY3a5g",
    "generated": false,
    "createdAt": "2021-05-14T08:25:34.421Z",
    "updatedAt": "2021-09-28T16:29:20.570Z",
    "version": 4,
    "userId": null,
    "workspaceId": "a26b69f4-c521-4719-9766-2da1c713b767",
    "head": {
      "id": 469023,
      "docId": "7009746d-c76f-4abe-9518-92d4f6fb7dc0",
      "content": "# Tabs\n\nСоздание табов \n\n## Пример\n\n```js\nconst TabsBody = React.memo(() => {\n  const [profile, setProfile] = useState(true); //Состояние переключателя\n//Функции которые меняют состояние переключателя\n  const switchProfile = () => {\n    setProfile(true);\n  };\n\n  const switchPassword = () => {\n    setProfile(false);\n  };\n//В зависимости от состояния таба в переменную ложится один из компонентов\n  const viewTab = useMemo(() => (\n      profile ?\n        <TabProfile/> :\n        <TabPassword/>),\n    [profile, values]);\n\n\n  return (\n    <>\n      <TabsRow>\n    //На этот элемент вешаем функци ю изменения состояния\n        <TabsController active={profile} onClick={switchProfile}>\n          Your\n          Profile\n        </TabsController>\n//Ина этот\n        <TabsController active={!profile} onClick={switchPassword}>\n          Password\n        </TabsController>\n      </TabsRow>\n\n      <SelectWrapMobile>\n        <SelectItem\n          IconComponent={KeyboardArrowDownRoundedIcon}\n          onChange={(e) => setProfile(e.target.value)}\n          value={profile}\n        >\n          <MenuItem value={true}>Profile</MenuItem>\n          <MenuItem value={false}>Password</MenuItem>\n        </SelectItem>\n      </SelectWrapMobile>\n\n      <form onSubmit={submitChanges}>\n        //А тут вызывается нужный компонент в зависимости от состояния\n        {viewTab}//\n        <SettingsButton type=\"submit\" $loader={!!loader}>\n          <span>Update Profile</span>\n          {loader && <Loader/>}\n        </SettingsButton>\n      </form>\n    </>\n  )\n})\n```",
      "message": "",
      "created": "2021-05-14T08:35:36.426Z",
      "creators": [
        {
          "id": "b0568c88-bb34-4420-969e-41238089a0d4",
          "uniqueName": "google#113467622262670857280",
          "displayName": "Alexander Matviienko",
          "createdAt": "2021-05-10T19:50:11.968Z",
          "updatedAt": "2021-05-10T19:50:31.732Z"
        }
      ]
    }
  },
  {
    "id": "e9d74501-48ec-4b1c-9f6e-63af0fcb506a",
    "emoji": null,
    "title": "Валидация формы через  Redux",
    "content": "",
    "headId": 466262,
    "archivedAt": null,
    "folderPathname": "/TAR",
    "parentFolderId": "91c44f7a-5a17-4f1a-9c34-d0bcdd49cd39",
    "teamId": "nhFMY3a5g",
    "generated": false,
    "createdAt": "2021-05-13T17:06:55.177Z",
    "updatedAt": "2021-09-28T16:29:20.570Z",
    "version": 5,
    "userId": null,
    "workspaceId": "a26b69f4-c521-4719-9766-2da1c713b767",
    "head": {
      "id": 466262,
      "docId": "e9d74501-48ec-4b1c-9f6e-63af0fcb506a",
      "content": "# Валидация формы через Redux хотя можно и не только формы, а и любых данных.\n\nЭкшены такая классная штука что в них можно провалидировать данные перед их отправкой в хранилище. (Вообще по сути с ним и можно делать все что угодно, но мы поговорим о валидации).\n\n## Пример\n#### Actions\n``` js \nexport const signUp = (firstname, lastname) => (dispatch) => {\n  setSignUpError(null)\n\n  // validation\n  if (firstname.length < 2) {\n    dispatch(setSignUpError({name: 'firstname', text: 'short value'}))\n    return\n  }\n  if (lastname.length < 2) {\n    dispatch(setSignUpError({name: 'lastname', text: 'short value'}))\n    return\n  }\n\n  dispatch(setLoader('loaderSignUp'))\n\n  try {\n    // logic backEnd\n    //throw new Error()\n    dispatch(successSignUp({firstname, lastname, steam, email, password}))\n    dispatch(setRedirect('/sign-up/steps'))\n  } catch (e) {\n    // set name field and error message\n    dispatch(setSignUpError({name: 'password', text: 'Incorrect password'}))\n  } finally {\n    dispatch(clearLoader('loaderSignUp'))\n  }\n}\n```\nМы имеем экшен \"signUp\" который принимает в себя данные формы и возвращает функцию с __dispatch__ в аргументе (и тут мы применили уже знакомы нам __санки__, благодаря коим мы и прокачиваем наш экшен). И тут если длина текста не соответствует необходимой длине то в заранее созданное хранилище валидации (все это разбирается чуть далее). В противном случае эти данные нормально записываются с помощью dispatch который вызывает экшен записи этих данных в хранилище\n\n#### Reduce\n\n``` js \nimport {  SET_SIGN_IN_ERROR, SET_SIGN_UP_ERROR, SUCCESS_AUTH, SUCCESS_SIGN_UP\n} from \"./types\";\nimport img1 from \"../../images/signUp/games/img-2.png\";\n//import img1 from \"../../images/achievement/Nft1.png\";\n\nlet initialState = {\n  auth: false,\n  activeStep: 0,\n  activeWindow: 0,\n  length: 4,\n  selectedBlockchain: null,\n  referralLink: 'tapplatform.io/kgit/referral1278',\n  referralCode: 'kgit-sajl-3jk3-19hm',\n  gamesList: [\n    {id: 6, image: img1, name: 'Destiny 2', type: 'Online Game', online: '2800'},\n    {id: 7, image: img1, name: 'Destiny 2', type: 'Online Game', online: '2800'},\n  ],\n  SignInError: null,//Хранилище ошибок\n  SignUpError: null,\n  signUpData: null,\n}\n\nconst AuthReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case SET_SIGN_IN_ERROR:\n      return {\n        ...state,\n        SignInError: action.data,\n      }\n\n    case SET_SIGN_UP_ERROR:\n      return {\n        ...state,\n        SignUpError: action.data,\n      }\n\n    case SUCCESS_AUTH:\n      return {\n        ...state,\n        auth: true,\n      }\n\n    case SUCCESS_SIGN_UP:\n      return {\n        ...state,\n        signUpData: action.data,\n      }\n\n    default:\n      return state;\n  }\n}\n\n\nexport default AuthReducer;\n```\n\n#### Использование в компонентах \nДиспатчем прокидываем данные формы при отправке",
      "message": "",
      "created": "2021-05-13T17:29:10.930Z",
      "creators": [
        {
          "id": "b0568c88-bb34-4420-969e-41238089a0d4",
          "uniqueName": "google#113467622262670857280",
          "displayName": "Alexander Matviienko",
          "createdAt": "2021-05-10T19:50:11.968Z",
          "updatedAt": "2021-05-10T19:50:31.732Z"
        }
      ]
    }
  },
  {
    "id": "f837ebe2-9415-49fd-a8bf-15849df4fd97",
    "emoji": null,
    "title": "Redux",
    "content": "",
    "headId": 466210,
    "archivedAt": null,
    "folderPathname": "/TAR",
    "parentFolderId": "91c44f7a-5a17-4f1a-9c34-d0bcdd49cd39",
    "teamId": "nhFMY3a5g",
    "generated": false,
    "createdAt": "2021-05-13T14:39:09.370Z",
    "updatedAt": "2021-09-28T16:29:20.570Z",
    "version": 25,
    "userId": null,
    "workspaceId": "a26b69f4-c521-4719-9766-2da1c713b767",
    "head": {
      "id": 466210,
      "docId": "f837ebe2-9415-49fd-a8bf-15849df4fd97",
      "content": "# Redux\n\nПо сути это хранилище состояний, такой себе глобальный useState который доступен отовсюду.\nЕго работа здорово изображена на этой схеме.\n\n![](https://iamakulov.com/talks/redux-in-real-life/slides/slide17.png)\n\nФишка в том, что да Redux это хранилище которое доступно отвсюду, но изменять его не так то просто. Для этого надо через __dispatch__ обратится экшену в который может быть еще прокинутый __мидлвейр__ которые по сути обращаются к __редьюсеру__ как и где изменять вверенный ему участок хранилища.  \n\n## Разбираем создания redux-хранилища \n1. Устанавливаем redux в проект\n```\nnpm install redux\n```\n2. Создаем store.js это так сказать и есть хранилище. И как всегда, давайте разберемся на примере. \n```js\nimport { createStore, combineReducers, applyMiddleware } from 'redux';\nimport MarketplaceReducer from './Marketplace/MarketplaceReducer';\nimport MenuReducer from \"./Menu/MenuReducer\";\nimport UserReducer from \"./User/UserReducer\";\nimport thunkMiddleware from 'redux-thunk';\n\n\nlet reducers = combineReducers({\n  Marketplace: MarketplaceReducer,\n  Menu: MenuReducer,\n  User: UserReducer,\n});\n\nconst store = createStore(reducers, applyMiddleware(thunkMiddleware));\n\nexport default store;\n```\nПервым делом дoстаем с redux \n1. __combineReducers__ - возвращает объект который заполняем __редьюсерами__ \n2. __createStore__ объявлет store котороя хранит дерево состояний принимает в себя объект созданный посредством combineReducers() а так же различные __middleware__ к примеру __redux thunk__\nкоторые можно закинуть через  __applyMiddleware__\n3. __applyMiddleware__ - позволяет подключить middleware в redux-store\n\n\nДалее стоит обратить внимание на то что преде тем как закинуть __reducer__ в __combineReducers__ его сначала надо импортировать в документ. \nЗатем закинуть в __combineReducers__, а затем в __createStore__.\n\n## Reducer\nХранилище мы создали, теперь погнали создавать __редьюсеры__ с __экшенами__\n1. Создаем types.js  по сути здесь мы создаем константы с именами экшенов и пихаем в них эти же самые названия в виде строк. В дальнйшем эти константы импортируются в Reducer.js  и в action.js Выглядит это приблизительно так: \n``` js \nexport const SET_BLOCK_CHAIN = \"SET_BLOCK_CHAIN\"\nexport const SET_ACTIVE_WINDOW = \"SET_ACTIVE_WINDOW\"\n```\n3. Cоздаем nameReducer.js и погнали разбиратся на примере образца что есть что.\n```js\nimport {SET_SIGN_IN_ERROR, SET_SIGN_UP_ERROR, SUCCESS_AUTH, SUCCESS_SIGN_UP} from\"./types\";\nimport img2 from \"../../images/signUp/games/img.png\";\nimport img3 from \"../../images/signUp/games/img-1.png\";\nimport img1 from \"../../images/signUp/games/img-2.png\";\n\nlet initialState = {\n  auth: false,\n  activeStep: 0,\n  activeWindow: 0,\n  length: 4,\n  selectedBlockchain: null,\n  referralLink: 'tapplatform.io/kgit/referral1278',\n  referralCode: 'kgit-sajl-3jk3-19hm',\n  gamesList: [\n    {id: 1, image: img1, name: 'Destiny 2', type: 'Online Game', online: '2800'},\n    {id: 2, image: img2, name: 'Counter Strike - GO', type: 'Shooting', online: '2800'},\n    {id: 3, image: img3, name: 'PUBG', type: 'Battle Royale', online: '2800'},\n  ],\n  SignInError: null,\n  SignUpError: null,\n  loaderSignIn: false,\n  loaderSignUp: false,\n  signUpData: null,\n}\n\nconst AuthReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case SET_BLOCK_CHAIN:\n      return {\n        ...state,\n        selectedBlockchain: action.blockchain,\n      }\n\n    case SET_ACTIVE_WINDOW:\n      return {\n        ...state,\n        activeWindow: action.active,\n      }\n\n    case SET_ACTIVE_STEP:\n      return {\n        ...state,\n        activeStep: action.active,\n      }\n\n    case CLEAR_STEP:\n      return {\n        ...state,\n        activeStep: 0,\n        activeWindow: 0,\n        selectedBlockchain: null,\n      }\n\n    default:\n      return state;\n  }\n}\n\n\nexport default AuthReducer;\n```\n\n1. Импортируем название __экшенов__ из types.js\n2. Импортируем если надо различный контент, к примеру картинки как здесь указано.\n3. Далее в переменной __initialState__ создаем объект в нем и будут лежать нужные нам данные. Это объект, так что туда мы можем ложить все что душе угодно и работать с этим как с объектом.\n4. И тут самый сок, функция __reducer__ которая принимает в себя первым аргументом __initialState__ наш объект хранилище и экшены.\n      1. И создаем конструкцию switch case в которую и сравнивать будем объект __action.type__ в котором будут названия __экшенов__. И в зависимости от типа экшена и будуд возвращатся конкретные действия. Как правило сначала это разворачивание спред-оператором объекта __state (initialState)__. А затем манипуляции с его свойствами ну и все это дело в хранилище.   \n      \n5. Экспортируем редьюсер в store.js\n\n## Action\nНастало время перейти к созданию __экшенов__.\nИ так пример:\n```js\nimport {CLEAR_LOADER, CLEAR_STEP,} from './types';\nimport {setRedirect} from '../Redirect/actions';\nimport {setUserData} from '../User/actions';\nimport avatar from '../../images/header/Avatar.png';\n\n\n\nexport const setSignUpError = (data) => {\n  return {\n    type: SET_SIGN_UP_ERROR,\n    data\n  }\n}\n\nexport const successAuth = (data) => {\n  return {\n    type: SUCCESS_AUTH,\n    data\n  }\n}\n\nexport const signIn = (email, password) => (dispatch) => {\n  setSignUpError(null)\n  dispatch(setLoader('loaderSignIn'))\n\n  try {\n    // logic backEnd\n    // throw new Error()\n    dispatch(successAuth());\n    dispatch(setUserData(\n      {\n        avatar,\n        id: 1,\n        fullName: 'Jack Bower',\n        displayName: 'tranmautritam',\n        steamLogin: 'JazzyJeff47',\n        location: 'Sai Gon City, Vietnam',\n        steamDisplayName: 'JazzyJeff47',\n        referralCode: '17SzawX79sw',\n        bonusMultiplayer: 3.5,\n      },\n      [\n        {id: 1, value: '536000', image: DarkCoin},\n        {id: 2, value: '1200', image: GoldenCoin},\n        {id: 3, value: '17', image: NftCoin},\n      ]),\n    );\n    dispatch(setRedirect('/dashboard'));\n  } catch (e) {\n    // set name field and error message\n    dispatch(setSignInError({name: 'password', text: 'Incorrect password'}))\n  } finally {\n    dispatch(clearLoader('loaderSignIn'))\n  }\n}\n\nexport const signUp = (firstname, lastname, steam, email, password) => (dispatch) => {\n  setSignUpError(null)\n\n  // validation\n  if (firstname.length < 2) {\n    dispatch(setSignUpError({name: 'firstname', text: 'short value'}))\n    return\n  }\n  if (lastname.length < 2) {\n    dispatch(setSignUpError({name: 'lastname', text: 'short value'}))\n    return\n  }\n\n  dispatch(setLoader('loaderSignUp'))\n\n  try {\n    // logic backEnd\n    //throw new Error()\n    dispatch(successSignUp({firstname, lastname, steam, email, password}))\n    dispatch(setRedirect('/sign-up/steps'))\n  } catch (e) {\n    // set name field and error message\n    dispatch(setSignUpError({name: 'password', text: 'Incorrect password'}))\n  } finally {\n    dispatch(clearLoader('loaderSignUp'))\n  }\n}\n\n```\n1. Импортируем имена из __types.js__ и далее переходим к созданию самих экшенов\n2. Как видим это функция которая возвращает (передает в редьюсер) тип (имя) экшена так же те данные которые принимет в себя чарез аргумент. \n3. По умолчанию экшены могут только возвращаеть данныее. Но что делать если нам надо совершит ьв них еще некоторые действия. Для этого есть __midleware__ в примере используется __redux-thunk__ но есть и другие. Давайте по ближе сравним __экшен__ без и с миделваром:\n\nбез\n```js\nexport const setSignUpError = (data) => {\n  return {\n    type: SET_SIGN_UP_ERROR,\n    data\n  }\n}\n```\n\nи с \n```js\nexport const signIn = (email, password) => (dispatch) => {\n  setSignUpError(null)\n  dispatch(setLoader('loaderSignIn'))\n  try {\n    dispatch(setUserData(\n      {\n        avatar,\n        id: 1,\n        fullName: 'Jack Bower',\n        displayName: 'tranmautritam',\n        steamLogin: 'JazzyJeff47',\n        location: 'Sai Gon City, Vietnam',\n        steamDisplayName: 'JazzyJeff47',\n        referralCode: '17SzawX79sw',\n        bonusMultiplayer: 3.5,\n      },\n      [\n        {id: 1, value: '536000', image: DarkCoin},\n        {id: 2, value: '1200', image: GoldenCoin},\n        {id: 3, value: '17', image: NftCoin},\n      ]),\n    );\n    dispatch(setRedirect('/dashboard'));\n  } catch (e) {\n    // set name field and error message\n    dispatch(setSignInError({name: 'password', text: 'Incorrect password'}))\n  } finally {\n    dispatch(clearLoader('loaderSignIn'))\n  }\n}\n```\n\nКак видим разница весьма ощутимая благодаря __redux-thunk__ мы можем использовать в экшенах dispathc (useDispatch) что открывает кучу новых возможностей. \n\n## Взаимодействи с redux  в react-e\n### Что бы достать данные с хранилища следует прибегнуть к useSelector\n1. Иморти рукем его в компонент \n``` js \nimport {useSelector} from \"react-redux\";\n```\n2. Далее делаем что то вроде следуешего \n\n``` js \nconst step = useSelector(({Auth}) => Auth.activeStep)\n```\n\nuseSelector принимает функцию где в аргументе указывается название \"объекта в хранилище\",\nа далее указываем какую конкретно часть нам надо джостать и ложем это в виде объекта в константу.\n\n### Что бы менять содержимое нам нужен useDispatch\n1. Иморти рукем его в компонент \n``` js \nimport {useDispatch} from 'react-redux';\n```\n2. Далее ложим этот хук в константу \n``` js\nconst dispatch = useDispatch();\n```\n3. И после мы это дело вызываем и передаем туда интерисующий нас __экшен__ которому мы можем передавать нужные нам данные. Глянем как это делается в примере.\n```js \ndispatch(openAlert({\n      text: \"Text copied\",\n      severity: \"success\",\n      anchor: {vertical: 'bottom', horizontal: 'right'}\n    }))\n```\n\n## Вывод\nВот в общем то и все что я считаю на данном этапе мне стоит знать о редаксе. Повторюсь redux в первую очередь это хранилище данных доступное всему приложению. ",
      "message": "",
      "created": "2021-05-13T16:59:09.017Z",
      "creators": [
        {
          "id": "b0568c88-bb34-4420-969e-41238089a0d4",
          "uniqueName": "google#113467622262670857280",
          "displayName": "Alexander Matviienko",
          "createdAt": "2021-05-10T19:50:11.968Z",
          "updatedAt": "2021-05-10T19:50:31.732Z"
        }
      ]
    }
  },
  {
    "id": "a113e36c-f1fa-4c91-839a-2bb80c495aa2",
    "emoji": null,
    "title": "Модальные окна",
    "content": "",
    "headId": 465896,
    "archivedAt": null,
    "folderPathname": "/TAR",
    "parentFolderId": "91c44f7a-5a17-4f1a-9c34-d0bcdd49cd39",
    "teamId": "nhFMY3a5g",
    "generated": false,
    "createdAt": "2021-05-13T13:30:39.225Z",
    "updatedAt": "2021-09-28T16:29:20.570Z",
    "version": 14,
    "userId": null,
    "workspaceId": "a26b69f4-c521-4719-9766-2da1c713b767",
    "head": {
      "id": 465896,
      "docId": "a113e36c-f1fa-4c91-839a-2bb80c495aa2",
      "content": "# Модальные окна \nЗа основу взяты модальные окна с materialUi. \n   Принцип работы следующий. Создается один компонент в который при вызове прокидываются данные из store-redux. Теперь разберем это на примерах.\n   ### 1. Redux store\n1. Reduce \n\n```js\nlet initialState = {\n  data: null,//Сюда с помощью actions прокидывается контент, если он тут есть, значит //data = true и окно вызывается, если нет то data = null = false и окно закрывается  \n}\n//Здесь actions обрабатываются\nconst ModalReducer = (state = initialState, action) => {\n  switch(action.type){\n    case OPEN_MODAL:\n      return {\n        ...state,\n        data: action.data\n      }\n\n    case CLOSE_MODAL:\n      return {\n        ...state,\n        data: null\n      }\n    default:\n      return state;\n  }\n}\n\n\nexport default ModalReducer;\n```\n\n Actions\nа вот и сами экшены, которые заносят и убарют из store контент для модалок\n```js\nimport {CLOSE_MODAL, OPEN_MODAL} from \"./types\";\n\nexport const openModal = (data) => {//Экшен при вызове окна, его задача прокинуть контент\n  return {\n    type: OPEN_MODAL,\n    data\n  }\n}\n\nexport const closeModal = () => {//Экшен закртия окна, его задача убрать контет \n  return {\n    type: CLOSE_MODAL\n  }\n}\n\n\n\n```\n   ### 2. Компонент \n   Это сам компонент модалки\n```js\nconst ModalContainer = () => {\n  const dispatch = useDispatch()\n  const state = useSelector(({Modal}) => Modal.data)//Контет проброшенный из store\n\n  const closeHandler = () => {//функция закртия окна \n    state.closeHandler && state.closeHandler()\n    dispatch(closeModal())//Спомощью dispatch вызывваем экшен, который убирает контет из\n    //store следжовательно data=null=false окно закрывается\n  }\n\n//Здесь объект контента распреджеляется по компонентам модалки\n  return (\n    <Dialog\n      open={!!state}\n      onClose={closeHandler}\n    >\n      {state && (\n        <>\n          <ButtonClose onClick={closeHandler}>\n            <Close/>\n          </ButtonClose>\n\n          <ModalBody title={state.header} values={state.values}/>\n\n          <DialogActions>\n            {state.closeButton && (\n              <WhiteButton onClick={failedHandler}>\n                Close\n              </WhiteButton>\n            )}\n\n            {state.Confirm && (\n              <WhiteButton onClick={closeHandler}>\n                Close\n              </WhiteButton>\n            )}\n            <Button onClick={successHandler} className={style.button}>\n              {state.successButton ?? \"Confirm\"}\n            </Button>\n          </DialogActions>\n        </>\n      )}\n    </Dialog>\n  )\n}\n``` \nи \n\n```js\nconst ModalBody = React.memo(({title, values = []}) => (\n  <>\n    <DialogTitle>{title}</DialogTitle>\n    {!!values.length && (\n      <DialogContent>\n        <DialogText>\n          {Array.isArray(values) ?\n            values.map((el, i) => (<div key={el + i}>{el}</div>)) :\n            <div>{values}</div>}\n        </DialogText>\n      </DialogContent>\n    )}\n  </>\n))\n```\n   \n\n\n### 3. Dispatch\n```js\n  const MintHandler = (id) => {//Функция вызова модалки \n    dispatch(openModal({//Которая за счет dispatch который вызывает экшен\n      //прокидывает объект с контетом в store следовательно data = true \n      header: `Are you sure`,\n      closeButton: true,\n      values: [\"Are you sure you would like to mint this NFT?\", \"This process is irreversible and will open your cryptocurrency wallet.\"],\n      successHandler: CongratulationsHandler,\n      delay: 200,\n    }))\n  }\n```\nВешаем вызов окна на компонент\n``` js\n//Здесь пример как функция вызова вешается на кнопку при клике\n<ActionsButton  onClick={() => auth && MintHandler({id})} bgc={btnColor}/>\n```\n\n### 4. App.js\nЧто бы модалка могла вызыватся, в любом месте ее надо вынести в App.js (это логично так\nкак это по сути родительский компонент) \n```js\nconst App = () => {\n  return (\n    <BrowserRouter>\n      <UseScrollToTop />\n      <UseRedirect />\n      <ThemeProvider theme={theme}>\n        <Route exact path=\"/sign-up\" render={() => <SignUp />}/>\n        <Route path=\"/sign-up/steps\" render={() => <SignUpSteps />}/>\n        <Route exact path=\"/sign-in\" render={() => <SignIn />}/>\n        <ModalContainer />\n        <ModalContainer/>\n        <AlertContainer />\n      </ThemeProvider>\n    </BrowserRouter>\n  );\n}\n```\n\nP.S. Это построено на основе модалки material ui в других условия я подозреваю для вызова надо добавить еще кое что. ",
      "message": "",
      "created": "2021-05-13T14:32:52.007Z",
      "creators": [
        {
          "id": "b0568c88-bb34-4420-969e-41238089a0d4",
          "uniqueName": "google#113467622262670857280",
          "displayName": "Alexander Matviienko",
          "createdAt": "2021-05-10T19:50:11.968Z",
          "updatedAt": "2021-05-10T19:50:31.732Z"
        }
      ]
    }
  },
  {
    "id": "11a96505-0ded-4d31-86e3-6c5ad0250d4e",
    "emoji": null,
    "title": "useHistory",
    "content": "",
    "headId": 779697,
    "archivedAt": null,
    "folderPathname": "/React/React Router/Хуки",
    "parentFolderId": "e8c09fe9-6d10-4e7e-8e77-2587c7fbf841",
    "teamId": "nhFMY3a5g",
    "generated": false,
    "createdAt": "2021-05-13T10:59:59.869Z",
    "updatedAt": "2021-07-06T11:19:10.675Z",
    "version": 30,
    "userId": null,
    "workspaceId": "4ae225f9-123d-4918-a49f-e0c91bd0b18a",
    "head": {
      "id": 779697,
      "docId": "11a96505-0ded-4d31-86e3-6c5ad0250d4e",
      "content": "# useHistory\n \n history это один из двух пакетов используемых Routom.  \n history это объект который имеет следующие свойства и методы \n 1. length - (число) Количество записей в стеке истории. \n 2. action - (строка) текущее действие ( PUSH, REPLACE или POP)\n 3. location - (объект) Текущее местоположение. Может иметь следующие свойства: \n      1. pathname - (строка) Путь к URL \n      2. search - (строка) Строка запроса URL \n      3. hash - (строка) Хеш-фрагмент URL\n      4. state- (объект) состояние, зависящее от местоположения, которое было предоставлено, например, push(path, state)когда это местоположение было помещено в стек. Доступно только в браузере и истории памяти.\n4. push(path, [state]) - (функция) Помещает новую запись в стек истории _Через эту функцию передается адресс прехода на страницу_\n5. replace(path, [state]) - (функция) Заменяет текущую запись в стеке истории.\nКароче говоря просто заменяет надпись в адресной строке на переданную в методе\n7. go(n) - (функция) Перемещает указатель в стеке истории по nзаписям\n8. goBack() - (функция) Эквивалентно go(-1)\n9. goForward() - (функция) Эквивалентно go(1)\n10. block(prompt)- (функция) Запрещает навигацию\n\n    Вот такой замечательный объект, для работы с ним мне надо положить в переменную результат вызова useHistory\n    \n```js \n  const history = useHistory()\n```\n\n## Теперь можно разобрать как оно работает в проекте\n\nЗавязано оно все на созданном хуке useRedirect \n```js\nexport default function UseRedirect() {\n  const history = useHistory()//уже знакомый объект history\n  const redirect = useSelector(({Redirect}) => Redirect.to)//отсюда приходят адреса из redux-store\n  const dispatch = useDispatch() \n\n  useEffect(() => {\n    if (redirect) {//Дополнительная проверка на наличие этого самого адресса\n      history.push(redirect)//за счте этого метода происходит редирект\n    }\n    \n    dispatch(clearRedirect())\n  }, [redirect]) //если есть какие либо изминения в store куда прокидываются адреса тогда срабатывает хук\n\n  return <></>;\n}\n```\n\n## Вывод \nПо сути редирект тут происходит следующим образом \nесть хранилище куда при определнных ситуациях прокидывается адресс, за этим хранилищем следит хук, который в случае если там этот адресс появляется закидывает его в history и таким образом происходит ридект на опрделенную страницу, при условии конечно если она существует.\n",
      "message": "",
      "created": "2021-07-06T11:00:56.652Z",
      "creators": [
        {
          "id": "b0568c88-bb34-4420-969e-41238089a0d4",
          "uniqueName": "google#113467622262670857280",
          "displayName": "Alexander Matviienko",
          "createdAt": "2021-05-10T19:50:11.968Z",
          "updatedAt": "2021-05-10T19:50:31.732Z"
        }
      ]
    }
  },
  {
    "id": "a2aedc9f-9c3f-4393-85f7-1094a312db87",
    "emoji": null,
    "title": "Аутинтификация на React Redax Thunk",
    "content": "",
    "headId": 465784,
    "archivedAt": null,
    "folderPathname": "/TAR",
    "parentFolderId": "91c44f7a-5a17-4f1a-9c34-d0bcdd49cd39",
    "teamId": "nhFMY3a5g",
    "generated": false,
    "createdAt": "2021-05-13T07:56:01.421Z",
    "updatedAt": "2021-09-28T16:29:20.570Z",
    "version": 18,
    "userId": null,
    "workspaceId": "a26b69f4-c521-4719-9766-2da1c713b767",
    "head": {
      "id": 465784,
      "docId": "a2aedc9f-9c3f-4393-85f7-1094a312db87",
      "content": "# Аутинтификация на React, Redux, Thunk.\n\nБольшая частьлогики аутинтификации просиходит в Readux. React компоненты по сути только посылают запрос в Redux и принимают результат выполненной в нутри него логики.\n## Сейчас разберем это пошагово:\n\nПосле вводимых пользователем логина и пароля и нажатии кнопки входа срабатывает следующий код: \n```js\nconst formSubmit = (e) => {\n    e.preventDefault()\n    dispatch(signIn(values.name, values.password))\n  }\n```\nКоторый передает в action signIn эти самые логин и пароль. \nВот что представляет из себя эта функция:\n```js \nexport const signIn = (email, password) => (dispatch) => {\n  dispatch(setSignUpError(null))\n  dispatch(setLoader('loaderSignIn'))//Запуск Loader-a\n\n  try {\n    // logic backEnd\n    // throw new Error()\n    dispatch(successAuth()//Авторизируем пользователя\n    dispatch(setRedirect('/dashboard'))//Перенаправляем на главную страницу\n  } catch (e) {//Если же не выходит\n    dispatch(setSignInError({name: 'password', text: 'Incorrect password'}))//Выставляем ошибку\n  } finally {\n    dispatch(clearLoader('loaderSignIn'))//В любом случае выключаем Loader\n  }\n}\n\n```\nПервое на что тут стоит обратить внимание это на передачу dispatch аргументом. Здесь используются redux-thunk. \nRedux-thunk позволяет нам помимо простых объектов диспатчить (прокидывать в стор) еще и функции которые затем я могу ииспользовать в том же action. Для того что бы они заработали их надо импортировать в store.js\n\n```js\nimport thunkMiddleware from 'redux-thunk';\n```\n\nИ так выходит что мы создали функцию куда прокинули почту и пароль, которая возвращает анонимную функцию в которую мы так же прокинули dispatch\n\n\n## Вывод:\nПо сути  данный способ авторизации заключается в запуске лоадера, прокидывания данных,  выставлении в store флажка авторизации на true и пользователю становятся доступны некоторые компоненты. Реализовано оно таким кодом:\n```js \n {auth && (//если флажок стоит в true то рендерится определенный контент\n        <>\n          <HeaderBinance>\n\n          </HeaderBinance>\n        </>\n      )}\n```\n\n\n\n\n\n",
      "message": "",
      "created": "2021-05-13T13:29:42.603Z",
      "creators": [
        {
          "id": "b0568c88-bb34-4420-969e-41238089a0d4",
          "uniqueName": "google#113467622262670857280",
          "displayName": "Alexander Matviienko",
          "createdAt": "2021-05-10T19:50:11.968Z",
          "updatedAt": "2021-05-10T19:50:31.732Z"
        }
      ]
    }
  },
  {
    "id": "4c42a5ab-77eb-40c2-ac25-7e52288065a0",
    "emoji": null,
    "title": "Короткий цикл вычеслений",
    "content": "",
    "headId": 471672,
    "archivedAt": null,
    "folderPathname": "/TAR",
    "parentFolderId": "91c44f7a-5a17-4f1a-9c34-d0bcdd49cd39",
    "teamId": "nhFMY3a5g",
    "generated": false,
    "createdAt": "2021-05-12T17:11:07.425Z",
    "updatedAt": "2021-09-28T16:29:20.570Z",
    "version": 25,
    "userId": null,
    "workspaceId": "a26b69f4-c521-4719-9766-2da1c713b767",
    "head": {
      "id": 471672,
      "docId": "4c42a5ab-77eb-40c2-ac25-7e52288065a0",
      "content": "# Короткие циклы логических вычеслений\n\n## Использование оператора \"!!\" для конвертации в логическое значение\n\nПо сути все в JS-е можно привести к boolen значению. Но можно задать это явно, что по сути облегчит работу JS-у. Делается эжто при помощи постановки \"!!\" перед значением которое нам надо \"привести\" к boolen. \n\n### Пример: \n\n``` js \nconst a = 'gwegw'\nconsole.log(a) // выведет: gwegw\n//Но\nconsole.log(!!a) // выведет: true\n//Точно так же как \nlet b = null\nconsole.log(b) // выведет: null\n//Но\nconsole.log(!!b) // выведет: false\n```\n\n## Определение значения по умолчанию с оператором \"||\"\n\n\"||\" можно так же применять в отдельности от стандартных условных конструкци (if else и тернарников). Проще всего это разобрать на примере \n### Пример:\n\n``` js\nfunction setAge(age) {\n  this.age = age || 10 // Здесь в this.age запишется первое истинное выражение в \n  //конструкции age || 10. То есть мы говорим JS-у: запиши в this.age age, если же age не задано то запиши 10.\n  // данная запись эквивалентна:\n  this.age = age ? age : 10 \n} \n// И в результате \n\nconsole.log(setAge()) // вернет 10 \n\n//а \n\nconsole.log(setAge(20)) // вернет 20\n```\n\nПо сути преимущество данного синтаксиса в создании более лаконичен \n\n## Опциональная цепочка\n\n\"?\" Поставленный перед значением возвращает undefined если это значение содержит в себе \nundefined или null. Что в результате исбавляет нас от ошибки и позволяет коду дальше выполнятся. \n \n ``` js \nlet user = {}; // пользователь без адреса\n\nalert( user?.address?.street ); // undefined (без ошибки)\n```\n\nПо сути эта штука нужна чтобы избежать ошибок в коде, как я понял такая практика может понадобится весьма редко.\n\n## Короткая запись проверки значкения на истинность \n\nПривожу пример\n```js \n{tab === 0 && (<>Open a pack now</>)}\n```\n\nДанная конструкция говорит, \"Мол, если tab === 0 то тогда выполни следующие действия\"\nФигурные скобки здесь так как, в них записывается js код в jsx. Круглые скобки указывают что надо вернуть, если выражение истинно.\n\n## Установка true, в свойство компонента\n\nКак всегда пример\n\n```js\n<HuntBtnTabs active={i === tab}/>\n```\nЗдесь стоит обратить внимание на ``` active={i === tab}```, здесь выходит такое выражение: \"Если i равно tab, то положи true в свойство active.\n\n## switch case для jsx\n\n```js\n      {tab === 0 && (<>window</>)}\n      {tab === 1 && (<>windowTwo</>)}\n      {tab === 2 && (<>windowThree</>)}\n      {tab === 3 && (<>windowFour</>)}\n```\n\nДанная конструкция говорит если tab равно 0 выведи <>window</>, если tab равно 1 выведи\n<>windowTwo</> и так далее. Очень удобно, когда мне надо коротко записать вывод каких либо компонетов в зависимости от конкретного состояния ",
      "message": "",
      "created": "2021-05-15T10:44:17.904Z",
      "creators": [
        {
          "id": "b0568c88-bb34-4420-969e-41238089a0d4",
          "uniqueName": "google#113467622262670857280",
          "displayName": "Alexander Matviienko",
          "createdAt": "2021-05-10T19:50:11.968Z",
          "updatedAt": "2021-05-10T19:50:31.732Z"
        }
      ]
    }
  },
  {
    "id": "9e319ee8-53b0-4954-92aa-e38a97ffa670",
    "emoji": null,
    "title": "Условные выражения в styled-component",
    "content": "",
    "headId": 462937,
    "archivedAt": null,
    "folderPathname": "/TAR",
    "parentFolderId": "91c44f7a-5a17-4f1a-9c34-d0bcdd49cd39",
    "teamId": "nhFMY3a5g",
    "generated": false,
    "createdAt": "2021-05-12T12:02:07.717Z",
    "updatedAt": "2021-09-28T16:29:20.570Z",
    "version": 8,
    "userId": null,
    "workspaceId": "a26b69f4-c521-4719-9766-2da1c713b767",
    "head": {
      "id": 462937,
      "docId": "9e319ee8-53b0-4954-92aa-e38a97ffa670",
      "content": "Есть очень удобный плагин для реакта, \"styled-component\", который совмещает в себе scss и js. \n\nНиже приведен пример установки значений в css свойство в зависимости от определенных условий, в обычном if else и в тернарнике\n\n``` js \n&:after{ \n    content: ${(props) => {\n      if (props.error) {return  '5px'} else {return '10px'}\n    }};\n  \n  content: ${({error}) => error ? '5px' : '10'}px;\n}\n```\n\nПо сути в нужном мне свойстве вызывается функция, которая принимает в себя в качетсве аргумента объект фттрибутов компонента к которому эти стили и адресованы и в зависимости от ихних значений я и могу задавать свойства \n",
      "message": "",
      "created": "2021-05-12T17:08:55.044Z",
      "creators": [
        {
          "id": "b0568c88-bb34-4420-969e-41238089a0d4",
          "uniqueName": "google#113467622262670857280",
          "displayName": "Alexander Matviienko",
          "createdAt": "2021-05-10T19:50:11.968Z",
          "updatedAt": "2021-05-10T19:50:31.732Z"
        }
      ]
    }
  },
  {
    "id": "a7b659f5-da7e-4d09-99ce-19c409199e31",
    "emoji": null,
    "title": "\"Рациональная работа с компонентами\"",
    "content": "",
    "headId": 461970,
    "archivedAt": null,
    "folderPathname": "/TAR",
    "parentFolderId": "91c44f7a-5a17-4f1a-9c34-d0bcdd49cd39",
    "teamId": "nhFMY3a5g",
    "generated": false,
    "createdAt": "2021-05-11T10:23:38.927Z",
    "updatedAt": "2021-09-28T16:29:20.570Z",
    "version": 5,
    "userId": null,
    "workspaceId": "a26b69f4-c521-4719-9766-2da1c713b767",
    "head": {
      "id": 461970,
      "docId": "a7b659f5-da7e-4d09-99ce-19c409199e31",
      "content": "# Рациональное использование компонентов\n\nЧто бы сократить количество кода здорово помогает вынос группы повторяющихся компонентов в один отдельный компонент с возможностью передачи туда свойств.\n\nКак в примере ниже.\nЗдесь что бы не создавать портянку с инпутами. Этот самый инпут вынесен в отдельный компонент и все возможные значения атрибуттов вынесены в свойства.\n\n\n``` js\nexport const InputForm = ({handler, value, label, id, type = 'text', name, error, defaultValue = '', disableValue, children}) => (\n  <InputFormWrapper error={(error?.name === name) ? error.text : false}>\n    <LabelForm htmlFor={id || label}>{label}</LabelForm>\n    <FormInput id={id || label}\n               name={id || label}\n               onChange={handler}\n               value={value}\n               type={type}\n               error={error?.name === name}\n               defaultValue={defaultValue}\n               disabled={disableValue}/>\n    {children}\n  </InputFormWrapper>\n)\n```\n\nВ дальнейшем что бы создать инпут мне надо вызвать вышесозданный компонент и прокинуть туда свойства, которые подставятся в значения аттрибутов.\n\n```js \n<InputForm label=\"Your Full Name\" value={values.fullName} defaultValue={user.fullName} handler={handler('fullName')} name=\"fullName\"/>\n\n```",
      "message": "",
      "created": "2021-05-12T12:00:44.228Z",
      "creators": [
        {
          "id": "b0568c88-bb34-4420-969e-41238089a0d4",
          "uniqueName": "google#113467622262670857280",
          "displayName": "Alexander Matviienko",
          "createdAt": "2021-05-10T19:50:11.968Z",
          "updatedAt": "2021-05-10T19:50:31.732Z"
        }
      ]
    }
  },
  {
    "id": "babc1209-b74b-4f2c-93fd-6af191510258",
    "emoji": null,
    "title": "Работа с обектом в  useState",
    "content": "",
    "headId": 458300,
    "archivedAt": null,
    "folderPathname": "/TAR",
    "parentFolderId": "91c44f7a-5a17-4f1a-9c34-d0bcdd49cd39",
    "teamId": "nhFMY3a5g",
    "generated": false,
    "createdAt": "2021-05-11T07:33:34.110Z",
    "updatedAt": "2021-09-28T16:29:20.570Z",
    "version": 16,
    "userId": null,
    "workspaceId": "a26b69f4-c521-4719-9766-2da1c713b767",
    "head": {
      "id": 458300,
      "docId": "babc1209-b74b-4f2c-93fd-6af191510258",
      "content": "# Работа с объектом в useState\nЧто бы не плодить __state-ы__ как показано в примере ниже\n``` js \n      const [pass, setPasss] = useState(value)\n      const [name, setName] = useState(value)\n  ```\nМожно сохранить целый объект (в дальнейшем __state-obj__) в useState как показано ниже \n\n``` js \n      const [values, setValues] = useState({\n    name: '',\n    password: '',\n  })\n  ```\n\nИ далее для работы (изменния) с ним мне следует применть следующую функцию\n\n``` js \n       const handler = (name) => (e) => {\n    setValues(prev => ({...prev, [name]: e.target.value}))\n  }\n```\n---\n### Разбор:\n\n1. Создание стрелочной функции которая принимает название свойства __state-obj__ которое мне надо изменить.\n``` js \n       const handler = (name) => \n```\n3. Идет создание следлующей функции которая в качестве аргумента принимает __event__.    _Интересный момент так как в родительской функции этого аргумента нет, но js понимает что это за event_\n``` js \n(e) => {\n  }\n```\n5. И эта функция вызывает функцию изменеия  __state-а__ где в качестве аргумента вызывается __state-obj__\n``` js \n    setValues(prev => ())\n```\n7. В теле этой функци мы проворачиваем такой же фокус как и в __redax-reducer__  То есть возвращаем объект в нутри которого разворачивам с помощь __спред опретора__ и устанавливам в этом разобранном объекте нужному свойству нужное значение \n``` js \n => ({...prev, [name]: e.target.value})\n   ```\n   ---\n### Вот ее использование:\n\n``` js \n      <InputForm label=\"Password\"\n      type=\"password\"\n      value={values.password} //вывод значений  \n      handler={handler('password')}//вызов функции которая их меняет \n      name=\"password\"/>\n  ```\n\n",
      "message": "",
      "created": "2021-05-11T08:28:35.028Z",
      "creators": [
        {
          "id": "b0568c88-bb34-4420-969e-41238089a0d4",
          "uniqueName": "google#113467622262670857280",
          "displayName": "Alexander Matviienko",
          "createdAt": "2021-05-10T19:50:11.968Z",
          "updatedAt": "2021-05-10T19:50:31.732Z"
        }
      ]
    }
  }
]
